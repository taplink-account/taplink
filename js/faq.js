(function(){"use strict";var t;function i(e,n,t){null==t&&(t={}),this.form=e,this.callback=n,this.settings=$mx.extend({},i.settings,t),this.observe()}i.settings={interval:800},i.prototype.observe=function(){var e=this,n=$mx(this.form.elements).filter(function(e,n){return $mx(this).data("observe-skip")?0:1});return n.change(function(){return e.modified=new Date}),n.keypress(function(){return e.modified=new Date}),n.keydown(function(){return e.modified=new Date}),this.every(this.settings.interval,function(){return null!=e.modified&&e.callback.call(e.form),delete e.modified})},i.prototype.every=function(e,n){return setInterval(n,e)},t=i,$mx.fn.formObserve=function(e,n){return null==n&&(n={}),this.each(function(){return new t(this,e,n)})}}).call(this),$mx.observe("#faqForm",function(e){function n(){var n=s.val().trim();i.addClass("is-hidden"),n?(t.addClass("is-hidden"),e.find(".menu").addClass("disabled"),s.parent().addClass("is-loading"),$mx.post("",{query:$mx("#faqSearchQuery").val(),action:"search"}).then(function(e){r.html(e),s.parent().removeClass("is-loading"),n&&i.removeClass("is-hidden")})):(t.removeClass("is-hidden"),e.find(".menu").removeClass("disabled"),r.html(""))}var t=$mx("#faqContainer"),i=e.find(".form-control-feedback"),r=$mx("#filterPlace"),s=$mx("#faqSearchQuery");i.on("click",function(){s.val(""),n()}),e.formObserve(n)});
