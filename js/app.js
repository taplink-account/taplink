!var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function date_format(e,t){function i(e,t){return a[e]?a[e]():t}function n(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}var s,a,o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],r=/\\?(.?)/gi;a={d:function(){return n(a.j(),2)},D:function(){return a.l().slice(0,3)},j:function(){return s.getDate()},l:function(){return o[a.w()]+"day"},N:function(){return a.w()||7},S:function(){var e=a.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return s.getDay()},z:function(){var e=new Date(a.Y(),a.n()-1,a.j()),t=new Date(a.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(a.Y(),a.n()-1,a.j()-a.N()+3),t=new Date(e.getFullYear(),0,4);return n(1+Math.round((e-t)/864e5/7),2)},F:function(){return o[6+a.n()]},m:function(){return n(a.n(),2)},M:function(){return a.F().slice(0,3)},n:function(){return s.getMonth()+1},t:function(){return new Date(a.Y(),a.n(),0).getDate()},L:function(){var e=a.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=a.n(),t=a.W();return a.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return s.getFullYear()},y:function(){return a.Y().toString().slice(-2)},a:function(){return 11<s.getHours()?"pm":"am"},A:function(){return a.a().toUpperCase()},B:function(){var e=3600*s.getUTCHours(),t=60*s.getUTCMinutes(),i=s.getUTCSeconds();return n(Math.floor((e+t+i+3600)/86.4)%1e3,3)},g:function(){return a.G()%12||12},G:function(){return s.getHours()},h:function(){return n(a.g(),2)},H:function(){return n(a.G(),2)},i:function(){return n(s.getMinutes(),2)},s:function(){return n(s.getSeconds(),2)},u:function(){return n(1e3*s.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(a.Y(),0)-Date.UTC(a.Y(),0)!=new Date(a.Y(),6)-Date.UTC(a.Y(),6)?1:0},O:function(){var e=s.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+n(100*Math.floor(t/60)+t%60,4)},P:function(){var e=a.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-s.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(r,i)},r:function(){return"D, d M Y H:i:s O".replace(r,i)},U:function(){return s/1e3|0}};var l,c;return l=e,s=void 0===(c=t)?new Date:c instanceof Date?new Date(c):new Date(1e3*c),l.replace(r,i)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e=e||self).Buefy={},e.Vue)}(this,function(e,a){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)})(e)}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(t,e){var i=Object.keys(t);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t)),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(i,!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function t(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){return t.split(".").reduce(function(e,t){return e?e[t]:null},e)}function l(e,t,i){if(!e)return-1;if(!i||"function"!=typeof i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(e[n],t))return n;return-1}a=a&&a.hasOwnProperty("default")?a.default:a;function c(e){return"object"===i(e)&&!Array.isArray(e)}var d=function t(i,n){var e=Object.getOwnPropertyNames(n).map(function(e){return s({},e,function(e){return c(n[e])&&i.hasOwnProperty(e)&&c(i[e])}(e)?t(i[e],n[e]):n[e])}).reduce(function(e,t){return o({},e,{},t)},{});return o({},i,{},e)},u={Android:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/Android/i)},BlackBerry:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/IEMobile/i)},any:function(){return u.Android()||u.BlackBerry()||u.iOS()||u.Opera()||u.Windows()}};function p(e){void 0!==e.remove?e.remove():void 0!==e.parentNode&&e.parentNode.removeChild(e)}function h(e){m=e}function f(){var e=v&&v.defaultIconComponent?"":"fa-";return{sizes:{default:e+"lg","is-small":null,"is-medium":e+"2x","is-large":e+"3x"},iconPrefix:e,internalIcons:{information:"info-circle",alert:"exclamation-triangle","alert-circle":"exclamation-circle","chevron-right":"angle-right","chevron-left":"angle-left","chevron-down":"angle-down","eye-off":"eye-slash","menu-down":"caret-down","menu-up":"caret-up"}}}var m={defaultContainerElement:null,defaultIconPack:"mdi",defaultIconComponent:null,defaultIconPrev:"chevron-left",defaultIconNext:"chevron-right",defaultDialogConfirmText:null,defaultDialogCancelText:null,defaultSnackbarDuration:3500,defaultSnackbarPosition:null,defaultToastDuration:2e3,defaultToastPosition:null,defaultNotificationDuration:2e3,defaultNotificationPosition:null,defaultTooltipType:"is-primary",defaultTooltipAnimated:!1,defaultTooltipDelay:0,defaultInputAutocomplete:"on",defaultDateFormatter:null,defaultDateParser:null,defaultDateCreator:null,defaultDayNames:null,defaultMonthNames:null,defaultFirstDayOfWeek:null,defaultUnselectableDaysOfWeek:null,defaultTimeFormatter:null,defaultTimeParser:null,defaultModalCanCancel:["escape","x","outside","button"],defaultModalScroll:null,defaultDatepickerMobileNative:!0,defaultTimepickerMobileNative:!0,defaultNoticeQueue:!0,defaultInputHasCounter:!0,defaultTaginputHasCounter:!0,defaultUseHtml5Validation:!0,defaultDropdownMobileModal:!0,defaultFieldLabelPosition:null,defaultDatepickerYearsRange:[-100,3],defaultDatepickerNearbyMonthDays:!0,defaultDatepickerNearbySelectableMonthDays:!1,defaultDatepickerShowWeekNumber:!1,defaultTrapFocus:!1,defaultButtonRounded:!1,customIconPacks:null},v=m,g={props:{size:String,expanded:Boolean,loading:Boolean,rounded:Boolean,icon:String,iconPack:String,autocomplete:String,maxlength:[Number,String],useHtml5Validation:{type:Boolean,default:function(){return v.defaultUseHtml5Validation}},validationMessage:String},data:function(){return{isValid:!0,isFocused:!1,newIconPack:this.iconPack||v.defaultIconPack}},computed:{parentField:function(){for(var e=this.$parent,t=0;t<3;t++)e&&!e.$data._isField&&(e=e.$parent);return e},statusType:function(){if(this.parentField&&this.parentField.newType){if("string"==typeof this.parentField.newType)return this.parentField.newType;for(var e in this.parentField.newType)if(this.parentField.newType[e])return e}},statusMessage:function(){if(this.parentField)return this.parentField.newMessage},iconSize:function(){switch(this.size){case"is-small":return this.size;case"is-medium":return;case"is-large":return"mdi"===this.newIconPack?"is-medium":""}}},methods:{focus:function(){var t=this;void 0!==this.$data._elementRef&&this.$nextTick(function(){var e=t.$el.querySelector(t.$data._elementRef);e&&e.focus()})},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e),this.checkHtml5Validity()},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},getElement:function(){return this.$el.querySelector(this.$data._elementRef)},setInvalid:function(){var e=this.validationMessage||this.getElement().validationMessage;this.setValidity("is-danger",e)},setValidity:function(e,t){var i=this;this.$nextTick(function(){i.parentField&&(i.parentField.type||(i.parentField.newType=e),i.parentField.message||(i.parentField.newMessage=t))})},checkHtml5Validity:function(){if(this.useHtml5Validation&&void 0!==this.$refs[this.$data._elementRef])return this.getElement().checkValidity()?(this.setValidity(null,null),this.isValid=!0):(this.setInvalid(),this.isValid=!1),this.isValid}}},b={sizes:{default:"mdi-24px","is-small":null,"is-medium":"mdi-36px","is-large":"mdi-48px"},iconPrefix:"mdi-"};function y(e){"undefined"!=typeof window&&window.Vue&&window.Vue.use(e)}function k(e,t){e.component(t.name,t)}function w(e,t,i){e.prototype.$buefy||(e.prototype.$buefy={}),e.prototype.$buefy[t]=i}var x=function(e,t,i,n,s,a,o,r,l,c){"boolean"!=typeof o&&(l=r,r=o,o=!1);var d,u="function"==typeof i?i.options:i;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),n&&(u._scopeId=n),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=d):t&&(d=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),d)if(u.functional){var p=u.render;u.render=function(e,t){return d.call(t),p(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return i},_=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon",class:[e.newType,e.size]},[e.useIconComponent?i(e.useIconComponent,{tag:"component",class:[e.customClass],attrs:{icon:[e.newPack,e.newIcon],size:e.newCustomSize}}):i("i",{class:[e.newPack,e.newIcon,e.newCustomSize,e.customClass]})],1)},staticRenderFns:[]},void 0,{name:"BIcon",props:{type:[String,Object],component:String,pack:String,icon:String,size:String,customSize:String,customClass:String,both:Boolean},computed:{iconConfig:function(){return function(){var e={mdi:b,fa:f(),fas:f(),far:f(),fad:f(),fab:f(),fal:f()};return v&&v.customIconPacks&&(e=d(e,v.customIconPacks)),e}()[this.newPack]},iconPrefix:function(){return this.iconConfig&&this.iconConfig.iconPrefix?this.iconConfig.iconPrefix:""},newIcon:function(){return"".concat(this.iconPrefix).concat(this.getEquivalentIconOf(this.icon))},newPack:function(){return this.pack||v.defaultIconPack},newType:function(){if(this.type){var e=[];if("string"==typeof this.type)e=this.type.split("-");else for(var t in this.type)if(this.type[t]){e=t.split("-");break}if(!(e.length<=1))return"has-text-".concat(e[1])}},newCustomSize:function(){return this.customSize||this.customSizeByPack},customSizeByPack:function(){if(this.iconConfig&&this.iconConfig.sizes){if(this.size&&void 0!==this.iconConfig.sizes[this.size])return this.iconConfig.sizes[this.size];if(this.iconConfig.sizes.default)return this.iconConfig.sizes.default}return null},useIconComponent:function(){return this.component||v.defaultIconComponent}},methods:{getEquivalentIconOf:function(e){return this.both&&this.iconConfig&&this.iconConfig.internalIcons&&this.iconConfig.internalIcons[e]?this.iconConfig.internalIcons[e]:e}}},void 0,!1,void 0,void 0,void 0),C=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control",class:t.rootClasses},["textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"input",class:[t.inputClasses,t.customClass],attrs:{type:t.newType,autocomplete:t.newAutocomplete,maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"input",t.$attrs,!1)):i("textarea",t._b({ref:"textarea",staticClass:"textarea",class:[t.inputClasses,t.customClass],attrs:{maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"textarea",t.$attrs,!1)),t._v(" "),t.icon?i("b-icon",{staticClass:"is-left",attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize}}):t._e(),t._v(" "),t.loading||!t.passwordReveal&&!t.statusTypeIcon?t._e():i("b-icon",{staticClass:"is-right",class:{"is-clickable":t.passwordReveal},attrs:{icon:t.passwordReveal?t.passwordVisibleIcon:t.statusTypeIcon,pack:t.iconPack,size:t.iconSize,type:t.passwordReveal?"is-primary":t.statusType,both:""},nativeOn:{click:function(e){t.togglePasswordVisibility(e)}}}),t._v(" "),t.maxlength&&t.hasCounter&&"number"!==t.type?i("small",{staticClass:"help counter",class:{"is-invisible":!t.isFocused}},[t._v("\n        "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\n    ")]):t._e()],1)},staticRenderFns:[]},void 0,{name:"BInput",components:s({},_.name,_),mixins:[g],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},passwordReveal:Boolean,hasCounter:{type:Boolean,default:function(){return v.defaultInputHasCounter}},customClass:{type:String,default:""}},data:function(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||v.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){this.newValue=e,this.$emit("input",e),this.isValid||this.checkHtml5Validity()}},rootClasses:function(){return[this.iconPosition,this.size,{"is-expanded":this.expanded,"is-loading":this.loading,"is-clearfix":!this.hasMessage}]},inputClasses:function(){return[this.statusType,this.size,{"is-rounded":this.rounded}]},hasIconRight:function(){return this.passwordReveal||this.loading||this.statusTypeIcon},iconPosition:function(){return this.icon&&this.hasIconRight?"has-icons-left has-icons-right":!this.icon&&this.hasIconRight?"has-icons-right":this.icon?"has-icons-left":void 0},statusTypeIcon:function(){switch(this.statusType){case"is-success":return"check";case"is-danger":return"alert-circle";case"is-info":return"information";case"is-warning":return"alert"}},hasMessage:function(){return!!this.statusMessage},passwordVisibleIcon:function(){return this.isPasswordVisible?"eye-off":"eye"},valueLength:function(){return"string"==typeof this.computedValue?this.computedValue.length:"number"==typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value:function(e){this.newValue=e}},methods:{togglePasswordVisibility:function(){var e=this;this.isPasswordVisible=!this.isPasswordVisible,this.newType=this.isPasswordVisible?"text":"password",this.$nextTick(function(){e.$refs.input.focus()})},onInput:function(e){var t=this;this.$nextTick(function(){e.target&&(t.computedValue=e.target.value)})}}},void 0,!1,void 0,void 0,void 0),S=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"autocomplete control",class:{"is-expanded":i.expanded}},[n("b-input",i._b({ref:"input",attrs:{type:"text",size:i.size,loading:i.loading,rounded:i.rounded,icon:i.icon,"icon-pack":i.iconPack,maxlength:i.maxlength,autocomplete:i.newAutocomplete,"use-html5-validation":i.useHtml5Validation},on:{input:i.onInput,focus:i.focused,blur:i.onBlur},nativeOn:{keyup:function(e){if(!("button"in e)&&i._k(e.keyCode,"esc",27,e.key))return null;e.preventDefault(),i.isActive=!1},keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"tab",9,e.key))return null;i.tabPressed(e)},function(e){if(!("button"in e)&&i._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),i.enterPressed(e)},function(e){if(!("button"in e)&&i._k(e.keyCode,"up",38,e.key))return null;e.preventDefault(),i.keyArrows("up")},function(e){if(!("button"in e)&&i._k(e.keyCode,"down",40,e.key))return null;e.preventDefault(),i.keyArrows("down")}]},model:{value:i.newValue,callback:function(e){i.newValue=e},expression:"newValue"}},"b-input",i.$attrs,!1)),i._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.isActive&&(0<i.data.length||i.hasEmptySlot||i.hasHeaderSlot),expression:"isActive && (data.length > 0 || hasEmptySlot || hasHeaderSlot)"}],ref:"dropdown",staticClass:"dropdown-menu",class:{"is-opened-top":!i.isListInViewportVertically}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.isActive,expression:"isActive"}],staticClass:"dropdown-content"},[i.hasHeaderSlot?n("div",{staticClass:"dropdown-item"},[i._t("header")],2):i._e(),i._v(" "),i._l(i.data,function(e,t){return n("a",{key:t,staticClass:"dropdown-item",class:{"is-hovered":e===i.hovered},on:{click:function(){i.setSelected(e)}}},[i.hasDefaultSlot?i._t("default",null,{option:e,index:t}):n("span",[i._v("\n                        "+i._s(i.getValue(e,!0))+"\n                    ")])],2)}),i._v(" "),0===i.data.length&&i.hasEmptySlot?n("div",{staticClass:"dropdown-item is-disabled"},[i._t("empty")],2):i._e(),i._v(" "),i.hasFooterSlot?n("div",{staticClass:"dropdown-item"},[i._t("footer")],2):i._e()],2)])])],1)},staticRenderFns:[]},void 0,{name:"BAutocomplete",components:s({},C.name,C),mixins:[g],inheritAttrs:!1,props:{value:[Number,String],data:{type:Array,default:function(){return[]}},field:{type:String,default:"value"},keepFirst:Boolean,clearOnSelect:Boolean,openOnFocus:Boolean,customFormatter:Function},data:function(){return{selected:null,hovered:null,isActive:!1,newValue:this.value,newAutocomplete:this.autocomplete||"off",isListInViewportVertically:!0,hasFocus:!1,_isAutocomplete:!0,_elementRef:"input"}},computed:{whiteList:function(){var e=[];if(e.push(this.$refs.input.$el.querySelector("input")),e.push(this.$refs.dropdown),void 0!==this.$refs.dropdown){var t=this.$refs.dropdown.querySelectorAll("*"),i=!0,n=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var r=a.value;e.push(r)}}catch(e){n=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}}if(this.$parent.$data._isTaginput){e.push(this.$parent.$el);var l=this.$parent.$el.querySelectorAll("*"),c=!0,d=!1,u=void 0;try{for(var p,h=l[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var f=p.value;e.push(f)}}catch(e){d=!0,u=e}finally{try{c||null==h.return||h.return()}finally{if(d)throw u}}}return e},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer}},watch:{isActive:function(e){var t=this;e?this.calcDropdownInViewportVertical():(this.$nextTick(function(){return t.setHovered(null)}),setTimeout(function(){t.calcDropdownInViewportVertical()},100))},newValue:function(e){this.$emit("input",e);var t=this.getValue(this.selected);t&&t!==e&&this.setSelected(null,!1),!this.hasFocus||this.openOnFocus&&!e||(this.isActive=!!e)},value:function(e){this.newValue=e,this.isValid||this.$refs.input.checkHtml5Validity()},data:function(e){this.keepFirst&&this.selectFirstOption(e)}},methods:{setHovered:function(e){void 0!==e&&(this.hovered=e)},setSelected:function(e,t){var i=this,n=!(1<arguments.length&&void 0!==t)||t;void 0!==e&&(this.selected=e,this.$emit("select",this.selected),null!==this.selected&&(this.newValue=this.clearOnSelect?"":this.getValue(this.selected)),n&&this.$nextTick(function(){i.isActive=!1}))},selectFirstOption:function(e){var t=this;this.$nextTick(function(){e.length?(t.openOnFocus||""!==t.newValue&&t.hovered!==e[0])&&t.setHovered(e[0]):t.setHovered(null)})},enterPressed:function(){null!==this.hovered&&this.setSelected(this.hovered)},tabPressed:function(){null!==this.hovered?this.setSelected(this.hovered):this.isActive=!1},clickedOutside:function(e){this.whiteList.indexOf(e.target)<0&&(this.isActive=!1)},getValue:function(e){if(null!==e)return void 0!==this.customFormatter?this.customFormatter(e):"object"===i(e)?r(e,this.field):e},calcDropdownInViewportVertical:function(){var t=this;this.$nextTick(function(){if(void 0!==t.$refs.dropdown){var e=t.$refs.dropdown.getBoundingClientRect();t.isListInViewportVertically=0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}})},keyArrows:function(e){var t="down"===e?1:-1;if(this.isActive){var i=this.data.indexOf(this.hovered)+t;i=(i=i>this.data.length-1?this.data.length:i)<0?0:i,this.setHovered(this.data[i]);var n=this.$refs.dropdown.querySelector(".dropdown-content"),s=n.querySelectorAll("a.dropdown-item:not(.is-disabled)")[i];if(!s)return;var a=n.scrollTop,o=n.scrollTop+n.clientHeight-s.clientHeight;s.offsetTop<a?n.scrollTop=s.offsetTop:s.offsetTop>=o&&(n.scrollTop=s.offsetTop-n.clientHeight+s.clientHeight)}else this.isActive=!0},focused:function(e){this.getValue(this.selected)===this.newValue&&this.$el.querySelector("input").select(),this.openOnFocus&&(this.isActive=!0,this.keepFirst&&this.selectFirstOption(this.data)),this.hasFocus=!0,this.$emit("focus",e)},onBlur:function(e){this.hasFocus=!1,this.$emit("blur",e)},onInput:function(){var e=this.getValue(this.selected);e&&e===this.newValue||this.$emit("typing",this.newValue)}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),window.addEventListener("resize",this.calcDropdownInViewportVertical))},beforeDestroy:function(){"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),window.removeEventListener("resize",this.calcDropdownInViewportVertical))}},void 0,!1,void 0,void 0,void 0),$={install:function(e){k(e,S)}};y($);var T=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.tag,t._b({tag:"component",staticClass:"button",class:[t.size,t.type,{"is-rounded":t.rounded,"is-loading":t.loading,"is-outlined":t.outlined,"is-fullwidth":t.expanded,"is-inverted":t.inverted,"is-focused":t.focused,"is-active":t.active,"is-hovered":t.hovered,"is-selected":t.selected}],attrs:{type:t.nativeType},on:{click:function(e){t.$emit("click",e)}}},"component",t.$attrs,!1),[t.iconLeft?i("b-icon",{attrs:{pack:t.iconPack,icon:t.iconLeft,size:t.iconSize}}):t._e(),t._v(" "),t.label?i("span",[t._v(t._s(t.label))]):t.$slots.default?i("span",[t._t("default")],2):t._e(),t._v(" "),t.iconRight?i("b-icon",{attrs:{pack:t.iconPack,icon:t.iconRight,size:t.iconSize}}):t._e()],1)},staticRenderFns:[]},void 0,{name:"BButton",components:s({},_.name,_),inheritAttrs:!1,props:{type:[String,Object],size:String,label:String,iconPack:String,iconLeft:String,iconRight:String,rounded:{type:Boolean,default:function(){return v.defaultButtonRounded}},loading:Boolean,outlined:Boolean,expanded:Boolean,inverted:Boolean,focused:Boolean,active:Boolean,hovered:Boolean,selected:Boolean,nativeType:{type:String,default:"button",validator:function(e){return 0<=["button","submit","reset"].indexOf(e)}},tag:{type:String,default:"button",validator:function(e){return 0<=["button","a","input","router-link","nuxt-link","n-link","NuxtLink","NLink"].indexOf(e)}}},computed:{iconSize:function(){return this.size&&"is-medium"!==this.size?"is-large"===this.size?"is-medium":this.size:"is-small"}}},void 0,!1,void 0,void 0,void 0),D={install:function(e){k(e,T)}};y(D);var A=x({render:function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("label",{ref:"label",staticClass:"b-checkbox checkbox",class:[o.size,{"is-disabled":o.disabled}],attrs:{disabled:o.disabled},on:{click:o.focus,keydown:function(e){if(!("button"in e)&&o._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),o.$refs.label.click()}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:o.disabled,required:o.required,name:o.name,"true-value":o.trueValue,"false-value":o.falseValue},domProps:{indeterminate:o.indeterminate,value:o.nativeValue,checked:Array.isArray(o.computedValue)?-1<o._i(o.computedValue,o.nativeValue):o._q(o.computedValue,o.trueValue)},on:{click:function(e){e.stopPropagation()},change:function(e){var t=o.computedValue,i=e.target,n=i.checked?o.trueValue:o.falseValue;if(Array.isArray(t)){var s=o.nativeValue,a=o._i(t,s);i.checked?a<0&&(o.computedValue=t.concat([s])):-1<a&&(o.computedValue=t.slice(0,a).concat(t.slice(a+1)))}else o.computedValue=n}}}),o._v(" "),t("span",{staticClass:"check",class:o.type}),o._v(" "),t("span",{staticClass:"control-label"},[o._t("default")],2)])},staticRenderFns:[]},void 0,{name:"BCheckbox",props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],indeterminate:Boolean,type:String,disabled:Boolean,required:Boolean,name:String,size:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array],default:!1}},data:function(){return{newValue:this.value}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){this.newValue=e,this.$emit("input",e)}}},watch:{value:function(e){this.newValue=e}},methods:{focus:function(){this.$refs.input.focus()}}},void 0,!1,void 0,void 0,void 0),B=x({render:function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"control",class:{"is-expanded":o.expanded}},[t("label",{ref:"label",staticClass:"b-checkbox checkbox button",class:[o.checked?o.type:null,o.size,{"is-disabled":o.disabled,"is-focused":o.isFocused}],attrs:{disabled:o.disabled},on:{click:o.focus,keydown:function(e){if(!("button"in e)&&o._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),o.$refs.label.click()}}},[o._t("default"),o._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:o.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:o.disabled,required:o.required,name:o.name},domProps:{value:o.nativeValue,checked:Array.isArray(o.computedValue)?-1<o._i(o.computedValue,o.nativeValue):o.computedValue},on:{click:function(e){e.stopPropagation()},focus:function(){o.isFocused=!0},blur:function(){o.isFocused=!1},change:function(e){var t=o.computedValue,i=e.target,n=!!i.checked;if(Array.isArray(t)){var s=o.nativeValue,a=o._i(t,s);i.checked?a<0&&(o.computedValue=t.concat([s])):-1<a&&(o.computedValue=t.slice(0,a).concat(t.slice(a+1)))}else o.computedValue=n}}})],2)])},staticRenderFns:[]},void 0,{name:"BCheckboxButton",props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],disabled:Boolean,required:Boolean,expanded:Boolean,name:String,size:String,type:{type:String,default:"is-primary"}},data:function(){return{newValue:this.value,isFocused:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){this.newValue=e,this.$emit("input",e)}},checked:function(){return Array.isArray(this.newValue)?0<=this.newValue.indexOf(this.nativeValue):this.newValue===this.nativeValue}},watch:{value:function(e){this.newValue=e}},methods:{focus:function(){this.$refs.input.focus()}}},void 0,!1,void 0,void 0,void 0),F={install:function(e){k(e,A),k(e,B)}};y(F);var M=x({},void 0,{name:"BCollapse",props:{open:{type:Boolean,default:!0},animation:{type:String,default:"fade"},ariaId:{type:String,default:""},position:{type:String,default:"is-top",validator:function(e){return-1<["is-top","is-bottom"].indexOf(e)}}},data:function(){return{isOpen:this.open}},watch:{open:function(e){this.isOpen=e}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit("update:open",this.isOpen),this.$emit(this.isOpen?"open":"close")}},render:function(e){var t=e("div",{staticClass:"collapse-trigger",on:{click:this.toggle}},this.$scopedSlots.trigger?[this.$scopedSlots.trigger({open:this.isOpen})]:[this.$slots.trigger]),i=e("transition",{props:{name:this.animation}},[e("div",{staticClass:"collapse-content",attrs:{id:this.ariaId,"aria-expanded":this.isOpen},directives:[{name:"show",value:this.isOpen}]},this.$slots.default)]);return e("div",{staticClass:"collapse"},"is-top"===this.position?[t,i]:[i,t])}},void 0,void 0,void 0,void 0,void 0),P={install:function(e){k(e,M)}};y(P);var O,N,E="AM",z="PM",V="12",I={mixins:[g],inheritAttrs:!1,props:{value:Date,inline:Boolean,minTime:Date,maxTime:Date,placeholder:String,editable:Boolean,disabled:Boolean,hourFormat:{type:String,default:"24",validator:function(e){return"24"===e||e===V}},incrementMinutes:{type:Number,default:1},incrementSeconds:{type:Number,default:1},timeFormatter:{type:Function,default:function(e,t){return"function"==typeof v.defaultTimeFormatter?v.defaultTimeFormatter(e):function(e,t){var i=e.getHours(),n=e.getMinutes(),s=e.getSeconds(),a="";return t.hourFormat===V&&(a=" "+(i<12?E:z),12<i?i-=12:0===i&&(i=12)),t.pad(i)+":"+t.pad(n)+(t.enableSeconds?":"+t.pad(s):"")+a}(e,t)}},timeParser:{type:Function,default:function(e,t){return"function"==typeof v.defaultTimeParser?v.defaultTimeParser(e):function(e,t){if(e){var i=!1;if(t.hourFormat===V){var n=e.split(" ");e=n[0],i=n[1]===E}var s=e.split(":"),a=parseInt(s[0],10),o=parseInt(s[1],10),r=t.enableSeconds?parseInt(s[2],10):0;if(isNaN(a)||a<0||23<a||t.hourFormat===V&&(a<1||12<a)||isNaN(o)||o<0||59<o)return null;var l=null;return t.computedValue&&!isNaN(t.computedValue)?l=new Date(t.computedValue):(l=new Date).setMilliseconds(0),l.setSeconds(r),l.setMinutes(o),t.hourFormat===V&&(i&&12===a?a=0:i||12===a||(a+=12)),l.setHours(a),new Date(l.getTime())}return null}(e,t)}},mobileNative:{type:Boolean,default:function(){return v.defaultTimepickerMobileNative}},position:String,unselectableTimes:Array,openOnFocus:Boolean,enableSeconds:Boolean,defaultMinutes:Number,defaultSeconds:Number},data:function(){return{dateSelected:this.value,hoursSelected:null,minutesSelected:null,secondsSelected:null,meridienSelected:null,_elementRef:"input",AM:E,PM:z,HOUR_FORMAT_24:"24",HOUR_FORMAT_12:V}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(e){this.dateSelected=e,this.$emit("input",e)}},hours:function(){for(var e=[],t=this.isHourFormat24?24:12,i=0;i<t;i++){var n=i,s=n;this.isHourFormat24||(s=n=i+1,this.meridienSelected===this.AM?12===n&&(n=0):this.meridienSelected===this.PM&&12!==n&&(n+=12)),e.push({label:this.formatNumber(s),value:n})}return e},minutes:function(){for(var e=[],t=0;t<60;t+=this.incrementMinutes)e.push({label:this.formatNumber(t,!0),value:t});return e},seconds:function(){for(var e=[],t=0;t<60;t+=this.incrementSeconds)e.push({label:this.formatNumber(t,!0),value:t});return e},meridiens:function(){return[E,z]},isMobile:function(){return this.mobileNative&&u.any()},isHourFormat24:function(){return"24"===this.hourFormat}},watch:{hourFormat:function(){null!==this.hoursSelected&&(this.meridienSelected=12<=this.hoursSelected?z:E)},value:{handler:function(e){this.updateInternalState(e),this.isValid||this.$refs.input.checkHtml5Validity()},immediate:!0}},methods:{onMeridienChange:function(e){null!==this.hoursSelected&&(e===z?this.hoursSelected+=12:e===E&&(this.hoursSelected-=12)),this.updateDateSelected(this.hoursSelected,this.minutesSelected,this.enableSeconds?this.secondsSelected:0,e)},onHoursChange:function(e){this.minutesSelected||void 0===this.defaultMinutes||(this.minutesSelected=this.defaultMinutes),this.secondsSelected||void 0===this.defaultSeconds||(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(parseInt(e,10),this.minutesSelected,this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onMinutesChange:function(e){!this.secondsSelected&&this.defaultSeconds&&(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(this.hoursSelected,parseInt(e,10),this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onSecondsChange:function(e){this.updateDateSelected(this.hoursSelected,this.minutesSelected,parseInt(e,10),this.meridienSelected)},updateDateSelected:function(e,t,i,n){if(null!=e&&null!=t&&(!this.isHourFormat24&&null!==n||this.isHourFormat24)){var s=null;this.computedValue&&!isNaN(this.computedValue)?s=new Date(this.computedValue):(s=new Date).setMilliseconds(0),s.setHours(e),s.setMinutes(t),s.setSeconds(i),this.computedValue=new Date(s.getTime())}},updateInternalState:function(e){e?(this.hoursSelected=e.getHours(),this.minutesSelected=e.getMinutes(),this.secondsSelected=e.getSeconds(),this.meridienSelected=12<=e.getHours()?z:E):(this.hoursSelected=null,this.minutesSelected=null,this.secondsSelected=null,this.meridienSelected=E),this.dateSelected=e},isHourDisabled:function(t){var i=this,e=!1;if(this.minTime){var n=this.minTime.getHours(),s=this.minutes.every(function(e){return i.isMinuteDisabledForHour(t,e.value)});e=t<n||s}this.maxTime&&(e=e||this.maxTime.getHours()<t);this.unselectableTimes&&(e=e||0<this.unselectableTimes.filter(function(e){return i.enableSeconds&&null!==i.secondsSelected?e.getHours()===t&&e.getMinutes()===i.minutesSelected&&e.getSeconds()===i.secondsSelected:null!==i.minutesSelected?e.getHours()===t&&e.getMinutes()===i.minutesSelected:e.getHours()===t}).length);return e},isMinuteDisabledForHour:function(e,t){var i=!1;if(this.minTime){var n=this.minTime.getHours(),s=this.minTime.getMinutes();i=e===n&&t<s}if(this.maxTime&&!i){var a=this.maxTime.getHours(),o=this.maxTime.getMinutes();i=e===a&&o<t}return i},isMinuteDisabled:function(t){var i=this,e=!1;null!==this.hoursSelected&&(e=!!this.isHourDisabled(this.hoursSelected)||this.isMinuteDisabledForHour(this.hoursSelected,t),this.unselectableTimes&&(e=e||0<this.unselectableTimes.filter(function(e){return i.enableSeconds&&null!==i.secondsSelected?e.getHours()===i.hoursSelected&&e.getMinutes()===t&&e.getSeconds()===i.secondsSelected:e.getHours()===i.hoursSelected&&e.getMinutes()===t}).length));return e},isSecondDisabled:function(t){var i=this,e=!1;if(null!==this.minutesSelected){if(this.isMinuteDisabled(this.minutesSelected))e=!0;else{if(this.minTime){var n=this.minTime.getHours(),s=this.minTime.getMinutes(),a=this.minTime.getSeconds();e=this.hoursSelected===n&&this.minutesSelected===s&&t<a}if(this.maxTime&&!e){var o=this.maxTime.getHours(),r=this.maxTime.getMinutes(),l=this.maxTime.getSeconds();e=this.hoursSelected===o&&this.minutesSelected===r&&l<t}}if(this.unselectableTimes)if(!e)e=0<this.unselectableTimes.filter(function(e){return e.getHours()===i.hoursSelected&&e.getMinutes()===i.minutesSelected&&e.getSeconds()===t}).length}return e},onChange:function(e){var t=this.timeParser(e,this);this.updateInternalState(t),t&&!isNaN(t)?this.computedValue=t:(this.computedValue=null,this.$refs.input.newValue=this.computedValue)},toggle:function(e){this.$refs.dropdown&&(this.$refs.dropdown.isActive="boolean"==typeof e?e:!this.$refs.dropdown.isActive)},close:function(){this.toggle(!1)},handleOnFocus:function(){this.onFocus(),this.openOnFocus&&this.toggle(!0)},formatHHMMSS:function(e){var t=new Date(e);if(!e||isNaN(t))return"";var i=t.getHours(),n=t.getMinutes(),s=t.getSeconds();return this.formatNumber(i,!0)+":"+this.formatNumber(n,!0)+":"+this.formatNumber(s,!0)},onChangeNativePicker:function(e){var t=e.target.value;if(t){var i=null;this.computedValue&&!isNaN(this.computedValue)?i=new Date(this.computedValue):(i=new Date).setMilliseconds(0);var n=t.split(":");i.setHours(parseInt(n[0],10)),i.setMinutes(parseInt(n[1],10)),i.setSeconds(n[2]?parseInt(n[2],10):0),this.computedValue=new Date(i.getTime())}else this.computedValue=null},formatNumber:function(e,t){return this.isHourFormat24||t?this.pad(e):e},pad:function(e){return(e<10?"0":"")+e},formatValue:function(e){return e&&!isNaN(e)?this.timeFormatter(e,this):null},keyPress:function(e){this.$refs.dropdown&&this.$refs.dropdown.isActive&&27===e.keyCode&&this.toggle(!1)}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}},L={bind:function(e,t){var i=t.value;if(void 0===i||i){var n=function(e){return e?e.querySelectorAll("a[href],\n                                     area[href],\n                                     input:not([disabled]),\n                                     select:not([disabled]),\n                                     textarea:not([disabled]),\n                                     button:not([disabled]),\n                                     iframe,\n                                     object,\n                                     embed,\n                                     *[tabindex],\n                                     *[contenteditable]"):null}(e);if(n&&0<n.length){var s=n[0],a=n[n.length-1];O=function(e){e.target===s&&e.shiftKey&&"Tab"===e.key?(e.preventDefault(),a.focus()):e.target!==a||e.shiftKey||"Tab"!==e.key||(e.preventDefault(),s.focus())},e.addEventListener("keydown",O),s.focus()}}},unbind:function(e){e.removeEventListener("keydown",O)}},R=["escape","outside"],H=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown",class:e.rootClasses},[e.inline?e._e():i("div",{ref:"trigger",staticClass:"dropdown-trigger",attrs:{role:"button","aria-haspopup":"true"},on:{click:e.toggle}},[e._t("trigger")],2),e._v(" "),i("transition",{attrs:{name:e.animation}},[e.isMobileModal?i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"background",attrs:{"aria-hidden":!e.isActive}}):e._e()]),e._v(" "),i("transition",{attrs:{name:e.animation}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&(e.isActive||e.isHoverable)||e.inline,expression:"(!disabled && (isActive || isHoverable)) || inline"},{name:"trap-focus",rawName:"v-trap-focus",value:e.trapFocus,expression:"trapFocus"}],ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{"aria-hidden":!e.isActive}},[i("div",{staticClass:"dropdown-content",attrs:{role:e.ariaRoleMenu}},[e._t("default")],2)])])],1)},staticRenderFns:[]},void 0,{name:"BDropdown",directives:{trapFocus:L},props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,hoverable:Boolean,inline:Boolean,position:{type:String,validator:function(e){return-1<["is-top-right","is-top-left","is-bottom-left"].indexOf(e)}},mobileModal:{type:Boolean,default:function(){return v.defaultDropdownMobileModal}},ariaRole:{type:String,default:""},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:v.defaultTrapFocus},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean},data:function(){return{selected:this.value,isActive:!1,isHoverable:this.hoverable,_isDropdown:!0}},computed:{rootClasses:function(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded}]},isMobileModal:function(){return this.mobileModal&&!this.inline&&!this.hoverable},cancelOptions:function(){return"boolean"==typeof this.canClose?this.canClose?R:[]:this.canClose},ariaRoleMenu:function(){return"menu"===this.ariaRole||"list"===this.ariaRole?this.ariaRole:null}},watch:{value:function(e){this.selected=e},isActive:function(e){this.$emit("active-change",e)}},methods:{selectItem:function(e){var t=this;if(this.multiple){if(this.selected){var i=this.selected.indexOf(e);-1===i?this.selected.push(e):this.selected.splice(i,1)}else this.selected=[e];this.$emit("change",this.selected)}else this.selected!==e&&(this.selected=e,this.$emit("change",this.selected));this.$emit("input",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1,setTimeout(function(){t.isHoverable=!0},250)))},isInWhiteList:function(e){if(e===this.$refs.dropdownMenu)return!0;if(e===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu){var t=this.$refs.dropdownMenu.querySelectorAll("*"),i=!0,n=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){if(e===a.value)return!0}}catch(e){n=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}}if(void 0!==this.$refs.trigger){var r=this.$refs.trigger.querySelectorAll("*"),l=!0,c=!1,d=void 0;try{for(var u,p=r[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){if(e===u.value)return!0}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}}return!1},clickedOutside:function(e){this.cancelOptions.indexOf("outside")<0||this.inline||this.isInWhiteList(e.target)||(this.isActive=!1)},keyPress:function(e){if(this.isActive&&27===e.keyCode){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},toggle:function(){var t=this;this.disabled||(this.isActive?this.isActive=!this.isActive:this.$nextTick(function(){var e=!t.isActive;t.isActive=e,setTimeout(function(){return t.isActive=e})}))}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress))}},void 0,!1,void 0,void 0,void 0),j=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.separator?i("hr",{staticClass:"dropdown-divider"}):e.custom||e.hasLink?i("div",{class:e.itemClasses,attrs:{role:e.ariaRoleItem,tabindex:e.focusable?0:null},on:{click:e.selectItem}},[e._t("default")],2):i("a",{staticClass:"dropdown-item",class:e.anchorClasses,attrs:{role:e.ariaRoleItem,tabindex:e.focusable?0:null},on:{click:e.selectItem}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"BDropdownItem",props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses:function(){return{"is-disabled":this.$parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses:function(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem:function(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable:function(){return!(this.$parent.disabled||this.separator||this.disabled||this.custom)},isActive:function(){return null!==this.$parent.selected&&(this.$parent.multiple?0<=this.$parent.selected.indexOf(this.value):this.value===this.$parent.selected)}},methods:{selectItem:function(){this.isClickable&&(this.$parent.selectItem(this.value),this.$emit("click"))}},created:function(){if(!this.$parent.$data._isDropdown)throw this.$destroy(),new Error("You should wrap bDropdownItem on a bDropdown")}},void 0,!1,void 0,void 0,void 0),q=x({},void 0,{name:"BFieldBody",props:{message:{type:String},type:{type:[String,Object]}},render:function(t){var i=this;return t("div",{attrs:{class:"field-body"}},this.$slots.default.map(function(e){return e.tag?i.message?t("b-field",{attrs:{message:i.message,type:i.type}},[e]):t("b-field",{attrs:{type:i.type}},[e]):e}))}},void 0,void 0,void 0,void 0,void 0),U=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field",class:[e.rootClasses,e.fieldType()]},[e.horizontal?i("div",{staticClass:"field-label",class:[e.customClass,e.fieldLabelSize]},[e.hasLabel?i("label",{staticClass:"label",class:e.customClass,attrs:{for:e.labelFor}},[e.$slots.label?e._t("label"):[e._v(e._s(e.label))]],2):e._e()]):[e.hasLabel?i("label",{staticClass:"label",class:e.customClass,attrs:{for:e.labelFor}},[e.$slots.label?e._t("label"):[e._v(e._s(e.label))]],2):e._e()],e._v(" "),e.horizontal?i("b-field-body",{attrs:{message:e.newMessage?e.formattedMessage:"",type:e.newType}},[e._t("default")],2):[e._t("default")],e._v(" "),e.newMessage&&!e.horizontal?i("p",{staticClass:"help",class:e.newType,domProps:{innerHTML:e._s(e.formattedMessage)}}):e._e()],2)},staticRenderFns:[]},void 0,{name:"BField",components:s({},q.name,q),props:{type:[String,Object],label:String,labelFor:String,message:[String,Array,Object],grouped:Boolean,groupMultiline:Boolean,position:String,expanded:Boolean,horizontal:Boolean,addons:{type:Boolean,default:!0},customClass:String,labelPosition:{type:String,default:function(){return v.defaultFieldLabelPosition}}},data:function(){return{newType:this.type,newMessage:this.message,fieldLabelSize:null,_isField:!0}},computed:{rootClasses:function(){return[this.newPosition,{"is-expanded":this.expanded,"is-grouped-multiline":this.groupMultiline,"is-horizontal":this.horizontal,"is-floating-in-label":this.hasLabel&&!this.horizontal&&"inside"===this.labelPosition,"is-floating-label":this.hasLabel&&!this.horizontal&&"on-border"===this.labelPosition},this.numberInputClasses]},newPosition:function(){if(void 0!==this.position){var e=this.position.split("-");if(!(e.length<1)){var t=this.grouped?"is-grouped-":"has-addons-";return this.position?t+e[1]:void 0}}},formattedMessage:function(){if("string"==typeof this.newMessage)return this.newMessage;var i=[];if(Array.isArray(this.newMessage))this.newMessage.forEach(function(e){if("string"==typeof e)i.push(e);else for(var t in e)e[t]&&i.push(t)});else for(var e in this.newMessage)this.newMessage[e]&&i.push(e);return i.filter(function(e){if(e)return e}).join(" <br> ")},hasLabel:function(){return this.label||this.$slots.label},numberInputClasses:function(){if(this.$slots.default){var e=this.$slots.default.filter(function(e){return e.tag&&0<=e.tag.toLowerCase().indexOf("numberinput")})[0];if(e){var t=["has-numberinput"],i=e.componentOptions.propsData.controlsPosition,n=e.componentOptions.propsData.size;return i&&t.push("has-numberinput-".concat(i)),n&&t.push("has-numberinput-".concat(n)),t}}return null}},watch:{type:function(e){this.newType=e},message:function(e){this.newMessage=e}},methods:{fieldType:function(){if(this.grouped)return"is-grouped";var e=0;return this.$slots.default&&(e=this.$slots.default.reduce(function(e,t){return t.tag?e+1:e},0)),1<e&&this.addons&&!this.horizontal?"has-addons":void 0}},mounted:function(){this.horizontal&&0<this.$el.querySelectorAll(".input, .select, .button, .textarea, .b-slider").length&&(this.fieldLabelSize="is-normal")}},void 0,!1,void 0,void 0,void 0),W=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"b-clockpicker-face",on:{mousedown:i.onMouseDown,mouseup:i.onMouseUp,mousemove:i.onDragMove,touchstart:i.onMouseDown,touchend:i.onMouseUp,touchmove:i.onDragMove}},[n("div",{ref:"clock",staticClass:"b-clockpicker-face-outer-ring"},[n("div",{staticClass:"b-clockpicker-face-hand",style:i.handStyle}),i._v(" "),i._l(i.faceNumbers,function(e,t){return n("span",{key:t,staticClass:"b-clockpicker-face-number",class:i.getFaceNumberClasses(e),style:{transform:i.getNumberTranslate(e.value)}},[n("span",[i._v(i._s(e.label))])])})],2)])},staticRenderFns:[]},void 0,{name:"BClockpickerFace",props:{pickerSize:Number,min:Number,max:Number,double:Boolean,value:Number,faceNumbers:Array,disabledValues:Function},data:function(){return{isDragging:!1,inputValue:this.value,prevAngle:720}},computed:{count:function(){return this.max-this.min+1},countPerRing:function(){return this.double?this.count/2:this.count},radius:function(){return this.pickerSize/2},outerRadius:function(){return this.radius-5-20},innerRadius:function(){return Math.max(.6*this.outerRadius,this.outerRadius-5-40)},degreesPerUnit:function(){return 360/this.countPerRing},degrees:function(){return this.degreesPerUnit*Math.PI/180},handRotateAngle:function(){for(var e=this.prevAngle;e<0;)e+=360;var t=this.calcHandAngle(this.displayedValue),i=this.shortestDistanceDegrees(e,t);return this.prevAngle+i},handScale:function(){return this.calcHandScale(this.displayedValue)},handStyle:function(){return{transform:"rotate(".concat(this.handRotateAngle,"deg) scaleY(").concat(this.handScale,")"),transition:".3s cubic-bezier(.25,.8,.50,1)"}},displayedValue:function(){return null==this.inputValue?this.min:this.inputValue}},watch:{value:function(e){e!==this.inputValue&&(this.prevAngle=this.handRotateAngle),this.inputValue=e}},methods:{isDisabled:function(e){return this.disabledValues&&this.disabledValues(e)},euclidean:function(e,t){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},shortestDistanceDegrees:function(e,t){var i=(t-e)%360,n=180-Math.abs(Math.abs(i)-180);return(360+i)%360<180?1*n:-1*n},coordToAngle:function(e,t){var i=2*Math.atan2(t.y-e.y-this.euclidean(e,t),t.x-e.x);return Math.abs(180*i/Math.PI)},getNumberTranslate:function(e){var t=this.getNumberCoords(e),i=t.x,n=t.y;return"translate(".concat(i,"px, ").concat(n,"px)")},getNumberCoords:function(e){var t=this.isInnerRing(e)?this.innerRadius:this.outerRadius;return{x:Math.round(t*Math.sin((e-this.min)*this.degrees)),y:Math.round(-t*Math.cos((e-this.min)*this.degrees))}},getFaceNumberClasses:function(e){return{active:e.value===this.displayedValue,disabled:this.isDisabled(e.value)}},isInnerRing:function(e){return this.double&&e-this.min>=this.countPerRing},calcHandAngle:function(e){var t=this.degreesPerUnit*(e-this.min);return this.isInnerRing(e)&&(t-=360),t},calcHandScale:function(e){return this.isInnerRing(e)?this.innerRadius/this.outerRadius:1},onMouseDown:function(e){e.preventDefault(),this.isDragging=!0,this.onDragMove(e)},onMouseUp:function(){this.isDragging=!1,this.isDisabled(this.inputValue)||this.$emit("change",this.inputValue)},onDragMove:function(e){if(e.preventDefault(),this.isDragging||"click"===e.type){var t=this.$refs.clock.getBoundingClientRect(),i=t.width,n=t.top,s=t.left,a="touches"in e?e.touches[0]:e,o={x:i/2,y:-i/2},r={x:a.clientX-s,y:n-a.clientY},l=Math.round(this.coordToAngle(o,r)+360)%360,c=this.double&&this.euclidean(o,r)<(this.outerRadius+this.innerRadius)/2-16,d=Math.round(l/this.degreesPerUnit)+this.min+(c?this.countPerRing:0);l>=360-this.degreesPerUnit/2&&(d=c?this.max:this.min),this.update(d)}},update:function(e){this.inputValue===e||this.isDisabled(e)||(this.prevAngle=this.handRotateAngle,this.inputValue=e,this.$emit("input",e))}}},void 0,!1,void 0,void 0,void 0),Y=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b-clockpicker control",class:[t.size,t.type,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?i("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline}},[t.inline?t._e():i("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){e.stopPropagation(),t.toggle(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.toggle(!0)},change:function(e){t.onChangeNativePicker(e)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),i("div",{staticClass:"card",attrs:{disabled:t.disabled,custom:""}},[t.inline?i("header",{staticClass:"card-header"},[i("div",{staticClass:"b-clockpicker-header card-header-title"},[i("div",{staticClass:"b-clockpicker-time"},[i("span",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursDisplay))]),t._v(" "),i("span",[t._v(":")]),t._v(" "),i("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesDisplay))])]),t._v(" "),t.isHourFormat24?t._e():i("div",{staticClass:"b-clockpicker-period"},[i("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.AM},on:{click:function(){t.onMeridienClick(t.AM)}}},[t._v("am")]),t._v(" "),i("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.PM},on:{click:function(){t.onMeridienClick(t.PM)}}},[t._v("pm")])])])]):t._e(),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"b-clockpicker-body",style:{width:t.faceSize+"px",height:t.faceSize+"px"}},[t.inline?t._e():i("div",{staticClass:"b-clockpicker-time"},[i("div",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursLabel))]),t._v(" "),i("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesLabel))])]),t._v(" "),t.isHourFormat24||t.inline?t._e():i("div",{staticClass:"b-clockpicker-period"},[i("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.AM},on:{click:function(){t.onMeridienClick(t.AM)}}},[t._v(t._s(t.AM))]),t._v(" "),i("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.PM},on:{click:function(){t.onMeridienClick(t.PM)}}},[t._v(t._s(t.PM))])]),t._v(" "),i("b-clockpicker-face",{attrs:{"picker-size":t.faceSize,min:t.minFaceValue,max:t.maxFaceValue,"face-numbers":t.isSelectingHour?t.hours:t.minutes,"disabled-values":t.faceDisabledValues,double:t.isSelectingHour&&t.isHourFormat24,value:t.isSelectingHour?t.hoursSelected:t.minutesSelected},on:{input:t.onClockInput,change:t.onClockChange}})],1)]),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?i("footer",{staticClass:"b-clockpicker-footer card-footer"},[t._t("default")],2):t._e()])],1):i("b-input",t._b({ref:"input",attrs:{type:"time",autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){e.stopPropagation(),t.toggle(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.toggle(!0)},change:function(e){t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,{name:"BClockpicker",components:(N={},s(N,W.name,W),s(N,C.name,C),s(N,U.name,U),s(N,_.name,_),s(N,H.name,H),s(N,j.name,j),N),mixins:[I],props:{pickerSize:{type:Number,default:290},hourFormat:{type:String,default:"12",validator:function(e){return"24"===e||"12"===e}},incrementMinutes:{type:Number,default:5},autoSwitch:{type:Boolean,default:!0},type:{type:String,default:"is-primary"},hoursLabel:{type:String,default:function(){return v.defaultClockpickerHoursLabel||"Hours"}},minutesLabel:{type:String,default:function(){return v.defaultClockpickerMinutesLabel||"Min"}}},data:function(){return{isSelectingHour:!0,isDragging:!1,_isClockpicker:!0}},computed:{hoursDisplay:function(){if(null==this.hoursSelected)return"--";if(this.isHourFormat24)return this.pad(this.hoursSelected);var e=this.hoursSelected;return this.meridienSelected===this.PM&&(e-=12),0===e&&(e=12),e},minutesDisplay:function(){return null==this.minutesSelected?"--":this.pad(this.minutesSelected)},minFaceValue:function(){return this.isSelectingHour&&!this.isHourFormat24&&this.meridienSelected===this.PM?12:0},maxFaceValue:function(){return this.isSelectingHour?this.isHourFormat24||this.meridienSelected!==this.AM?23:11:59},faceSize:function(){return this.pickerSize-24},faceDisabledValues:function(){return this.isSelectingHour?this.isHourDisabled:this.isMinuteDisabled}},methods:{onClockInput:function(e){this.isSelectingHour?(this.hoursSelected=e,this.onHoursChange(e)):(this.minutesSelected=e,this.onMinutesChange(e))},onClockChange:function(){this.autoSwitch&&this.isSelectingHour&&(this.isSelectingHour=!this.isSelectingHour)},onMeridienClick:function(e){this.meridienSelected!==e&&(this.meridienSelected=e,this.onMeridienChange(e))}}},void 0,!1,void 0,void 0,void 0),X={install:function(e){k(e,Y)}};y(X);function K(e){return void 0!==e}var G,Q,J=x({render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"control",class:{"is-expanded":i.expanded,"has-icons-left":i.icon}},[t("span",{staticClass:"select",class:i.spanClasses},[t("select",i._b({directives:[{name:"model",rawName:"v-model",value:i.computedValue,expression:"computedValue"}],ref:"select",attrs:{multiple:i.multiple,size:i.nativeSize},on:{blur:function(e){i.$emit("blur",e)&&i.checkHtml5Validity()},focus:function(e){i.$emit("focus",e)},change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});i.computedValue=e.target.multiple?t:t[0]}}},"select",i.$attrs,!1),[i.placeholder?[null==i.computedValue?t("option",{attrs:{disabled:"",hidden:""},domProps:{value:null}},[i._v("\n                    "+i._s(i.placeholder)+"\n                ")]):i._e()]:i._e(),i._v(" "),i._t("default")],2)]),i._v(" "),i.icon?t("b-icon",{staticClass:"is-left",attrs:{icon:i.icon,pack:i.iconPack,size:i.iconSize}}):i._e()],1)},staticRenderFns:[]},void 0,{name:"BSelect",components:s({},_.name,_),mixins:[g],inheritAttrs:!1,props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},placeholder:String,multiple:Boolean,nativeSize:[String,Number]},data:function(){return{selected:this.value,_elementRef:"select"}},computed:{computedValue:{get:function(){return this.selected},set:function(e){this.selected=e,this.$emit("input",e),this.isValid||this.checkHtml5Validity()}},spanClasses:function(){return[this.size,this.statusType,{"is-fullwidth":this.expanded,"is-loading":this.loading,"is-multiple":this.multiple,"is-rounded":this.rounded,"is-empty":null===this.selected}]}},watch:{value:function(e){this.selected=e,this.isValid||this.checkHtml5Validity()}}},void 0,!1,void 0,void 0,void 0),Z=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"datepicker-row"},[i.showWeekNumber?n("a",{staticClass:"datepicker-cell is-week-number"},[i._v("\n        "+i._s(i.getWeekNumber(i.week[6]))+"\n    ")]):i._e(),i._v(" "),i._l(i.week,function(t,e){return[i.selectableDate(t)&&!i.disabled?n("a",{key:e,staticClass:"datepicker-cell",class:[i.classObject(t),{"has-event":i.eventsDateMatch(t)},i.indicators],attrs:{role:"button",href:"#",disabled:i.disabled},on:{click:function(e){e.preventDefault(),i.emitChosenDate(t)},keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),i.emitChosenDate(t)},function(e){if(!("button"in e)&&i._k(e.keyCode,"space",32,e.key))return null;e.preventDefault(),i.emitChosenDate(t)}],mouseenter:function(){i.setRangeHoverEndDate(t)}}},[i._v("\n            "+i._s(t.getDate())+"\n            "),i.eventsDateMatch(t)?n("div",{staticClass:"events"},i._l(i.eventsDateMatch(t),function(e,t){return n("div",{key:t,staticClass:"event",class:e.type})})):i._e()]):n("div",{key:e,staticClass:"datepicker-cell",class:i.classObject(t)},[i._v("\n            "+i._s(t.getDate())+"\n        ")])]})],2)},staticRenderFns:[]},void 0,{name:"BDatepickerTableRow",props:{selectedDate:{type:[Date,Array]},hoveredDateRange:Array,week:{type:Array,required:!0},month:{type:Number,required:!0},minDate:Date,maxDate:Date,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,events:Array,indicators:String,dateCreator:Function,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:{type:Boolean,default:function(){return!1}},range:Boolean,multiple:Boolean,rulesForFirstWeek:{type:Number,default:function(){return 4}},firstDayOfWeek:Number},methods:{firstWeekOffset:function(e,t,i){var n=7+t-i;return n-(7+new Date(e,0,n).getDay()-t)%7-1},daysInYear:function(e){return this.isLeapYear(e)?366:365},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getSetDayOfYear:function(e){return Math.round((e-new Date(e.getFullYear(),0,1))/864e5)+1},weeksInYear:function(e,t,i){var n=this.firstWeekOffset(e,t,i),s=this.firstWeekOffset(e+1,t,i);return(this.daysInYear(e)-n+s)/7},getWeekNumber:function(e){var t,i,n=this.firstDayOfWeek,s=this.rulesForFirstWeek,a=this.firstWeekOffset(e.getFullYear(),n,s),o=Math.floor((this.getSetDayOfYear(e)-a-1)/7)+1;return o<1?(i=e.getFullYear()-1,t=o+this.weeksInYear(i,n,s)):o>this.weeksInYear(e.getFullYear(),n,s)?(t=o-this.weeksInYear(e.getFullYear(),n,s),i=e.getFullYear()+1):(i=e.getFullYear(),t=o),t},selectableDate:function(e){var t=[];if(this.minDate&&t.push(e>=this.minDate),this.maxDate&&t.push(e<=this.maxDate),this.nearbyMonthDays&&!this.nearbySelectableMonthDays&&t.push(e.getMonth()===this.month),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(e.getDate()===n.getDate()&&e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth())return!0;t.push(!1)}if(this.unselectableDates)for(var s=0;s<this.unselectableDates.length;s++){var a=this.unselectableDates[s];t.push(e.getDate()!==a.getDate()||e.getFullYear()!==a.getFullYear()||e.getMonth()!==a.getMonth())}if(this.unselectableDaysOfWeek)for(var o=0;o<this.unselectableDaysOfWeek.length;o++){var r=this.unselectableDaysOfWeek[o];t.push(e.getDay()!==r)}return t.indexOf(!1)<0},emitChosenDate:function(e){this.disabled||this.selectableDate(e)&&this.$emit("select",e)},eventsDateMatch:function(e){if(!this.events||!this.events.length)return!1;for(var t=[],i=0;i<this.events.length;i++)this.events[i].date.getDay()===e.getDay()&&t.push(this.events[i]);return!!t.length&&t},classObject:function(e){function t(t,e,i){return!(!t||!e||i)&&(Array.isArray(e)?e.some(function(e){return t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}):t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}function i(e,t,i){return!(!Array.isArray(t)||i)&&(e>t[0]&&e<t[1])}return{"is-selected":t(e,this.selectedDate)||i(e,this.selectedDate,this.multiple),"is-first-selected":t(e,Array.isArray(this.selectedDate)&&this.selectedDate[0],this.multiple),"is-within-selected":i(e,this.selectedDate,this.multiple),"is-last-selected":t(e,Array.isArray(this.selectedDate)&&this.selectedDate[1],this.multiple),"is-within-hovered-range":this.hoveredDateRange&&2===this.hoveredDateRange.length&&(t(e,this.hoveredDateRange)||i(e,this.hoveredDateRange)),"is-first-hovered":t(e,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[0]),"is-within-hovered":i(e,this.hoveredDateRange),"is-last-hovered":t(e,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[1]),"is-today":t(e,this.dateCreator()),"is-selectable":this.selectableDate(e)&&!this.disabled,"is-unselectable":!this.selectableDate(e)||this.disabled,"is-invisible":!this.nearbyMonthDays&&e.getMonth()!==this.month,"is-nearby":this.nearbySelectableMonthDays&&e.getMonth()!==this.month}},setRangeHoverEndDate:function(e){this.range&&this.$emit("rangeHoverEndDate",e)}}},void 0,!1,void 0,void 0,void 0),ee=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("header",{staticClass:"datepicker-header"},i._l(i.visibleDayNames,function(e,t){return n("div",{key:t,staticClass:"datepicker-cell"},[i._v("\n            "+i._s(e)+"\n        ")])})),i._v(" "),n("div",{staticClass:"datepicker-body",class:{"has-events":i.hasEvents}},i._l(i.weeksInThisMonth,function(e,t){return n("b-datepicker-table-row",{key:t,attrs:{"selected-date":i.value,week:e,month:i.focused.month,"min-date":i.minDate,"max-date":i.maxDate,disabled:i.disabled,"unselectable-dates":i.unselectableDates,"unselectable-days-of-week":i.unselectableDaysOfWeek,"selectable-dates":i.selectableDates,events:i.eventsInThisWeek(e),indicators:i.indicators,"date-creator":i.dateCreator,"nearby-month-days":i.nearbyMonthDays,"nearby-selectable-month-days":i.nearbySelectableMonthDays,"show-week-number":i.showWeekNumber,"first-day-of-week":i.firstDayOfWeek,"rules-for-first-week":i.rulesForFirstWeek,range:i.range,"hovered-date-range":i.hoveredDateRange,multiple:i.multiple},on:{select:i.updateSelectedDate,rangeHoverEndDate:i.setRangeHoverEndDate}})}))])},staticRenderFns:[]},void 0,{name:"BDatepickerTable",components:s({},Z.name,Z),props:{value:{type:[Date,Array]},dayNames:Array,monthNames:Array,firstDayOfWeek:Number,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:{type:Boolean,default:function(){return!1}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:Boolean,multiple:Boolean},data:function(){return{selectedBeginDate:void 0,selectedEndDate:void 0,hoveredEndDate:void 0,multipleSelectedDates:[]}},computed:{visibleDayNames:function(){for(var e=[],t=this.firstDayOfWeek;e.length<this.dayNames.length;){var i=this.dayNames[t%this.dayNames.length];e.push(i),t++}return this.showWeekNumber&&e.unshift(""),e},hasEvents:function(){return this.events&&this.events.length},eventsInThisMonth:function(){if(!this.events)return[];for(var e=[],t=0;t<this.events.length;t++){var i=this.events[t];i.hasOwnProperty("date")||(i={date:i}),i.hasOwnProperty("type")||(i.type="is-primary"),i.date.getMonth()===this.focused.month&&i.date.getFullYear()===this.focused.year&&e.push(i)}return e},weeksInThisMonth:function(){for(var e=this.focused.month,t=this.focused.year,i=[],n=1;i.length<6;){var s=this.weekBuilder(n,e,t);i.push(s),n+=7}return i},hoveredDateRange:function(){return this.range&&isNaN(this.selectedEndDate)?this.hoveredEndDate<this.selectedBeginDate?[this.hoveredEndDate,this.selectedBeginDate].filter(K):[this.selectedBeginDate,this.hoveredEndDate].filter(K):[]}},methods:{updateSelectedDate:function(e){this.range||this.multiple?this.range?this.handleSelectRangeDate(e):this.multiple&&this.handleSelectMultipleDates(e):this.$emit("input",e)},handleSelectRangeDate:function(e){this.selectedBeginDate&&this.selectedEndDate?(this.selectedBeginDate=e,this.selectedEndDate=void 0):this.selectedBeginDate&&!this.selectedEndDate?(this.selectedBeginDate>e?(this.selectedEndDate=this.selectedBeginDate,this.selectedBeginDate=e):this.selectedEndDate=e,this.$emit("input",[this.selectedBeginDate,this.selectedEndDate])):this.selectedBeginDate=e},handleSelectMultipleDates:function(t){this.multipleSelectedDates.find(function(e){return e.valueOf()===t.valueOf()})?this.multipleSelectedDates=this.multipleSelectedDates.filter(function(e){return e.valueOf()!==t.valueOf()}):this.multipleSelectedDates.push(t),this.$emit("input",this.multipleSelectedDates)},weekBuilder:function(e,t,i){for(var n=new Date(i,t),s=[],a=new Date(i,t,e).getDay(),o=a>=this.firstDayOfWeek?a-this.firstDayOfWeek:7-this.firstDayOfWeek+a,r=1,l=0;l<o;l++)s.unshift(new Date(n.getFullYear(),n.getMonth(),e-r)),r++;s.push(new Date(i,t,e));for(var c=1;s.length<7;)s.push(new Date(i,t,e+c)),c++;return s},eventsInThisWeek:function(n){return this.eventsInThisMonth.filter(function(e){var t=new Date(Date.parse(e.date));t.setHours(0,0,0,0);var i=t.getTime();return n.some(function(e){return e.getTime()===i})})},setRangeHoverEndDate:function(e){this.hoveredEndDate=e}}},void 0,!1,void 0,void 0,void 0),te=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("div",{staticClass:"datepicker-body",class:{"has-events":i.hasEvents}},[n("div",{staticClass:"datepicker-months"},[i._l(i.monthDates,function(t,e){return[i.selectableDate(t)&&!i.disabled?n("a",{key:e,staticClass:"datepicker-cell",class:[i.classObject(t),{"has-event":i.eventsDateMatch(t)},i.indicators],attrs:{role:"button",href:"#",disabled:i.disabled},on:{click:function(e){e.preventDefault(),i.emitChosenDate(t)},keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),i.emitChosenDate(t)},function(e){if(!("button"in e)&&i._k(e.keyCode,"space",32,e.key))return null;e.preventDefault(),i.emitChosenDate(t)}]}},[i._v("\n                    "+i._s(i.monthNames[t.getMonth()])+"\n                    "),i.eventsDateMatch(t)?n("div",{staticClass:"events"},i._l(i.eventsDateMatch(t),function(e,t){return n("div",{key:t,staticClass:"event",class:e.type})})):i._e()]):n("div",{key:e,staticClass:"datepicker-cell",class:i.classObject(t)},[i._v("\n                    "+i._s(i.monthNames[t.getMonth()])+"\n                ")])]})],2)])])},staticRenderFns:[]},void 0,{name:"BDatepickerMonth",props:{value:Date,monthNames:Array,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array},computed:{hasEvents:function(){return this.events&&this.events.length},eventsInThisYear:function(){if(!this.events)return[];for(var e=[],t=0;t<this.events.length;t++){var i=this.events[t];i.hasOwnProperty("date")||(i={date:i}),i.hasOwnProperty("type")||(i.type="is-primary"),i.date.getFullYear()===this.focused.year&&e.push(i)}return e},monthDates:function(){for(var e=this.focused.year,t=[],i=0;i<12;i++){var n=new Date(e,i,1);n.setHours(0,0,0,0),t.push(n)}return t}},methods:{selectableDate:function(e){var t=[];if(this.minDate&&t.push(e>=this.minDate),this.maxDate&&t.push(e<=this.maxDate),t.push(e.getFullYear()===this.focused.year),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth())return!0;t.push(!1)}if(this.unselectableDates)for(var s=0;s<this.unselectableDates.length;s++){var a=this.unselectableDates[s];t.push(e.getFullYear()!==a.getFullYear()||e.getMonth()!==a.getMonth())}if(this.unselectableDaysOfWeek)for(var o=0;o<this.unselectableDaysOfWeek.length;o++){var r=this.unselectableDaysOfWeek[o];t.push(e.getDay()!==r)}return t.indexOf(!1)<0},eventsDateMatch:function(e){if(!this.eventsInThisYear.length)return!1;for(var t=[],i=0;i<this.eventsInThisYear.length;i++)this.eventsInThisYear[i].date.getMonth()===e.getMonth()&&t.push(this.events[i]);return!!t.length&&t},classObject:function(e){function t(e,t){return!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth())}return{"is-selected":t(e,this.value),"is-today":t(e,this.dateCreator()),"is-selectable":this.selectableDate(e)&&!this.disabled,"is-unselectable":!this.selectableDate(e)||this.disabled}},emitChosenDate:function(e){this.disabled||this.selectableDate(e)&&this.$emit("input",e)}}},void 0,!1,void 0,void 0,void 0),ie=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"datepicker control",class:[i.size,{"is-expanded":i.expanded}]},[!i.isMobile||i.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:i.position,disabled:i.disabled,inline:i.inline}},[i.inline?i._e():n("b-input",i._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:i.formatValue(i.computedValue),placeholder:i.placeholder,size:i.size,icon:i.icon,"icon-pack":i.iconPack,rounded:i.rounded,loading:i.loading,disabled:i.disabled,readonly:!i.editable,"use-html5-validation":i.useHtml5Validation},on:{focus:i.handleOnFocus,blur:i.onBlur},nativeOn:{click:function(e){i.onInputClick(e)},keyup:function(e){if(!("button"in e)&&i._k(e.keyCode,"enter",13,e.key))return null;i.togglePicker(!0)},change:function(e){i.onChange(e.target.value)}},slot:"trigger"},"b-input",i.$attrs,!1)),i._v(" "),n("b-dropdown-item",{attrs:{disabled:i.disabled,custom:""}},[n("header",{staticClass:"datepicker-header"},[void 0!==i.$slots.header&&i.$slots.header.length?[i._t("header")]:n("div",{staticClass:"pagination field is-centered",class:i.size},[n("a",{directives:[{name:"show",rawName:"v-show",value:!i.showPrev&&!i.disabled,expression:"!showPrev && !disabled"}],staticClass:"pagination-previous",attrs:{role:"button",href:"#",disabled:i.disabled},on:{click:function(e){e.preventDefault(),i.prev(e)},keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),i.prev(e)},function(e){if(!("button"in e)&&i._k(e.keyCode,"space",32,e.key))return null;e.preventDefault(),i.prev(e)}]}},[n("b-icon",{attrs:{icon:i.iconPrev,pack:i.iconPack,both:"",type:"is-primary is-clickable"}})],1),i._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:!i.showNext&&!i.disabled,expression:"!showNext && !disabled"}],staticClass:"pagination-next",attrs:{role:"button",href:"#",disabled:i.disabled},on:{click:function(e){e.preventDefault(),i.next(e)},keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),i.next(e)},function(e){if(!("button"in e)&&i._k(e.keyCode,"space",32,e.key))return null;e.preventDefault(),i.next(e)}]}},[n("b-icon",{attrs:{icon:i.iconNext,pack:i.iconPack,both:"",type:"is-primary is-clickable"}})],1),i._v(" "),n("div",{staticClass:"pagination-list"},[n("b-field",[i.isTypeMonth?i._e():n("b-select",{attrs:{disabled:i.disabled,size:i.size},model:{value:i.focusedDateData.month,callback:function(e){i.$set(i.focusedDateData,"month",e)},expression:"focusedDateData.month"}},i._l(i.monthNames,function(e,t){return n("option",{key:e,domProps:{value:t}},[i._v("\n                                    "+i._s(e)+"\n                                ")])})),i._v(" "),n("b-select",{attrs:{disabled:i.disabled,size:i.size},model:{value:i.focusedDateData.year,callback:function(e){i.$set(i.focusedDateData,"year",e)},expression:"focusedDateData.year"}},i._l(i.listOfYears,function(e){return n("option",{key:e,domProps:{value:e}},[i._v("\n                                    "+i._s(e)+"\n                                ")])}))],1)],1)])],2),i._v(" "),i.isTypeMonth?n("div",[n("b-datepicker-month",{attrs:{"month-names":i.monthNames,"min-date":i.minDate,"max-date":i.maxDate,focused:i.focusedDateData,disabled:i.disabled,"unselectable-dates":i.unselectableDates,"unselectable-days-of-week":i.unselectableDaysOfWeek,"selectable-dates":i.selectableDates,events:i.events,indicators:i.indicators,"date-creator":i.dateCreator},on:{close:function(){i.togglePicker(!1)}},model:{value:i.computedValue,callback:function(e){i.computedValue=e},expression:"computedValue"}})],1):n("div",{staticClass:"datepicker-content"},[n("b-datepicker-table",{attrs:{"day-names":i.dayNames,"month-names":i.monthNames,"first-day-of-week":i.firstDayOfWeek,"rules-for-first-week":i.rulesForFirstWeek,"min-date":i.minDate,"max-date":i.maxDate,focused:i.focusedDateData,disabled:i.disabled,"unselectable-dates":i.unselectableDates,"unselectable-days-of-week":i.unselectableDaysOfWeek,"selectable-dates":i.selectableDates,events:i.events,indicators:i.indicators,"date-creator":i.dateCreator,"type-month":i.isTypeMonth,"nearby-month-days":i.nearbyMonthDays,"nearby-selectable-month-days":i.nearbySelectableMonthDays,"show-week-number":i.showWeekNumber,range:i.range,multiple:i.multiple},on:{close:function(){i.togglePicker(!1)}},model:{value:i.computedValue,callback:function(e){i.computedValue=e},expression:"computedValue"}})],1),i._v(" "),void 0!==i.$slots.default&&i.$slots.default.length?n("footer",{staticClass:"datepicker-footer"},[i._t("default")],2):i._e()])],1):n("b-input",i._b({ref:"input",attrs:{type:i.isTypeMonth?"month":"date",autocomplete:"off",value:i.formatNative(i.computedValue),placeholder:i.placeholder,size:i.size,icon:i.icon,"icon-pack":i.iconPack,loading:i.loading,max:i.formatNative(i.maxDate),min:i.formatNative(i.minDate),disabled:i.disabled,readonly:!1,"use-html5-validation":i.useHtml5Validation},on:{focus:i.onFocus,blur:i.onBlur},nativeOn:{change:function(e){i.onChangeNativePicker(e)}}},"b-input",i.$attrs,!1))],1)},staticRenderFns:[]},void 0,{name:"BDatepicker",components:(G={},s(G,ee.name,ee),s(G,te.name,te),s(G,C.name,C),s(G,U.name,U),s(G,J.name,J),s(G,_.name,_),s(G,H.name,H),s(G,j.name,j),G),mixins:[g],inheritAttrs:!1,props:{value:{type:[Date,Array]},dayNames:{type:Array,default:function(){return Array.isArray(v.defaultDayNames)?v.defaultDayNames:["Su","M","Tu","W","Th","F","S"]}},monthNames:{type:Array,default:function(){return Array.isArray(v.defaultMonthNames)?v.defaultMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}},firstDayOfWeek:{type:Number,default:function(){return"number"==typeof v.defaultFirstDayOfWeek?v.defaultFirstDayOfWeek:0}},inline:Boolean,minDate:Date,maxDate:Date,focusedDate:Date,placeholder:String,editable:Boolean,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:{type:Array,default:function(){return v.defaultUnselectableDaysOfWeek}},selectableDates:Array,dateFormatter:{type:Function,default:function(e,t){return"function"==typeof v.defaultDateFormatter?v.defaultDateFormatter(e):function(e,n){var t=(Array.isArray(e)?e:[e]).map(function(e){var t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),i=new Date(t);return n.isTypeMonth?i.toLocaleDateString(void 0,{year:"numeric",month:"2-digit"}):i.toLocaleDateString()});return n.multiple?t.join(", "):t.join(" - ")}(e,t)}},dateParser:{type:Function,default:function(e,t){return"function"==typeof v.defaultDateParser?v.defaultDateParser(e):function(e,t){if(!t.isTypeMonth)return new Date(Date.parse(e));if(e){var i=e.split("/"),n=4===i[0].length?i[0]:i[1],s=2===i[0].length?i[0]:i[1];if(n&&s)return new Date(parseInt(n,10),parseInt(s-1,10),1,0,0,0,0)}return null}(e,t)}},dateCreator:{type:Function,default:function(){return"function"==typeof v.defaultDateCreator?v.defaultDateCreator():new Date}},mobileNative:{type:Boolean,default:function(){return v.defaultDatepickerMobileNative}},position:String,events:Array,indicators:{type:String,default:"dots"},openOnFocus:Boolean,iconPrev:{type:String,default:v.defaultIconPrev},iconNext:{type:String,default:v.defaultIconNext},yearsRange:{type:Array,default:function(){return v.defaultDatepickerYearsRange}},type:{type:String,validator:function(e){return 0<=["month"].indexOf(e)}},nearbyMonthDays:{type:Boolean,default:function(){return v.defaultDatepickerNearbyMonthDays}},nearbySelectableMonthDays:{type:Boolean,default:function(){return v.defaultDatepickerNearbySelectableMonthDays}},showWeekNumber:{type:Boolean,default:function(){return v.defaultDatepickerShowWeekNumber}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},data:function(){var e=(Array.isArray(this.value)?this.value[0]:this.value)||this.focusedDate||this.dateCreator();return{dateSelected:this.value,focusedDateData:{month:e.getMonth(),year:e.getFullYear()},_elementRef:"input",_isDatepicker:!0}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(e){this.updateInternalState(e),this.multiple||this.togglePicker(!1),this.$emit("input",e)}},listOfYears:function(){var e=this.focusedDateData.year+this.yearsRange[1];this.maxDate&&this.maxDate.getFullYear()<e&&(e=Math.max(this.maxDate.getFullYear(),this.focusedDateData.year));var t=this.focusedDateData.year+this.yearsRange[0];this.minDate&&this.minDate.getFullYear()>t&&(t=Math.min(this.minDate.getFullYear(),this.focusedDateData.year));for(var i=[],n=t;n<=e;n++)i.push(n);return i.reverse()},showPrev:function(){return!!this.minDate&&(this.isTypeMonth?this.focusedDateData.year<=this.minDate.getFullYear():new Date(this.focusedDateData.year,this.focusedDateData.month)<=new Date(this.minDate.getFullYear(),this.minDate.getMonth()))},showNext:function(){if(!this.maxDate)return!1;if(this.isTypeMonth)return this.focusedDateData.year>=this.maxDate.getFullYear();var e=new Date(this.focusedDateData.year,this.focusedDateData.month);return new Date(this.maxDate.getFullYear(),this.maxDate.getMonth())<=e},isMobile:function(){return this.mobileNative&&u.any()},isTypeMonth:function(){return"month"===this.type}},watch:{value:function(e){this.updateInternalState(e),this.multiple||this.togglePicker(!1),this.isValid||this.$refs.input.checkHtml5Validity()},focusedDate:function(e){e&&(this.focusedDateData={month:e.getMonth(),year:e.getFullYear()})},"focusedDateData.month":function(e){this.$emit("change-month",e)},"focusedDateData.year":function(e){this.$emit("change-year",e)}},methods:{onChange:function(e){var t=this.dateParser(e,this);!t||isNaN(t)&&(!Array.isArray(t)||2!==t.length||isNaN(t[0])||isNaN(t[1]))?(this.computedValue=null,this.$refs.input.newValue=this.computedValue):this.computedValue=t},formatValue:function(e){return Array.isArray(e)?Array.isArray(e)&&e.every(function(e){return!isNaN(e)})?this.dateFormatter(e,this):null:e&&!isNaN(e)?this.dateFormatter(e,this):null},prev:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year-=1:0<this.focusedDateData.month?this.focusedDateData.month-=1:(this.focusedDateData.month=11,this.focusedDateData.year-=1))},next:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year+=1:this.focusedDateData.month<11?this.focusedDateData.month+=1:(this.focusedDateData.month=0,this.focusedDateData.year+=1))},formatNative:function(e){return this.isTypeMonth?this.formatYYYYMM(e):this.formatYYYYMMDD(e)},formatYYYYMMDD:function(e){var t=new Date(e);if(!e||isNaN(t))return"";var i=t.getFullYear(),n=t.getMonth()+1,s=t.getDate();return i+"-"+(n<10?"0":"")+n+"-"+(s<10?"0":"")+s},formatYYYYMM:function(e){var t=new Date(e);if(!e||isNaN(t))return"";var i=t.getFullYear(),n=t.getMonth()+1;return i+"-"+(n<10?"0":"")+n},onChangeNativePicker:function(e){var t=e.target.value;this.computedValue=t?new Date(t+"T00:00:00"):null},updateInternalState:function(e){var t=Array.isArray(e)?e.length?e[0]:this.dateCreator():e||this.dateCreator();this.focusedDateData={month:t.getMonth(),year:t.getFullYear()},this.dateSelected=e},togglePicker:function(e){this.$refs.dropdown&&this.closeOnClick&&(this.$refs.dropdown.isActive="boolean"==typeof e?e:!this.$refs.dropdown.isActive)},handleOnFocus:function(e){this.onFocus(e),this.openOnFocus&&this.togglePicker(!0)},toggle:function(){if(this.mobileNative&&this.isMobile){var e=this.$refs.input.$refs.input;return e.focus(),void e.click()}this.$refs.dropdown.toggle()},onInputClick:function(e){this.$refs.dropdown.isActive&&e.stopPropagation()},keyPress:function(e){this.$refs.dropdown&&this.$refs.dropdown.isActive&&27===e.keyCode&&this.togglePicker(!1)}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}},void 0,!1,void 0,void 0,void 0),ne={install:function(e){k(e,ie)}};y(ne);var se,ae=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?i("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline}},[t.inline?t._e():i("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.toggle(!0)},change:function(e){t.onChange(e.target.value)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),i("b-dropdown-item",{attrs:{disabled:t.disabled,custom:""}},[i("b-field",{attrs:{grouped:"",position:"is-centered"}},[i("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onHoursChange(e.target.value)}},model:{value:t.hoursSelected,callback:function(e){t.hoursSelected=e},expression:"hoursSelected"}},t._l(t.hours,function(e){return i("option",{key:e.value,attrs:{disabled:t.isHourDisabled(e.value)},domProps:{value:e.value}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])})),t._v(" "),i("span",{staticClass:"control is-colon"},[t._v(":")]),t._v(" "),i("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onMinutesChange(e.target.value)}},model:{value:t.minutesSelected,callback:function(e){t.minutesSelected=e},expression:"minutesSelected"}},t._l(t.minutes,function(e){return i("option",{key:e.value,attrs:{disabled:t.isMinuteDisabled(e.value)},domProps:{value:e.value}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])})),t._v(" "),t.enableSeconds?[i("span",{staticClass:"control is-colon"},[t._v(":")]),t._v(" "),i("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onSecondsChange(e.target.value)}},model:{value:t.secondsSelected,callback:function(e){t.secondsSelected=e},expression:"secondsSelected"}},t._l(t.seconds,function(e){return i("option",{key:e.value,attrs:{disabled:t.isSecondDisabled(e.value)},domProps:{value:e.value}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}))]:t._e(),t._v(" "),t.isHourFormat24?t._e():i("b-select",{attrs:{disabled:t.disabled},nativeOn:{change:function(e){t.onMeridienChange(e.target.value)}},model:{value:t.meridienSelected,callback:function(e){t.meridienSelected=e},expression:"meridienSelected"}},t._l(t.meridiens,function(e){return i("option",{key:e,domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                    ")])}))],2),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?i("footer",{staticClass:"timepicker-footer"},[t._t("default")],2):t._e()],1)],1):i("b-input",t._b({ref:"input",attrs:{type:"time",step:t.nativeStep,autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{change:function(e){t.onChange(e.target.value)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,{name:"BTimepicker",components:(Q={},s(Q,C.name,C),s(Q,U.name,U),s(Q,J.name,J),s(Q,_.name,_),s(Q,H.name,H),s(Q,j.name,j),Q),mixins:[I],inheritAttrs:!1,data:function(){return{_isTimepicker:!0}},computed:{nativeStep:function(){if(this.enableSeconds)return"1"}}},void 0,!1,void 0,void 0,void 0),oe=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.isMobile||t.inline?i("b-datepicker",t._b({ref:"datepicker",attrs:{"open-on-focus":t.openOnFocus,position:t.position,loading:t.loading,inline:t.inline,editable:t.editable,"close-on-click":!1,"date-formatter":t.defaultDatetimeFormatter,"date-parser":t.defaultDatetimeParser,"min-date":t.minDate,"max-date":t.maxDate,icon:t.icon,"icon-pack":t.iconPack,size:t.datepickerSize,range:!1,disabled:t.disabled,"mobile-native":t.mobileNative},on:{"change-month":function(e){t.$emit("change-month",e)},"change-year":function(e){t.$emit("change-year",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-datepicker",t.datepicker,!1),[i("nav",{staticClass:"level is-mobile"},[void 0!==t.$slots.left?i("div",{staticClass:"level-item has-text-centered"},[t._t("left")],2):t._e(),t._v(" "),i("div",{staticClass:"level-item has-text-centered"},[i("b-timepicker",t._b({ref:"timepicker",attrs:{inline:"",editable:t.editable,"min-time":t.minTime,"max-time":t.maxTime,size:t.timepickerSize,disabled:t.timepickerDisabled},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-timepicker",t.timepicker,!1))],1),t._v(" "),void 0!==t.$slots.right?i("div",{staticClass:"level-item has-text-centered"},[t._t("right")],2):t._e()])]):i("b-input",t._b({ref:"input",attrs:{type:"datetime-local",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))},staticRenderFns:[]},void 0,{name:"BDatetimepicker",components:(se={},s(se,ie.name,ie),s(se,ae.name,ae),se),mixins:[g],inheritAttrs:!1,props:{value:{type:Date},editable:{type:Boolean,default:!1},placeholder:String,disabled:Boolean,icon:String,iconPack:String,inline:Boolean,openOnFocus:Boolean,position:String,mobileNative:{type:Boolean,default:!0},minDatetime:Date,maxDatetime:Date,datetimeFormatter:{type:Function},datetimeParser:{type:Function},datetimeCreator:{type:Function,default:function(e){return"function"==typeof v.defaultDatetimeCreator?v.defaultDatetimeCreator(e):e}},datepicker:Object,timepicker:Object},data:function(){return{newValue:this.value}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){if(e){var t=new Date(e.getTime());this.newValue?0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds()&&t.setHours(this.newValue.getHours(),this.newValue.getMinutes(),this.newValue.getSeconds(),0):t=this.datetimeCreator(e),this.minDatetime&&t<this.minDatetime?t=this.minDatetime:this.maxDatetime&&t>this.maxDatetime&&(t=this.maxDatetime),this.newValue=new Date(t.getTime())}else this.newValue=e;this.$emit("input",this.newValue)}},isMobile:function(){return this.mobileNative&&u.any()},minDate:function(){return this.minDatetime?new Date(this.minDatetime.getFullYear(),this.minDatetime.getMonth(),this.minDatetime.getDate(),0,0,0,0):null},maxDate:function(){return this.maxDatetime?new Date(this.maxDatetime.getFullYear(),this.maxDatetime.getMonth(),this.maxDatetime.getDate(),0,0,0,0):null},minTime:function(){return this.minDatetime?null===this.newValue||void 0===this.newValue?null:this.minDatetime.getFullYear()===this.newValue.getFullYear()&&this.minDatetime.getMonth()===this.newValue.getMonth()&&this.minDatetime.getDate()===this.newValue.getDate()?this.minDatetime:void 0:null},maxTime:function(){return this.maxDatetime?null===this.newValue||void 0===this.newValue?null:this.maxDatetime.getFullYear()===this.newValue.getFullYear()&&this.maxDatetime.getMonth()===this.newValue.getMonth()&&this.maxDatetime.getDate()===this.newValue.getDate()?this.maxDatetime:void 0:null},datepickerSize:function(){return this.datepicker&&this.datepicker.size?this.datepicker.size:this.size},timepickerSize:function(){return this.timepicker&&this.timepicker.size?this.timepicker.size:this.size},timepickerDisabled:function(){return this.timepicker&&this.timepicker.disabled?this.timepicker.disabled:this.disabled}},watch:{value:function(e){this.newValue=e}},methods:{defaultDatetimeParser:function(e){return"function"==typeof this.datetimeParser?this.datetimeParser(e):"function"==typeof v.defaultDatetimeParser?v.defaultDatetimeParser(e):new Date(Date.parse(e))},defaultDatetimeFormatter:function(e){if("function"==typeof this.datetimeFormatter)return this.datetimeFormatter(e);if("function"==typeof v.defaultDatetimeParser)return v.defaultDatetimeParser(e);if(this.$refs.timepicker){var t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate();return new Date(t).toLocaleDateString()+" "+this.$refs.timepicker.timeFormatter(e,this.$refs.timepicker)}return null},onChangeNativePicker:function(e){var t=e.target.value;this.computedValue=t?new Date(t):null},formatNative:function(e){var t=new Date(e);if(!e||isNaN(t))return"";var i=t.getFullYear(),n=t.getMonth()+1,s=t.getDate(),a=t.getHours(),o=t.getMinutes(),r=t.getSeconds();return i+"-"+(n<10?"0":"")+n+"-"+(s<10?"0":"")+s+"T"+(a<10?"0":"")+a+":"+(o<10?"0":"")+o+":"+(r<10?"0":"")+r},toggle:function(){this.$refs.datepicker.toggle()}},mounted:function(){this.newValue&&this.$refs.datepicker.$forceUpdate()}},void 0,!1,void 0,void 0,void 0),re={install:function(e){k(e,oe)}};y(re);var le=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:e.animation},on:{"after-enter":e.afterEnter,"before-leave":e.beforeLeave}},[e.isActive?i("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:e.trapFocus,expression:"trapFocus"}],staticClass:"modal is-active",class:[{"is-full-screen":e.fullScreen},e.customClass],attrs:{role:e.ariaRole,"aria-modal":e.ariaModal}},[i("div",{staticClass:"modal-background",on:{click:function(){e.cancel("outside")}}}),e._v(" "),i("div",{staticClass:"animation-content",class:{"modal-content":!e.hasModalCard},style:e.customStyle},[e.component?i(e.component,e._g(e._b({tag:"component",on:{close:e.close}},"component",e.props,!1),e.events)):e.content?i("div",{domProps:{innerHTML:e._s(e.content)}}):e._t("default"),e._v(" "),e.showX&&!e.animating?i("button",{staticClass:"modal-close is-large",attrs:{type:"button"},on:{click:function(){e.cancel("x")}}}):e._e()],2)]):e._e()])},staticRenderFns:[]},void 0,{name:"BModal",directives:{trapFocus:L},props:{active:Boolean,component:[Object,Function],content:String,programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},canCancel:{type:[Array,Boolean],default:function(){return v.defaultModalCanCancel}},onCancel:{type:Function,default:function(){}},scroll:{type:String,default:function(){return v.defaultModalScroll?v.defaultModalScroll:"clip"},validator:function(e){return 0<=["clip","keep"].indexOf(e)}},fullScreen:Boolean,trapFocus:{type:Boolean,default:v.defaultTrapFocus},customClass:String,ariaRole:{type:String,validator:function(e){return 0<=["dialog","alertdialog"].indexOf(e)}},ariaModal:Boolean},data:function(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"==typeof this.width?this.width+"px":this.width,animating:!0}},computed:{cancelOptions:function(){return"boolean"==typeof this.canCancel?this.canCancel?v.defaultModalCanCancel:[]:this.canCancel},showX:function(){return 0<=this.cancelOptions.indexOf("x")},customStyle:function(){return this.fullScreen?null:{maxWidth:this.newWidth}}},watch:{active:function(e){this.isActive=e},isActive:function(){this.handleScroll()}},methods:{handleScroll:function(){"undefined"!=typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top="-".concat(this.savedScrollTop,"px"):(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},cancel:function(e){this.cancelOptions.indexOf(e)<0||(this.onCancel.apply(null,arguments),this.close())},close:function(){var e=this;this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(function(){e.$destroy(),p(e.$el)},150))},keyPress:function(e){this.isActive&&27===e.keyCode&&this.cancel("escape")},afterEnter:function(){this.animating=!1},beforeLeave:function(){this.animating=!0}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&document.body.appendChild(this.$el)},mounted:function(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy:function(){if("undefined"!=typeof window){document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped");var e=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=e,document.body.style.top=null}}},void 0,!1,void 0,void 0,void 0),ce=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:t.animation}},[t.isActive?i("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"dialog modal is-active",class:t.size,attrs:{role:t.ariaRole,"aria-modal":t.ariaModal}},[i("div",{staticClass:"modal-background",on:{click:function(){t.cancel("outside")}}}),t._v(" "),i("div",{staticClass:"modal-card animation-content"},[t.title?i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),i("section",{staticClass:"modal-card-body",class:{"is-titleless":!t.title,"is-flex":t.hasIcon}},[i("div",{staticClass:"media"},[t.hasIcon&&(t.icon||t.iconByType)?i("div",{staticClass:"media-left"},[i("b-icon",{attrs:{icon:t.icon?t.icon:t.iconByType,pack:t.iconPack,type:t.type,both:!t.icon,size:"is-large"}})],1):t._e(),t._v(" "),i("div",{staticClass:"media-content"},[i("p",{domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t.hasInput?i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},domProps:{value:t.prompt},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.confirm(e)},input:function(e){e.target.composing||(t.prompt=e.target.value)}}},"input",t.inputAttrs,!1))]),t._v(" "),i("p",{staticClass:"help is-danger"},[t._v(t._s(t.validationMessage))])]):t._e()])])]),t._v(" "),i("footer",{staticClass:"modal-card-foot"},[t.showCancel?i("button",{ref:"cancelButton",staticClass:"button",on:{click:function(){t.cancel("button")}}},[t._v("\n                    "+t._s(t.cancelText)+"\n                ")]):t._e(),t._v(" "),i("button",{ref:"confirmButton",staticClass:"button",class:t.type,on:{click:t.confirm}},[t._v("\n                    "+t._s(t.confirmText)+"\n                ")])])])]):t._e()])},staticRenderFns:[]},void 0,{name:"BDialog",components:s({},_.name,_),directives:{trapFocus:L},extends:le,props:{title:String,message:String,icon:String,iconPack:String,hasIcon:Boolean,type:{type:String,default:"is-primary"},size:String,confirmText:{type:String,default:function(){return v.defaultDialogConfirmText?v.defaultDialogConfirmText:"OK"}},cancelText:{type:String,default:function(){return v.defaultDialogCancelText?v.defaultDialogCancelText:"Cancel"}},hasInput:Boolean,inputAttrs:{type:Object,default:function(){return{}}},onConfirm:{type:Function,default:function(){}},focusOn:{type:String,default:"confirm"},trapFocus:{type:Boolean,default:v.defaultTrapFocus},ariaRole:{type:String,validator:function(e){return 0<=["dialog","alertdialog"].indexOf(e)}},ariaModal:Boolean},data:function(){return{prompt:this.hasInput&&this.inputAttrs.value||"",isActive:!1,validationMessage:""}},computed:{iconByType:function(){switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}},showCancel:function(){return 0<=this.cancelOptions.indexOf("button")}},methods:{confirm:function(){var e=this;if(void 0!==this.$refs.input&&!this.$refs.input.checkValidity())return this.validationMessage=this.$refs.input.validationMessage,void this.$nextTick(function(){return e.$refs.input.select()});this.onConfirm(this.prompt),this.close()},close:function(){var e=this;this.isActive=!1,setTimeout(function(){e.$destroy(),p(e.$el)},150)}},beforeMount:function(){var e=this;"undefined"!=typeof window&&this.$nextTick(function(){document.body.appendChild(e.$el)})},mounted:function(){var e=this;this.isActive=!0,void 0===this.inputAttrs.required&&this.$set(this.inputAttrs,"required",!0),this.$nextTick(function(){e.hasInput?e.$refs.input.focus():"cancel"===e.focusOn&&e.showCancel?e.$refs.cancelButton.focus():e.$refs.confirmButton.focus()})}},void 0,!1,void 0,void 0,void 0);function de(e){return new(("undefined"!=typeof window&&window.Vue?window.Vue:a).extend(ce))({el:document.createElement("div"),propsData:e})}var ue={alert:function(e){var t;"string"==typeof e&&(t=e);var i={canCancel:!1,message:t};return de(Object.assign(i,e))},confirm:function(e){return de(Object.assign({},e))},prompt:function(e){return de(Object.assign({hasInput:!0,confirmText:"Done"},e))}},pe={install:function(e){k(e,ce),w(e,"dialog",ue)}};y(pe);var he={install:function(e){k(e,H),k(e,j)}};y(he);var fe={install:function(e){k(e,U)}};y(fe);var me={install:function(e){k(e,_)}};y(me);var ve={install:function(e){k(e,C)}};y(ve);var ge="undefined"==typeof window,be=ge?Object:window.HTMLElement,ye=ge?Object:window.File,ke=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:e.animation}},[e.isActive?i("div",{staticClass:"loading-overlay is-active",class:{"is-full-page":e.isFullPage}},[i("div",{staticClass:"loading-background",on:{click:e.cancel}}),e._v(" "),e._t("default",[i("div",{staticClass:"loading-icon"})])],2):e._e()])},staticRenderFns:[]},void 0,{name:"BLoading",props:{active:Boolean,programmatic:Boolean,container:[Object,Function,be],isFullPage:{type:Boolean,default:!0},animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1}},watch:{active:function(e){this.isActive=e}},methods:{cancel:function(){this.canCancel&&this.isActive&&this.close()},close:function(){var e=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(function(){e.$destroy(),p(e.$el)},150))},keyPress:function(e){27===e.keyCode&&this.cancel()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&(this.container?(this.isFullPage=!1,this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}},void 0,!1,void 0,void 0,void 0),we={open:function(e){var t=Object.assign({programmatic:!0},e);return new(("undefined"!=typeof window&&window.Vue?window.Vue:a).extend(ke))({el:document.createElement("div"),propsData:t})}},xe={install:function(e){k(e,ke),w(e,"loading",we)}};y(xe);var _e=x({render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"menu"},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"BMenu"},void 0,!1,void 0,void 0,void 0),Ce=x({},void 0,{name:"BMenuList",functional:!0,props:{label:String,icon:String,iconPack:String,ariaRole:{type:String,default:""}},render:function(e,t){var i=null,n=t.slots();(t.props.label||n.label)&&(i=e("p",{attrs:{class:"menu-label"}},t.props.label?t.props.icon?[e("b-icon",{props:{icon:t.props.icon,pack:t.props.iconPack,size:"is-small"}}),e("span",{},t.props.label)]:t.props.label:n.label));var s=e("ul",{attrs:{class:"menu-list",role:"menu"===t.props.ariaRole?t.props.ariaRole:null}},n.default);return i?[i,s]:s}},void 0,void 0,void 0,void 0,void 0),Se=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{attrs:{role:t.ariaRoleMenu}},[i(t.tag,t._b({tag:"component",class:{"is-active":t.newActive,"is-disabled":t.disabled},on:{click:function(e){t.onClick(e)}},nativeOn:{click:function(e){t.onClick(e)}}},"component",t.$attrs,!1),[t.icon?i("b-icon",{attrs:{icon:t.icon,pack:t.iconPack,size:"is-small"}}):t._e(),t._v(" "),t.label?i("span",[t._v(t._s(t.label))]):t._t("label",null,{expanded:t.newExpanded,active:t.newActive})],2),t._v(" "),t.$slots.default?[i("transition",{attrs:{name:t.animation}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.newExpanded,expression:"newExpanded"}]},[t._t("default")],2)])]:t._e()],2)},staticRenderFns:[]},void 0,{name:"BMenuItem",components:s({},_.name,_),inheritAttrs:!1,props:{label:String,active:Boolean,expanded:Boolean,disabled:Boolean,iconPack:String,icon:String,animation:{type:String,default:"fade"},tag:{type:String,default:"a",validator:function(e){return 0<=["a","router-link","nuxt-link","n-link","NuxtLink","NLink"].indexOf(e)}},ariaRole:{type:String,default:""}},data:function(){return{newActive:this.active,newExpanded:this.expanded}},computed:{ariaRoleMenu:function(){return"menuitem"===this.ariaRole?this.ariaRole:null}},watch:{active:function(e){this.newActive=e},expanded:function(e){this.newExpanded=e}},methods:{onClick:function(e){this.disabled||(this.reset(this.$parent),this.newExpanded=!0,this.$emit("update:expanded",this.newActive),this.newActive=!0,this.$emit("update:active",this.newActive),this.$emit("click",e))},reset:function(e){var t=this;e.$children.filter(function(e){return e.name===t.name}).forEach(function(e){e!==t&&(t.reset(e),e.newExpanded=!1,e.$emit("update:expanded",e.newActive),e.newActive=!1,e.$emit("update:active",e.newActive))})}}},void 0,!1,void 0,void 0,void 0),$e={install:function(e){k(e,_e),k(e,Ce),k(e,Se)}};y($e);var Te={components:s({},_.name,_),props:{active:{type:Boolean,default:!0},title:String,closable:{type:Boolean,default:!0},message:String,type:String,hasIcon:Boolean,size:String,iconPack:String,iconSize:String,autoClose:{type:Boolean,default:!1},duration:{type:Number,default:2e3}},data:function(){return{isActive:this.active}},watch:{active:function(e){this.isActive=e},isActive:function(e){e?this.setAutoClose():this.timer&&clearTimeout(this.timer)}},computed:{icon:function(){switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}}},methods:{close:function(){this.isActive=!1,this.$emit("close"),this.$emit("update:active",!1)},setAutoClose:function(){var e=this;this.autoClose&&(this.timer=setTimeout(function(){e.isActive&&e.close()},this.duration))}},mounted:function(){this.setAutoClose()}},De=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[e.isActive?i("article",{staticClass:"message",class:[e.type,e.size]},[e.title?i("header",{staticClass:"message-header"},[i("p",[e._v(e._s(e.title))]),e._v(" "),e.closable?i("button",{staticClass:"delete",attrs:{type:"button","aria-label":e.ariaCloseLabel},on:{click:e.close}}):e._e()]):e._e(),e._v(" "),i("section",{staticClass:"message-body"},[i("div",{staticClass:"media"},[e.icon&&e.hasIcon?i("div",{staticClass:"media-left"},[i("b-icon",{class:e.type,attrs:{icon:e.icon,pack:e.iconPack,both:"",size:e.newIconSize}})],1):e._e(),e._v(" "),i("div",{staticClass:"media-content"},[e._t("default")],2)])])]):e._e()])},staticRenderFns:[]},void 0,{name:"BMessage",mixins:[Te],props:{ariaCloseLabel:String},data:function(){return{newIconSize:this.iconSize||this.size||"is-large"}}},void 0,!1,void 0,void 0,void 0),Ae={install:function(e){k(e,De)}};y(Ae);var Be={open:function(e){var t,i;"string"==typeof e&&(t=e);var n={programmatic:!0,content:t};e.parent&&(i=e.parent,delete e.parent);var s=Object.assign(n,e);return new(("undefined"!=typeof window&&window.Vue?window.Vue:a).extend(le))({parent:i,el:document.createElement("div"),propsData:s})}},Fe={install:function(e){k(e,le),w(e,"modal",Be)}};y(Fe);var Me=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[i("article",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"notification",class:[e.type,e.position]},[e.closable?i("button",{staticClass:"delete",attrs:{type:"button","aria-label":e.ariaCloseLabel},on:{click:e.close}}):e._e(),e._v(" "),i("div",{staticClass:"media"},[e.icon&&e.hasIcon?i("div",{staticClass:"media-left"},[i("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,both:"",size:"is-large","aria-hidden":""}})],1):e._e(),e._v(" "),i("div",{staticClass:"media-content"},[e.message?i("p",{staticClass:"text",domProps:{innerHTML:e._s(e.message)}}):e._t("default")],2)])])])},staticRenderFns:[]},void 0,{name:"BNotification",mixins:[Te],props:{position:String,ariaCloseLabel:String}},void 0,!1,void 0,void 0,void 0),Pe={props:{type:{type:String,default:"is-dark"},message:String,duration:Number,queue:{type:Boolean,default:void 0},position:{type:String,default:"is-top",validator:function(e){return-1<["is-top-right","is-top","is-top-left","is-bottom-right","is-bottom","is-bottom-left"].indexOf(e)}},container:String},data:function(){return{isActive:!1,parentTop:null,parentBottom:null,newContainer:this.container||v.defaultContainerElement}},computed:{correctParent:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return this.parentTop;case"is-bottom-right":case"is-bottom":case"is-bottom-left":return this.parentBottom}},transition:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return{enter:"fadeInDown",leave:"fadeOut"};case"is-bottom-right":case"is-bottom":case"is-bottom-left":return{enter:"fadeInUp",leave:"fadeOut"}}}},methods:{shouldQueue:function(){return!!(void 0!==this.queue?this.queue:v.defaultNoticeQueue)&&(0<this.parentTop.childElementCount||0<this.parentBottom.childElementCount)},close:function(){var e=this;clearTimeout(this.timer),this.isActive=!1,setTimeout(function(){e.$destroy(),p(e.$el)},150)},showNotice:function(){var e=this;this.shouldQueue()?setTimeout(function(){return e.showNotice()},250):(this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.indefinite||(this.timer=setTimeout(function(){return e.close()},this.newDuration)))},setupContainer:function(){if(this.parentTop=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-top"),this.parentBottom=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-bottom"),!this.parentTop||!this.parentBottom){this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="notices is-top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="notices is-bottom");var e=document.querySelector(this.newContainer)||document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom),this.newContainer&&(this.parentTop.classList.add("has-custom-container"),this.parentBottom.classList.add("has-custom-container"))}}},beforeMount:function(){this.setupContainer()},mounted:function(){this.showNotice()}},Oe=x({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-notification",e._b({on:{close:e.close}},"b-notification",e.$options.propsData,!1))},staticRenderFns:[]},void 0,{name:"BNotificationNotice",mixins:[Pe],props:{indefinite:{type:Boolean,default:!1}},data:function(){return{newDuration:this.duration||v.defaultNotificationDuration}}},void 0,!1,void 0,void 0,void 0),Ne={open:function(e){var t,i;"string"==typeof e&&(t=e);var n={message:t,position:v.defaultNotificationPosition||"is-top-right"};e.parent&&(i=e.parent,delete e.parent);var s=Object.assign(n,"string"==typeof e?{}:e);return new(("undefined"!=typeof window&&window.Vue?window.Vue:a).extend(Oe))({parent:i,el:document.createElement("div"),propsData:s})}},Ee={install:function(e){k(e,Me),w(e,"notification",Ne)}};y(Ee);var ze=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",e._g({staticClass:"navbar-burger burger",class:{"is-active":e.isOpened},attrs:{role:"button","aria-label":"menu","aria-expanded":e.isOpened}},e.$listeners),[i("span",{attrs:{"aria-hidden":"true"}}),e._v(" "),i("span",{attrs:{"aria-hidden":"true"}}),e._v(" "),i("span",{attrs:{"aria-hidden":"true"}})])},staticRenderFns:[]},void 0,{name:"NavbarBurger",props:{isOpened:{type:Boolean,default:!1}}},void 0,!1,void 0,void 0,void 0),Ve="undefined"!=typeof window&&("ontouchstart"in window||0<navigator.msMaxTouchPoints)?["touchstart","click"]:["click"],Ie=[];function Le(e){var t="function"==typeof e;if(!t&&"object"!==i(e))throw new Error("v-click-outside: Binding value should be a function or an object, typeof ".concat(e," given"));return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||Ve}}function Re(e){var t=e.el,i=e.event,n=e.handler,s=e.middleware;i.target!==t&&!t.contains(i.target)&&s(i,t)&&n(i,t)}var He,je={bind:function(t,e){var i=Le(e.value),n=i.handler,s=i.middleware,a=i.events,o={el:t,eventHandlers:a.map(function(e){return{event:e,handler:function(e){return Re({event:e,el:t,handler:n,middleware:s})}}})};o.eventHandlers.forEach(function(e){var t=e.event,i=e.handler;return document.addEventListener(t,i)}),Ie.push(o)},update:function(t,e){var i=Le(e.value),n=i.handler,s=i.middleware,a=i.events,o=Ie.find(function(e){return e.el===t});o.eventHandlers.forEach(function(e){var t=e.event,i=e.handler;return document.removeEventListener(t,i)}),o.eventHandlers=a.map(function(e){return{event:e,handler:function(e){return Re({event:e,el:t,handler:n,middleware:s})}}}),o.eventHandlers.forEach(function(e){var t=e.event,i=e.handler;return document.addEventListener(t,i)})},unbind:function(t){Ie.find(function(e){return e.el===t}).eventHandlers.forEach(function(e){var t=e.event,i=e.handler;return document.removeEventListener(t,i)})},instances:Ie},qe="is-fixed-top",Ue="is-fixed-bottom",We=x({},void 0,{name:"BNavbar",components:{NavbarBurger:ze},directives:{clickOutside:je},props:{type:[String,Object],transparent:{type:Boolean,default:!1},fixedTop:{type:Boolean,default:!1},fixedBottom:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},wrapperClass:{type:String},closeOnClick:{type:Boolean,default:!0},mobileBurger:{type:Boolean,default:!0},spaced:Boolean,shadow:Boolean},data:function(){return{internalIsActive:this.isActive}},computed:{isOpened:function(){return this.internalIsActive},computedClasses:function(){var e;return[this.type,(e={},s(e,qe,this.fixedTop),s(e,Ue,this.fixedBottom),s(e,"is-spaced",this.spaced),s(e,"has-shadow",this.shadow),s(e,"is-transparent",this.transparent),e)]}},watch:{isActive:{handler:function(e){this.internalIsActive=e},immediate:!0},fixedTop:{handler:function(e){this.checkIfFixedPropertiesAreColliding();var t=this.spaced?"has-spaced-navbar-fixed-top":"has-navbar-fixed-top";if(e)return this.setBodyClass(t);this.removeBodyClass(t)},immediate:!0},fixedBottom:{handler:function(e){this.checkIfFixedPropertiesAreColliding();var t=this.spaced?"has-spaced-navbar-fixed-bottom":"has-navbar-fixed-bottom";if(e)return this.setBodyClass(t);this.removeBodyClass(t)},immediate:!0}},methods:{toggleActive:function(){this.internalIsActive=!this.internalIsActive,this.emitUpdateParentEvent()},closeMenu:function(){this.closeOnClick&&(this.internalIsActive=!1,this.emitUpdateParentEvent())},emitUpdateParentEvent:function(){this.$emit("update:isActive",this.internalIsActive)},setBodyClass:function(e){"undefined"!=typeof window&&document.body.classList.add(e)},removeBodyClass:function(e){"undefined"!=typeof window&&document.body.classList.remove(e)},checkIfFixedPropertiesAreColliding:function(){if(this.fixedTop&&this.fixedBottom)throw new Error("You should choose if the BNavbar is fixed bottom or fixed top, but not both")},genNavbar:function(e){var t=[this.genNavbarBrandNode(e),this.genNavbarSlotsNode(e)];if(!function(e){return!!e}(this.wrapperClass))return this.genNavbarSlots(e,t);var i=e("div",{class:this.wrapperClass},t);return this.genNavbarSlots(e,[i])},genNavbarSlots:function(e,t){return e("nav",{staticClass:"navbar",class:this.computedClasses,attrs:{role:"navigation","aria-label":"main navigation"},directives:[{name:"click-outside",value:this.closeMenu}]},t)},genNavbarBrandNode:function(e){return e("div",{class:"navbar-brand"},[this.$slots.brand,this.genBurgerNode(e)])},genBurgerNode:function(e){if(this.mobileBurger){var t=e("navbar-burger",{props:{isOpened:this.isOpened},on:{click:this.toggleActive}});return!!this.$scopedSlots.burger?this.$scopedSlots.burger({isOpened:this.isOpened,toggleActive:this.toggleActive}):t}},genNavbarSlotsNode:function(e){return e("div",{staticClass:"navbar-menu",class:{"is-active":this.isOpened}},[this.genMenuPosition(e,"start"),this.genMenuPosition(e,"end")])},genMenuPosition:function(e,t){return e("div",{staticClass:"navbar-".concat(t)},this.$slots[t])}},beforeDestroy:function(){this.removeBodyClass(Ue),this.removeBodyClass(qe)},render:function(e){return this.genNavbar(e)}},void 0,void 0,void 0,void 0,void 0),Ye=["div","span"],Xe=x({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag,e._g(e._b({tag:"component",staticClass:"navbar-item",class:{"is-active":e.active}},"component",e.$attrs,!1),e.$listeners),[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"BNavbarItem",inheritAttrs:!1,props:{tag:{type:String,default:"a"},active:Boolean},methods:{keyPress:function(e){27===e.keyCode&&this.$parent.closeMenu()},handleClickEvent:function(t){Ye.some(function(e){return e===t.target.localName})||(this.$parent.$data._isNavDropdown?(this.$parent.closeMenu(),this.$parent.$parent.closeMenu()):this.$parent.closeMenu())}},mounted:function(){"undefined"!=typeof window&&(this.$el.addEventListener("click",this.handleClickEvent),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(this.$el.removeEventListener("click",this.handleClickEvent),document.removeEventListener("keyup",this.keyPress))}},void 0,!1,void 0,void 0,void 0),Ke=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeMenu,expression:"closeMenu"}],staticClass:"navbar-item has-dropdown",class:{"is-hoverable":e.hoverable,"is-active":e.newActive}},[i("a",{staticClass:"navbar-link",class:{"is-arrowless":e.arrowless},on:{click:function(){e.newActive=!e.newActive}}},[e.label?[e._v(e._s(e.label))]:e._t("label")],2),e._v(" "),i("div",{staticClass:"navbar-dropdown",class:{"is-right":e.right,"is-boxed":e.boxed}},[e._t("default")],2)])},staticRenderFns:[]},void 0,{name:"BNavbarDropdown",directives:{clickOutside:je},props:{label:String,hoverable:Boolean,active:Boolean,right:Boolean,arrowless:Boolean,boxed:Boolean},data:function(){return{newActive:this.active,_isNavDropdown:!0}},watch:{active:function(e){this.newActive=e}},methods:{showMenu:function(){this.newActive=!0},closeMenu:function(){this.newActive=!1}}},void 0,!1,void 0,void 0,void 0),Ge={install:function(e){k(e,We),k(e,Xe),k(e,Ke)}};y(Ge);var Qe=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[i("p",{staticClass:"control",on:{mouseup:function(){t.onStopLongPress(!1)},mouseleave:function(){t.onStopLongPress(!1)},touchend:function(){t.onStopLongPress(!1)},touchcancel:function(){t.onStopLongPress(!1)}}},[i("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMin},on:{mousedown:function(e){t.onStartLongPress(e,!1)},touchstart:function(e){e.preventDefault(),t.onStartLongPress(e,!1)},click:function(e){t.onControlClick(e,!1)}}},[i("b-icon",{attrs:{icon:"minus",pack:t.iconPack,size:t.iconSize}})],1)]),t._v(" "),i("b-input",t._b({ref:"input",attrs:{type:"number",step:t.newStep,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){t.$emit("focus",e)},blur:function(e){t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=t._n(e)},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._v(" "),i("p",{staticClass:"control",on:{mouseup:function(){t.onStopLongPress(!0)},mouseleave:function(){t.onStopLongPress(!0)},touchend:function(){t.onStopLongPress(!0)},touchcancel:function(){t.onStopLongPress(!0)}}},[i("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMax},on:{mousedown:function(e){t.onStartLongPress(e,!0)},touchstart:function(e){e.preventDefault(),t.onStartLongPress(e,!0)},click:function(e){t.onControlClick(e,!0)}}},[i("b-icon",{attrs:{icon:"plus",pack:t.iconPack,size:t.iconSize}})],1)])],1)},staticRenderFns:[]},void 0,{name:"BNumberinput",components:(He={},s(He,_.name,_),s(He,C.name,C),He),mixins:[g],inheritAttrs:!1,props:{value:Number,min:[Number,String],max:[Number,String],step:[Number,String],disabled:Boolean,type:{type:String,default:"is-primary"},editable:{type:Boolean,default:!0},controlsRounded:{type:Boolean,default:!1},controlsPosition:String},data:function(){return{newValue:isNaN(this.value)?parseFloat(this.min)||0:this.value,newStep:this.step||1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){var t=e;""===e&&(t=parseFloat(this.min)||0),this.newValue=t,this.$emit("input",t),this.isValid||this.$refs.input.checkHtml5Validity()}},fieldClasses:function(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses:function(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber:function(){return"string"==typeof this.min?parseFloat(this.min):this.min},maxNumber:function(){return"string"==typeof this.max?parseFloat(this.max):this.max},stepNumber:function(){return"string"==typeof this.newStep?parseFloat(this.newStep):this.newStep},disabledMin:function(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax:function(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals:function(){var e=this.stepNumber.toString(),t=e.indexOf(".");return 0<=t?e.substring(t+1).length:0}},watch:{value:function(e){this.newValue=e}},methods:{decrement:function(){if(void 0===this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){var e=this.computedValue-this.stepNumber;this.computedValue=parseFloat(e.toFixed(this.stepDecimals))}},increment:function(){if(void 0===this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){var e=this.computedValue+this.stepNumber;this.computedValue=parseFloat(e.toFixed(this.stepDecimals))}},onControlClick:function(e,t){0===e.detail&&"click"!==e.type&&(t?this.increment():this.decrement())},onStartLongPress:function(e,t){var i=this;0!==e.button&&"touchstart"!==e.type||(this._$intervalTime=new Date,clearInterval(this._$intervalRef),this._$intervalRef=setInterval(function(){t?i.increment():i.decrement()},250))},onStopLongPress:function(e){this._$intervalRef&&(new Date-this._$intervalTime<250&&(e?this.increment():this.decrement()),clearInterval(this._$intervalRef),this._$intervalRef=null)}}},void 0,!1,void 0,void 0,void 0),Je={install:function(e){k(e,Qe)}};y(Je);var Ze,et=x({render:function(){var e,t=this,i=t.$createElement;return(t._self._c||i)(t.tag,t._b({tag:"component",staticClass:"pagination-link",class:(e={"is-current":t.page.isCurrent},e[t.page.class]=!0,e),attrs:{role:"button",href:t.href,disabled:t.isDisabled,"aria-label":t.page["aria-label"],"aria-current":t.page.isCurrent},on:{click:function(e){e.preventDefault(),t.page.click(e)}}},"component",t.$attrs,!1),[t._t("default",[t._v(t._s(t.page.number))])],2)},staticRenderFns:[]},void 0,{name:"BPaginationButton",props:{page:{type:Object,required:!0},tag:{type:String,default:"a",validator:function(e){return 0<=["a","button","input","router-link","nuxt-link","n-link","NuxtLink","NLink"].indexOf(e)}},disabled:{type:Boolean,default:!1}},computed:{href:function(){if("a"===this.tag)return"#"},isDisabled:function(){return this.disabled||this.page.disabled}}},void 0,!1,void 0,void 0,void 0),tt=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"pagination",class:t.rootClasses},[t.$scopedSlots.previous?t._t("previous",[i("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current-1,{disabled:!t.hasPrev,class:"pagination-previous","aria-label":t.ariaPreviousLabel})}):i("BPaginationButton",{staticClass:"pagination-previous",attrs:{disabled:!t.hasPrev,page:t.getPage(t.current-1)}},[i("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),t.$scopedSlots.next?t._t("next",[i("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current+1,{disabled:!t.hasNext,class:"pagination-next","aria-label":t.ariaNextLabel})}):i("BPaginationButton",{staticClass:"pagination-next",attrs:{disabled:!t.hasNext,page:t.getPage(t.current+1)}},[i("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),t.simple?i("small",{staticClass:"info"},[1==t.perPage?[t._v("\n            "+t._s(t.firstItem)+" / "+t._s(t.total)+"\n        ")]:[t._v("\n            "+t._s(t.firstItem)+"-"+t._s(Math.min(t.current*t.perPage,t.total))+" / "+t._s(t.total)+"\n        ")]],2):i("ul",{staticClass:"pagination-list"},[t.hasFirst?i("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(1)}):i("BPaginationButton",{attrs:{page:t.getPage(1)}})],2):t._e(),t._v(" "),t.hasFirstEllipsis?i("li",[i("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t._l(t.pagesInRange,function(e){return i("li",{key:e.number},[t.$scopedSlots.default?t._t("default",null,{page:e}):i("BPaginationButton",{attrs:{page:e}})],2)}),t._v(" "),t.hasLastEllipsis?i("li",[i("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t.hasLast?i("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(t.pageCount)}):i("BPaginationButton",{attrs:{page:t.getPage(t.pageCount)}})],2):t._e()],2)],2)},staticRenderFns:[]},void 0,{name:"BPagination",components:(Ze={},s(Ze,_.name,_),s(Ze,et.name,et),Ze),props:{total:[Number,String],perPage:{type:[Number,String],default:20},current:{type:[Number,String],default:1},rangeBefore:{type:[Number,String],default:1},rangeAfter:{type:[Number,String],default:1},size:String,simple:Boolean,rounded:Boolean,order:String,iconPack:String,iconPrev:{type:String,default:v.defaultIconPrev},iconNext:{type:String,default:v.defaultIconNext},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String},computed:{rootClasses:function(){return[this.order,this.size,{"is-simple":this.simple,"is-rounded":this.rounded}]},beforeCurrent:function(){return parseInt(this.rangeBefore)},afterCurrent:function(){return parseInt(this.rangeAfter)},pageCount:function(){return Math.ceil(this.total/this.perPage)},firstItem:function(){var e=this.current*this.perPage-this.perPage+1;return 0<=e?e:0},hasPrev:function(){return 1<this.current},hasFirst:function(){return this.current>=2+this.beforeCurrent},hasFirstEllipsis:function(){return this.current>=this.beforeCurrent+4},hasLast:function(){return this.current<=this.pageCount-(1+this.afterCurrent)},hasLastEllipsis:function(){return this.current<this.pageCount-(2+this.afterCurrent)},hasNext:function(){return this.current<this.pageCount},pagesInRange:function(){if(!this.simple){var e=Math.max(1,this.current-this.beforeCurrent);e-1==2&&e--;var t=Math.min(this.current+this.afterCurrent,this.pageCount);this.pageCount-t==2&&t++;for(var i=[],n=e;n<=t;n++)i.push(this.getPage(n));return i}}},watch:{pageCount:function(e){this.current>e&&this.last()}},methods:{prev:function(e){this.changePage(this.current-1,e)},next:function(e){this.changePage(this.current+1,e)},first:function(e){this.changePage(1,e)},last:function(e){this.changePage(this.pageCount,e)},changePage:function(e,t){this.current===e||e<1||e>this.pageCount||(this.$emit("change",e),this.$emit("update:current",e),t&&t.target&&this.$nextTick(function(){return t.target.focus()}))},getPage:function(t,e){var i=this,n=1<arguments.length&&void 0!==e?e:{};return{number:t,isCurrent:this.current===t,click:function(e){return i.changePage(t,e)},disabled:n.disabled||!1,class:n.class||"","aria-label":n["aria-label"]||this.getAriaPageLabel(t,this.current===t)}},getAriaPageLabel:function(e,t){return!this.ariaPageLabel||t&&this.ariaCurrentLabel?this.ariaPageLabel&&t&&this.ariaCurrentLabel?this.ariaCurrentLabel+", "+this.ariaPageLabel+" "+e+".":null:this.ariaPageLabel+" "+e+"."}}},void 0,!1,void 0,void 0,void 0),it={install:function(e){k(e,tt),k(e,et)}};y(it);var nt=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"progress-wrapper"},[i("progress",{ref:"progress",staticClass:"progress",class:e.newType,attrs:{max:e.max}},[e._v(e._s(e.newValue))]),e._v(" "),e.showValue?i("p",{staticClass:"progress-value"},[e._t("default",[e._v(e._s(e.newValue))])],2):e._e()])},staticRenderFns:[]},void 0,{name:"BProgress",props:{type:{type:[String,Object],default:"is-darkgrey"},size:String,value:{type:Number,default:void 0},max:{type:Number,default:100},showValue:{type:Boolean,default:!1},format:{type:String,default:"raw",validator:function(e){return 0<=["raw","percent"].indexOf(e)}},precision:{type:Number,default:2},keepTrailingZeroes:{type:Boolean,default:!1}},computed:{isIndeterminate:function(){return void 0===this.value||null===this.value},newType:function(){return[this.size,this.type]},newValue:function(){if(void 0!==this.value&&null!==this.value&&!isNaN(this.value)){if("percent"!==this.format)return this.toFixed(this.value);var e=this.toFixed(this.value*this.max/100);return"".concat(e,"%")}}},watch:{value:function(e){this.setValue(e)}},methods:{setValue:function(e){this.isIndeterminate?this.$refs.progress.removeAttribute("value"):this.$refs.progress.setAttribute("value",e)},toFixed:function(e){var t=(+"".concat(Math.round(+"".concat(e,"e").concat(this.precision)),"e").concat(-this.precision)).toFixed(this.precision);return this.keepTrailingZeroes||(t=t.replace(/\.?0+$/,"")),t}},mounted:function(){this.setValue(this.value)}},void 0,!1,void 0,void 0,void 0),st={install:function(e){k(e,nt)}};y(st);var at=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{ref:"label",staticClass:"b-radio radio",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),t.$refs.label.click()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(e){e.stopPropagation()},change:function(){t.computedValue=t.nativeValue}}}),t._v(" "),i("span",{staticClass:"check",class:t.type}),t._v(" "),i("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,{name:"BRadio",props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],type:String,disabled:Boolean,required:Boolean,name:String,size:String},data:function(){return{newValue:this.value}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){this.newValue=e,this.$emit("input",e)}}},watch:{value:function(e){this.newValue=e}},methods:{focus:function(){this.$refs.input.focus()}}},void 0,!1,void 0,void 0,void 0),ot=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[i("label",{ref:"label",staticClass:"b-radio radio button",class:[t.newValue===t.nativeValue?t.type:null,t.size,{"is-disabled":t.disabled,"is-focused":t.isFocused}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),t.$refs.label.click()}}},[t._t("default"),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(e){e.stopPropagation()},focus:function(){t.isFocused=!0},blur:function(){t.isFocused=!1},change:function(){t.computedValue=t.nativeValue}}})],2)])},staticRenderFns:[]},void 0,{name:"BRadioButton",props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],type:{type:String,default:"is-primary"},disabled:Boolean,required:Boolean,expanded:Boolean,name:String,size:String},data:function(){return{newValue:this.value,isFocused:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){this.newValue=e,this.$emit("input",e)}}},watch:{value:function(e){this.newValue=e}},methods:{focus:function(){this.$refs.input.focus()}}},void 0,!1,void 0,void 0,void 0),rt={install:function(e){k(e,at),k(e,ot)}};y(rt);var lt=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"rate",class:{"is-disabled":i.disabled,"is-spaced":i.spaced,"is-rtl":i.rtl}},[i._l(i.max,function(t,e){return n("div",{key:e,staticClass:"rate-item",class:i.rateClass(t),on:{mousemove:function(e){i.previewRate(t,e)},mouseleave:i.resetNewValue,click:function(e){e.preventDefault(),i.confirmValue(t)}}},[n("b-icon",{attrs:{pack:i.iconPack,icon:i.icon,size:i.size}}),i._v(" "),i.checkHalf(t)?n("b-icon",{staticClass:"is-half",style:i.halfStyle,attrs:{pack:i.iconPack,icon:i.icon,size:i.size}}):i._e()],1)}),i._v(" "),i.showText||i.showScore||i.customText?n("div",{staticClass:"rate-text",class:i.size},[n("span",[i._v(i._s(i.showMe))]),i._v(" "),i.customText&&!i.showText?n("span",[i._v(i._s(i.customText))]):i._e()]):i._e()],2)},staticRenderFns:[]},void 0,{name:"BRate",components:s({},_.name,_),props:{value:{type:Number,default:0},max:{type:Number,default:5},icon:{type:String,default:"star"},iconPack:String,size:String,spaced:Boolean,rtl:Boolean,disabled:Boolean,showScore:Boolean,showText:Boolean,customText:String,texts:Array},data:function(){return{newValue:this.value,hoverValue:0}},computed:{halfStyle:function(){return"width:".concat(this.valueDecimal,"%")},showMe:function(){var e="";return this.showScore?0===(e=this.disabled?this.value:this.newValue)&&(e=""):this.showText&&(e=this.texts[Math.ceil(this.newValue)-1]),e},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)}},watch:{value:function(e){this.newValue=e}},methods:{resetNewValue:function(){this.disabled||(this.hoverValue=0)},previewRate:function(e,t){this.disabled||(this.hoverValue=e,t.stopPropagation())},confirmValue:function(e){this.disabled||(this.newValue=e,this.$emit("change",this.newValue),this.$emit("input",this.newValue))},checkHalf:function(e){return this.disabled&&0<this.valueDecimal&&e-1<this.value&&e>this.value},rateClass:function(e){var t="";return e<=(0!==this.hoverValue?this.hoverValue:this.newValue)?t="set-on":this.disabled&&Math.ceil(this.value)===e&&(t="set-half"),t}}},void 0,!1,void 0,void 0,void 0),ct={install:function(e){k(e,lt)}};y(ct);var dt={install:function(e){k(e,J)}};y(dt);var ut,pt=x({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{class:[e.newType,e.position,e.size,{"b-tooltip":e.active,"is-square":e.square,"is-animated":e.newAnimated,"is-always":e.always,"is-multiline":e.multilined,"is-dashed":e.dashed}],style:{"transition-delay":e.newDelay+"ms"},attrs:{"data-label":e.label}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"BTooltip",props:{active:{type:Boolean,default:!0},type:String,label:String,position:{type:String,default:"is-top",validator:function(e){return-1<["is-top","is-bottom","is-left","is-right"].indexOf(e)}},always:Boolean,animated:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},delay:Number},computed:{newType:function(){return this.type||v.defaultTooltipType},newAnimated:function(){return this.animated||v.defaultTooltipAnimated},newDelay:function(){return this.delay||v.defaultTooltipDelay}}},void 0,!1,void 0,void 0,void 0),ht=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b-slider-thumb-wrapper",class:{"is-dragging":t.dragging},style:t.wrapperStyle},[i("b-tooltip",{attrs:{label:t.tooltipLabel,type:t.type,always:t.dragging||t.isFocused,active:!t.disabled&&t.tooltip}},[i("div",t._b({staticClass:"b-slider-thumb",attrs:{tabindex:!t.disabled&&0},on:{mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.onFocus,blur:t.onBlur,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key)?"button"in e&&0!==e.button?null:(e.preventDefault(),void t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key)?"button"in e&&2!==e.button?null:(e.preventDefault(),void t.onRightKeyDown(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key))return null;e.preventDefault(),t.onLeftKeyDown(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key))return null;e.preventDefault(),t.onRightKeyDown(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"home",void 0,e.key))return null;e.preventDefault(),t.onHomeKeyDown(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"end",void 0,e.key))return null;e.preventDefault(),t.onEndKeyDown(e)}]}},"div",t.$attrs,!1))])],1)},staticRenderFns:[]},void 0,{name:"BSliderThumb",components:s({},pt.name,pt),inheritAttrs:!1,props:{value:{type:Number,default:0},type:{type:String,default:""},tooltip:{type:Boolean,default:!0},customFormatter:Function},data:function(){return{isFocused:!1,dragging:!1,startX:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.disabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return"".concat((this.value-this.min)/(this.max-this.min)*100,"%")},wrapperStyle:function(){return{left:this.currentPosition}},tooltipLabel:function(){return void 0!==this.customFormatter?this.customFormatter(this.value):this.value.toString()}},methods:{onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1},onButtonDown:function(e){this.disabled||(e.preventDefault(),this.onDragStart(e),"undefined"!=typeof window&&(document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd)))},onLeftKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onRightKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onHomeKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=0,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onEndKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onDragStart:function(e){this.dragging=!0,this.$emit("dragstart"),"touchstart"===e.type&&(e.clientX=e.touches[0].clientX),this.startX=e.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(e){if(this.dragging){"touchmove"===e.type&&(e.clientX=e.touches[0].clientX);var t=(e.clientX-this.startX)/this.$parent.sliderSize*100;this.newPosition=this.startPosition+t,this.setPosition(this.newPosition)}},onDragEnd:function(){this.dragging=!1,this.$emit("dragend"),this.value!==this.oldValue&&this.$parent.emitValue("change"),this.setPosition(this.newPosition),"undefined"!=typeof window&&(document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(e){if(null!==e&&!isNaN(e)){e<0?e=0:100<e&&(e=100);var t=100/((this.max-this.min)/this.step),i=Math.round(e/t)*t/100*(this.max-this.min)+this.min;i=parseFloat(i.toFixed(this.precision)),this.$emit("input",i),this.dragging||i===this.oldValue||(this.oldValue=i)}}}},void 0,!1,void 0,void 0,void 0),ft=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"b-slider-tick",class:{"is-tick-hidden":e.hidden},style:e.getTickStyle(e.position)},[e.$slots.default?i("span",{staticClass:"b-slider-tick-label"},[e._t("default")],2):e._e()])},staticRenderFns:[]},void 0,{name:"BSliderTick",props:{value:{type:Number,default:0}},computed:{position:function(){var e=(this.value-this.$parent.min)/(this.$parent.max-this.$parent.min)*100;return 0<=e&&e<=100?e:0},hidden:function(){return this.value===this.$parent.min||this.value===this.$parent.max}},methods:{getTickStyle:function(e){return{left:e+"%"}}},created:function(){if(!this.$parent.$data._isSlider)throw this.$destroy(),new Error("You should wrap bSliderTick on a bSlider")}},void 0,!1,void 0,void 0,void 0),mt=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b-slider",class:[t.size,t.type,t.rootClasses]},[i("div",{ref:"slider",staticClass:"b-slider-track",on:{click:t.onSliderClick}},[i("div",{staticClass:"b-slider-fill",style:t.barStyle}),t._v(" "),t.ticks?t._l(t.tickValues,function(e,t){return i("b-slider-tick",{key:t,attrs:{value:e}})}):t._e(),t._v(" "),t._t("default"),t._v(" "),i("b-slider-thumb",{ref:"button1",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value1,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[0]:t.ariaLabel,"aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),t.isRange?i("b-slider-thumb",{ref:"button2",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value2,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[1]:"","aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}):t._e()],2)])},staticRenderFns:[]},void 0,{name:"BSlider",components:(ut={},s(ut,ht.name,ht),s(ut,ft.name,ft),ut),props:{value:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},type:{type:String,default:"is-primary"},size:String,ticks:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0},tooltipType:String,rounded:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},customFormatter:Function,ariaLabel:[String,Array]},data:function(){return{value1:null,value2:null,dragging:!1,isRange:!1,_isSlider:!0}},computed:{newTooltipType:function(){return this.tooltipType?this.tooltipType:this.type},tickValues:function(){if(!this.ticks||this.min>this.max||0===this.step)return[];for(var e=[],t=this.min+this.step;t<this.max;t+=this.step)e.push(t);return e},minValue:function(){return Math.min(this.value1,this.value2)},maxValue:function(){return Math.max(this.value1,this.value2)},barSize:function(){return this.isRange?"".concat(100*(this.maxValue-this.minValue)/(this.max-this.min),"%"):"".concat(100*(this.value1-this.min)/(this.max-this.min),"%")},barStart:function(){return this.isRange?"".concat(100*(this.minValue-this.min)/(this.max-this.min),"%"):"0%"},precision:function(){var e=[this.min,this.max,this.step].map(function(e){var t=(""+e).split(".")[1];return t?t.length:0});return Math.max.apply(Math,t(e))},barStyle:function(){return{width:this.barSize,left:this.barStart}},sliderSize:function(){return this.$refs.slider.clientWidth},rootClasses:function(){return{"is-rounded":this.rounded,"is-dragging":this.dragging,"is-disabled":this.disabled}}},watch:{value:function(e){this.setValues(e)},value1:function(){this.onInternalValueUpdate()},value2:function(){this.onInternalValueUpdate()},min:function(){this.setValues(this.value)},max:function(){this.setValues(this.value)}},methods:{setValues:function(e){if(!(this.min>this.max))if(Array.isArray(e)){this.isRange=!0;var t="number"!=typeof e[0]||isNaN(e[0])?this.min:Math.min(Math.max(this.min,e[0]),this.max),i="number"!=typeof e[1]||isNaN(e[1])?this.max:Math.max(Math.min(this.max,e[1]),this.min);this.value1=this.isThumbReversed?i:t,this.value2=this.isThumbReversed?t:i}else this.isRange=!1,this.value1=isNaN(e)?this.min:Math.min(this.max,Math.max(this.min,e)),this.value2=null},onInternalValueUpdate:function(){this.isRange&&(this.isThumbReversed=this.value1>this.value2),this.lazy&&this.dragging||this.emitValue("input"),this.dragging&&this.emitValue("dragging")},onSliderClick:function(e){if(!this.disabled&&!this.isTrackClickDisabled){var t=this.$refs.slider.getBoundingClientRect().left,i=(e.clientX-t)/this.sliderSize*100,n=this.min+i*(this.max-this.min)/100,s=Math.abs(n-this.value1);if(this.isRange){var a=Math.abs(n-this.value2);if(s<=a){if(s<this.step/2)return;this.$refs.button1.setPosition(i)}else{if(a<this.step/2)return;this.$refs.button2.setPosition(i)}}else{if(s<this.step/2)return;this.$refs.button1.setPosition(i)}this.emitValue("change")}},onDragStart:function(){this.dragging=!0,this.$emit("dragstart")},onDragEnd:function(){var e=this;this.isTrackClickDisabled=!0,setTimeout(function(){e.isTrackClickDisabled=!1},0),this.dragging=!1,this.$emit("dragend"),this.lazy&&this.emitValue("input")},emitValue:function(e){this.$emit(e,this.isRange?[this.minValue,this.maxValue]:this.value1)}},created:function(){this.isThumbReversed=!1,this.isTrackClickDisabled=!1,this.setValues(this.value)}},void 0,!1,void 0,void 0,void 0),vt={install:function(e){k(e,mt),k(e,ft)}};y(vt);var gt=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"snackbar",class:[e.type,e.position]},[i("div",{staticClass:"text",domProps:{innerHTML:e._s(e.message)}}),e._v(" "),e.actionText?i("div",{staticClass:"action",class:e.type,on:{click:e.action}},[i("button",{staticClass:"button"},[e._v(e._s(e.actionText))])]):e._e()])])},staticRenderFns:[]},void 0,{name:"BSnackbar",mixins:[Pe],props:{actionText:{type:String,default:"OK"},onAction:{type:Function,default:function(){}},indefinite:{type:Boolean,default:!1}},data:function(){return{newDuration:this.duration||v.defaultSnackbarDuration}},methods:{action:function(){this.onAction(),this.close()}}},void 0,!1,void 0,void 0,void 0),bt={open:function(e){var t,i;"string"==typeof e&&(t=e);var n={type:"is-success",position:v.defaultSnackbarPosition||"is-bottom-right",message:t};e.parent&&(i=e.parent,delete e.parent);var s=Object.assign(n,e);return new(("undefined"!=typeof window&&window.Vue?window.Vue:a).extend(gt))({parent:i,el:document.createElement("div"),propsData:s})}},yt={install:function(e){w(e,"snackbar",bt)}};y(yt);var kt,wt={name:"BSlotComponent",props:{component:{type:Object,required:!0},name:{type:String,default:"default"},scoped:{type:Boolean},props:{type:Object},tag:{type:String,default:"div"},event:{type:String,default:"hook:updated"}},methods:{refresh:function(){this.$forceUpdate()},isVueComponent:function(){return this.component&&this.component._isVue}},created:function(){this.isVueComponent()&&this.component.$on(this.event,this.refresh)},beforeDestroy:function(){this.isVueComponent()&&this.component.$off(this.event,this.refresh)},render:function(e){if(this.isVueComponent())return e(this.tag,{},this.scoped?this.component.$scopedSlots[this.name](this.props):this.component.$slots[this.name])}},xt=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"b-steps"},[n("nav",{staticClass:"steps",class:i.mainClasses},[n("ul",{staticClass:"step-items"},i._l(i.stepItems,function(e,t){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"stepItem.visible"}],key:t,staticClass:"step-item",class:[e.type||i.type,{"is-active":i.activeStep===t,"is-previous":i.activeStep>t}]},[n("a",{staticClass:"step-link",class:{"is-clickable":i.isItemClickable(e,t)},on:{click:function(){i.isItemClickable(e,t)&&i.stepClick(t)}}},[n("div",{staticClass:"step-marker"},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:i.size}}):i._e()],1),i._v(" "),n("div",{staticClass:"step-details"},[n("span",{staticClass:"step-title"},[i._v(i._s(e.label))])])])])}))]),i._v(" "),n("section",{staticClass:"step-content",class:{"is-transitioning":i.isTransitioning}},[i._t("default")],2),i._v(" "),i._t("navigation",[i.hasNavigation?n("nav",{staticClass:"step-navigation"},[n("a",{staticClass:"pagination-previous",attrs:{role:"button",disabled:i.navigationProps.previous.disabled,"aria-label":i.ariaPreviousLabel},on:{click:function(e){e.preventDefault(),i.navigationProps.previous.action(e)}}},[n("b-icon",{attrs:{icon:i.iconPrev,pack:i.iconPack,both:"","aria-hidden":"true"}})],1),i._v(" "),n("a",{staticClass:"pagination-next",attrs:{role:"button",disabled:i.navigationProps.next.disabled,"aria-label":i.ariaNextLabel},on:{click:function(e){e.preventDefault(),i.navigationProps.next.action(e)}}},[n("b-icon",{attrs:{icon:i.iconNext,pack:i.iconPack,both:"","aria-hidden":"true"}})],1)]):i._e()],{previous:i.navigationProps.previous,next:i.navigationProps.next})],2)},staticRenderFns:[]},void 0,{name:"BSteps",components:(kt={},s(kt,_.name,_),s(kt,wt.name,wt),kt),props:{value:Number,type:[String,Object],size:String,animated:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1},iconPack:String,iconPrev:{type:String,default:v.defaultIconPrev},iconNext:{type:String,default:v.defaultIconNext},hasNavigation:{type:Boolean,default:!0},ariaNextLabel:String,ariaPreviousLabel:String},data:function(){return{activeStep:this.value||0,stepItems:[],contentHeight:0,isTransitioning:!1,_isSteps:!0}},computed:{mainClasses:function(){return[this.type,this.size]},reversedStepItems:function(){return this.stepItems.slice().reverse()},firstVisibleStepIndex:function(){return this.stepItems.map(function(e,t){return e.visible}).indexOf(!0)},hasPrev:function(){return 0<=this.firstVisibleStepIndex&&this.activeStep>this.firstVisibleStepIndex},lastVisibleStepIndex:function(){var e=this.reversedStepItems.map(function(e,t){return e.visible}).indexOf(!0);return 0<=e?this.stepItems.length-1-e:e},hasNext:function(){return 0<=this.lastVisibleStepIndex&&this.activeStep<this.lastVisibleStepIndex},navigationProps:function(){return{previous:{disabled:!this.hasPrev,action:this.prev},next:{disabled:!this.hasNext,action:this.next}}}},watch:{value:function(e){this.changeStep(e)},stepItems:function(){this.activeStep<this.stepItems.length&&(this.stepItems[this.activeStep].isActive=!0)}},methods:{changeStep:function(e){this.activeStep!==e&&(this.activeStep<this.stepItems.length&&this.stepItems[this.activeStep].deactivate(this.activeStep,e),this.stepItems[e].activate(this.activeStep,e),this.activeStep=e,this.$emit("change",e))},isItemClickable:function(e,t){return void 0===e.clickable?this.activeStep>t:e.clickable},stepClick:function(e){this.$emit("input",e),this.changeStep(e)},prev:function(){var i=this;if(this.hasPrev){var e=this.reversedStepItems.map(function(e,t){return i.stepItems.length-1-t<i.activeStep&&e.visible}).indexOf(!0);0<=e&&(e=this.stepItems.length-1-e),this.$emit("input",e),this.changeStep(e)}},next:function(){var i=this;if(this.hasNext){var e=this.stepItems.map(function(e,t){return t>i.activeStep&&e.visible}).indexOf(!0);this.$emit("input",e),this.changeStep(e)}}},mounted:function(){this.activeStep<this.stepItems.length&&(this.stepItems[this.activeStep].isActive=!0)}},void 0,!1,void 0,void 0,void 0),_t=x({},void 0,{name:"BStepItem",props:{label:String,type:String|Object,icon:String,iconPack:String,clickable:{type:Boolean,default:void 0},visible:{type:Boolean,default:!0}},data:function(){return{isActive:!1,transitionName:null}},methods:{activate:function(e,t){this.transitionName=t<e?"slide-next":"slide-prev",this.isActive=!0},deactivate:function(e,t){this.transitionName=t<e?"slide-next":"slide-prev",this.isActive=!1}},created:function(){if(!this.$parent.$data._isSteps)throw this.$destroy(),new Error("You should wrap bStepItem on a bSteps");this.$parent.stepItems.push(this)},beforeDestroy:function(){var e=this.$parent.stepItems.indexOf(this);0<=e&&this.$parent.stepItems.splice(e,1)},render:function(e){var t=this;if(!this.$parent.destroyOnHide||this.isActive&&this.visible){var i=e("div",{directives:[{name:"show",value:this.isActive&&this.visible}],attrs:{class:"step-item"}},this.$slots.default);return this.$parent.animated?e("transition",{props:{name:this.transitionName},on:{"before-enter":function(){t.$parent.isTransitioning=!0},"after-enter":function(){t.$parent.isTransitioning=!1}}},[i]):i}}},void 0,void 0,void 0,void 0,void 0),Ct={install:function(e){k(e,xt),k(e,_t)}};y(Ct);var St,$t=x({render:function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("label",{ref:"label",staticClass:"switch",class:o.newClass,attrs:{disabled:o.disabled},on:{click:o.focus,keydown:function(e){if(!("button"in e)&&o._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault(),o.$refs.label.click()},mousedown:function(){o.isMouseDown=!0},mouseup:function(){o.isMouseDown=!1},mouseout:function(){o.isMouseDown=!1},blur:function(){o.isMouseDown=!1}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:o.disabled,name:o.name,required:o.required,"true-value":o.trueValue,"false-value":o.falseValue},domProps:{value:o.nativeValue,checked:Array.isArray(o.computedValue)?-1<o._i(o.computedValue,o.nativeValue):o._q(o.computedValue,o.trueValue)},on:{click:function(e){e.stopPropagation()},change:function(e){var t=o.computedValue,i=e.target,n=i.checked?o.trueValue:o.falseValue;if(Array.isArray(t)){var s=o.nativeValue,a=o._i(t,s);i.checked?a<0&&(o.computedValue=t.concat([s])):-1<a&&(o.computedValue=t.slice(0,a).concat(t.slice(a+1)))}else o.computedValue=n}}}),o._v(" "),t("span",{staticClass:"check",class:[{"is-elastic":o.isMouseDown&&!o.disabled},o.type]}),o._v(" "),t("span",{staticClass:"control-label"},[o._t("default")],2)])},staticRenderFns:[]},void 0,{name:"BSwitch",props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],disabled:Boolean,type:String,name:String,required:Boolean,size:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array],default:!1},rounded:{type:Boolean,default:!0},outlined:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,isMouseDown:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){this.newValue=e,this.$emit("input",e)}},newClass:function(){return[this.size,{"is-disabled":this.disabled},{"is-rounded":this.rounded},{"is-outlined":this.outlined}]}},watch:{value:function(e){this.newValue=e}},methods:{focus:function(){this.$refs.input.focus()}}},void 0,!1,void 0,void 0,void 0),Tt={install:function(e){k(e,$t)}};y(Tt);var Dt,At,Bt=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"field table-mobile-sort"},[n("div",{staticClass:"field has-addons"},[n("b-select",{attrs:{expanded:""},model:{value:i.mobileSort,callback:function(e){i.mobileSort=e},expression:"mobileSort"}},[i.placeholder?[n("option",{directives:[{name:"show",rawName:"v-show",value:i.showPlaceholder,expression:"showPlaceholder"}],attrs:{selected:"",disabled:"",hidden:""},domProps:{value:{}}},[i._v("\n                    "+i._s(i.placeholder)+"\n                ")])]:i._e(),i._v(" "),i._l(i.columns,function(e,t){return e.sortable?n("option",{key:t,domProps:{value:e}},[i._v("\n                "+i._s(e.label)+"\n            ")]):i._e()})],2),i._v(" "),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",on:{click:i.sort}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:i.currentSortColumn===i.mobileSort,expression:"currentSortColumn === mobileSort"}],class:{"is-desc":!i.isAsc},attrs:{icon:i.sortIcon,pack:i.iconPack,size:i.sortIconSize,both:""}})],1)])],1)])},staticRenderFns:[]},void 0,{name:"BTableMobileSort",components:(St={},s(St,J.name,J),s(St,_.name,_),St),props:{currentSortColumn:Object,isAsc:Boolean,columns:Array,placeholder:String,iconPack:String,sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"}},data:function(){return{mobileSort:this.currentSortColumn}},computed:{showPlaceholder:function(){var t=this;return!this.columns||!this.columns.some(function(e){return e===t.mobileSort})}},watch:{mobileSort:function(e){this.currentSortColumn!==e&&this.$emit("sort",e)},currentSortColumn:function(e){this.mobileSort=e}},methods:{sort:function(){this.$emit("sort",this.mobileSort)}}},void 0,!1,void 0,void 0,void 0),Ft=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("td",{class:e.rootClasses,attrs:{"data-label":e.label}},[e._t("default")],2):e._e()},staticRenderFns:[]},void 0,{name:"BTableColumn",props:{label:String,customKey:[String,Number],field:String,meta:[String,Number,Boolean,Function,Object,Array],width:[Number,String],numeric:Boolean,centered:Boolean,searchable:Boolean,sortable:Boolean,visible:{type:Boolean,default:!0},customSort:Function,internal:Boolean},data:function(){return{newKey:this.customKey||this.label}},computed:{rootClasses:function(){return{"has-text-right":this.numeric&&!this.centered,"has-text-centered":this.centered}}},methods:{addRefToTable:function(){var t=this;if(!this.$parent.$data._isTable)throw this.$destroy(),new Error("You should wrap bTableColumn on a bTable");this.internal||this.$parent.newColumns.some(function(e){return e.newKey===t.newKey})||this.$parent.newColumns.push(this)}},beforeMount:function(){this.addRefToTable()},beforeUpdate:function(){this.addRefToTable()},beforeDestroy:function(){var e=this.$parent.newColumns.map(function(e){return e.newKey}).indexOf(this.newKey);0<=e&&this.$parent.newColumns.splice(e,1)}},void 0,!1,void 0,void 0,void 0),Mt=x({render:function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("div",{staticClass:"b-table",class:{"is-loading":n.loading}},[n.mobileCards&&n.hasSortablenewColumns?s("b-table-mobile-sort",{attrs:{"current-sort-column":n.currentSortColumn,"is-asc":n.isAsc,columns:n.newColumns,placeholder:n.mobileSortPlaceholder,"icon-pack":n.iconPack,"sort-icon":n.sortIcon,"sort-icon-size":n.sortIconSize},on:{sort:function(e){return n.sort(e)}}}):n._e(),n._v(" "),!n.paginated||"top"!==n.paginationPosition&&"both"!==n.paginationPosition?n._e():s("div",{staticClass:"top level"},[s("div",{staticClass:"level-left"},[n._t("top-left")],2),n._v(" "),s("div",{staticClass:"level-right"},[n.paginated?s("div",{staticClass:"level-item"},[s("b-pagination",{attrs:{"icon-pack":n.iconPack,total:n.newDataTotal,"per-page":n.perPage,simple:n.paginationSimple,size:n.paginationSize,current:n.newCurrentPage,"aria-next-label":n.ariaNextLabel,"aria-previous-label":n.ariaPreviousLabel,"aria-page-label":n.ariaPageLabel,"aria-current-label":n.ariaCurrentLabel},on:{change:n.pageChanged}})],1):n._e()])]),n._v(" "),s("div",{staticClass:"table-wrapper"},[s("table",{staticClass:"table",class:n.tableClasses,attrs:{tabindex:!!n.focusable&&0},on:{keydown:[function(e){return"button"in e||!n._k(e.keyCode,"up",38,e.key)?e.target!==e.currentTarget?null:(e.preventDefault(),void n.pressedArrow(-1)):null},function(e){return"button"in e||!n._k(e.keyCode,"down",40,e.key)?e.target!==e.currentTarget?null:(e.preventDefault(),void n.pressedArrow(1)):null}]}},[n.newColumns.length?s("thead",[s("tr",[n.showDetailRowIcon?s("th",{attrs:{width:"40px"}}):n._e(),n._v(" "),n.checkable&&"left"===n.checkboxPosition?s("th",{staticClass:"checkbox-cell"},[n.headerCheckable?[s("b-checkbox",{attrs:{value:n.isAllChecked,disabled:n.isAllUncheckable},nativeOn:{change:function(e){n.checkAll(e)}}})]:n._e()],2):n._e(),n._v(" "),n._l(n.visibleColumns,function(t,e){return s("th",{key:e,class:{"is-current-sort":n.currentSortColumn===t,"is-sortable":t.sortable},style:{width:void 0===t.width?null:isNaN(t.width)?t.width:t.width+"px"},on:{click:function(e){e.stopPropagation(),n.sort(t)}}},[s("div",{staticClass:"th-wrap",class:{"is-numeric":t.numeric,"is-centered":t.centered}},[t.$scopedSlots&&t.$scopedSlots.header?[s("b-slot-component",{attrs:{component:t,scoped:!0,name:"header",tag:"span",props:{column:t,index:e}}})]:n.$scopedSlots.header?[n._t("header",null,{column:t,index:e})]:[n._v(n._s(t.label))],n._v(" "),s("b-icon",{directives:[{name:"show",rawName:"v-show",value:n.currentSortColumn===t,expression:"currentSortColumn === column"}],class:{"is-desc":!n.isAsc},attrs:{icon:n.sortIcon,pack:n.iconPack,both:"",size:n.sortIconSize}})],2)])}),n._v(" "),n.checkable&&"right"===n.checkboxPosition?s("th",{staticClass:"checkbox-cell"},[n.headerCheckable?[s("b-checkbox",{attrs:{value:n.isAllChecked,disabled:n.isAllUncheckable},nativeOn:{change:function(e){n.checkAll(e)}}})]:n._e()],2):n._e()],2),n._v(" "),n.hasSearchablenewColumns?s("tr",n._l(n.visibleColumns,function(t,e){return s("th",{key:e,style:{width:void 0===t.width?null:isNaN(t.width)?t.width:t.width+"px"}},[s("div",{staticClass:"th-wrap"},[t.searchable?[s("b-input",{attrs:{type:t.numeric?"number":"text"},model:{value:n.filters[t.field],callback:function(e){n.$set(n.filters,t.field,e)},expression:"filters[column.field]"}})]:n._e()],2)])})):n._e()]):n._e(),n._v(" "),n.visibleData.length?s("tbody",[n._l(n.visibleData,function(t,i){return[s("tr",{key:n.customRowKey?t[n.customRowKey]:i,class:[n.rowClass(t,i),{"is-selected":t===n.selected,"is-checked":n.isRowChecked(t)}],attrs:{draggable:n.draggable},on:{click:function(){n.selectRow(t)},dblclick:function(){n.$emit("dblclick",t)},mouseenter:function(){n.$emit("mouseenter",t)},mouseleave:function(){n.$emit("mouseleave",t)},contextmenu:function(e){n.$emit("contextmenu",t,e)},dragstart:function(e){n.handleDragStart(e,t,i)},dragend:function(e){n.handleDragEnd(e,t,i)},drop:function(e){n.handleDrop(e,t,i)},dragover:function(e){n.handleDragOver(e,t,i)},dragleave:function(e){n.handleDragLeave(e,t,i)}}},[n.showDetailRowIcon?s("td",{staticClass:"chevron-cell"},[n.hasDetailedVisible(t)?s("a",{attrs:{role:"button"},on:{click:function(e){e.stopPropagation(),n.toggleDetails(t)}}},[s("b-icon",{class:{"is-expanded":n.isVisibleDetailRow(t)},attrs:{icon:"chevron-right",pack:n.iconPack,both:""}})],1):n._e()]):n._e(),n._v(" "),n.checkable&&"left"===n.checkboxPosition?s("td",{staticClass:"checkbox-cell"},[s("b-checkbox",{attrs:{disabled:!n.isRowCheckable(t),value:n.isRowChecked(t)},nativeOn:{click:function(e){e.preventDefault(),e.stopPropagation(),n.checkRow(t,i,e)}}})],1):n._e(),n._v(" "),n.$scopedSlots.default?n._t("default",null,{row:t,index:i}):n._l(n.newColumns,function(e){return s("BTableColumn",n._b({key:e.field,attrs:{internal:""}},"BTableColumn",e,!1),[e.renderHtml?s("span",{domProps:{innerHTML:n._s(n.getValueByPath(t,e.field))}}):[n._v("\n                                    "+n._s(n.getValueByPath(t,e.field))+"\n                                ")]],2)}),n._v(" "),n.checkable&&"right"===n.checkboxPosition?s("td",{staticClass:"checkbox-cell"},[s("b-checkbox",{attrs:{disabled:!n.isRowCheckable(t),value:n.isRowChecked(t)},nativeOn:{click:function(e){e.preventDefault(),e.stopPropagation(),n.checkRow(t,i,e)}}})],1):n._e()],2),n._v(" "),n.isActiveDetailRow(t)?s("tr",{staticClass:"detail"},[s("td",{attrs:{colspan:n.columnCount}},[s("div",{staticClass:"detail-container"},[n._t("detail",null,{row:t,index:i})],2)])]):n._e(),n._v(" "),n.isActiveCustomDetailRow(t)?n._t("detail",null,{row:t,index:i}):n._e()]})],2):s("tbody",[s("tr",{staticClass:"is-empty"},[s("td",{attrs:{colspan:n.columnCount}},[n._t("empty")],2)])]),n._v(" "),void 0!==n.$slots.footer?s("tfoot",[s("tr",{staticClass:"table-footer"},[n.hasCustomFooterSlot()?n._t("footer"):s("th",{attrs:{colspan:n.columnCount}},[n._t("footer")],2)],2)]):n._e()])]),n._v(" "),n.checkable&&n.hasBottomLeftSlot()||n.paginated&&("bottom"===n.paginationPosition||"both"===n.paginationPosition)?s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[n._t("bottom-left")],2),n._v(" "),s("div",{staticClass:"level-right"},[n.paginated?s("div",{staticClass:"level-item"},[s("b-pagination",{attrs:{"icon-pack":n.iconPack,total:n.newDataTotal,"per-page":n.perPage,simple:n.paginationSimple,size:n.paginationSize,current:n.newCurrentPage,"aria-next-label":n.ariaNextLabel,"aria-previous-label":n.ariaPreviousLabel,"aria-page-label":n.ariaPageLabel,"aria-current-label":n.ariaCurrentLabel},on:{change:n.pageChanged}})],1):n._e()])]):n._e()],1)},staticRenderFns:[]},void 0,{name:"BTable",components:(Dt={},s(Dt,A.name,A),s(Dt,_.name,_),s(Dt,C.name,C),s(Dt,tt.name,tt),s(Dt,wt.name,wt),s(Dt,Bt.name,Bt),s(Dt,Ft.name,Ft),Dt),props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},bordered:Boolean,striped:Boolean,narrowed:Boolean,hoverable:Boolean,loading:Boolean,detailed:Boolean,checkable:Boolean,headerCheckable:{type:Boolean,default:!0},checkboxPosition:{type:String,default:"left",validator:function(e){return 0<=["left","right"].indexOf(e)}},selected:Object,focusable:Boolean,customIsChecked:Function,isRowCheckable:{type:Function,default:function(){return!0}},checkedRows:{type:Array,default:function(){return[]}},mobileCards:{type:Boolean,default:!0},defaultSort:[String,Array],defaultSortDirection:{type:String,default:"asc"},sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},paginated:Boolean,currentPage:{type:Number,default:1},perPage:{type:[Number,String],default:20},showDetailIcon:{type:Boolean,default:!0},paginationSimple:Boolean,paginationSize:String,paginationPosition:{type:String,default:"bottom",validator:function(e){return 0<=["bottom","top","both"].indexOf(e)}},backendSorting:Boolean,rowClass:{type:Function,default:function(){return""}},openedDetailed:{type:Array,default:function(){return[]}},hasDetailedVisible:{type:Function,default:function(){return!0}},detailKey:{type:String,default:""},customDetailRow:{type:Boolean,default:!1},backendPagination:Boolean,total:{type:[Number,String],default:0},iconPack:String,mobileSortPlaceholder:String,customRowKey:String,draggable:{type:Boolean,defualt:!1},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String},data:function(){return{getValueByPath:r,newColumns:t(this.columns),visibleDetailRows:this.openedDetailed,newData:this.data,newDataTotal:this.backendPagination?this.total:this.data.length,newCheckedRows:t(this.checkedRows),lastCheckedRowIndex:null,newCurrentPage:this.currentPage,currentSortColumn:{},isAsc:!0,filters:{},firstTimeSort:!0,_isTable:!0}},computed:{showDetailRowIcon:function(){return this.detailed&&this.showDetailIcon},tableClasses:function(){return{"is-bordered":this.bordered,"is-striped":this.striped,"is-narrow":this.narrowed,"has-mobile-cards":this.mobileCards,"is-hoverable":(this.hoverable||this.focusable)&&this.visibleData.length}},visibleData:function(){if(!this.paginated)return this.newData;var e=this.newCurrentPage,t=this.perPage;if(this.newData.length<=t)return this.newData;var i=(e-1)*t,n=parseInt(i,10)+parseInt(t,10);return this.newData.slice(i,n)},visibleColumns:function(){return this.newColumns?this.newColumns.filter(function(e){return e.visible||void 0===e.visible}):this.newColumns},isAllChecked:function(){var t=this,e=this.visibleData.filter(function(e){return t.isRowCheckable(e)});if(0===e.length)return!1;var i=e.some(function(e){return l(t.newCheckedRows,e,t.customIsChecked)<0});return!i},isAllUncheckable:function(){var t=this;return 0===this.visibleData.filter(function(e){return t.isRowCheckable(e)}).length},hasSortablenewColumns:function(){return this.newColumns.some(function(e){return e.sortable})},hasSearchablenewColumns:function(){return this.newColumns.some(function(e){return e.searchable})},columnCount:function(){var e=this.newColumns.length;return e+=this.checkable?1:0,e+=this.detailed?1:0}},watch:{data:function(e){var t=this,i=this.newColumns;this.newColumns=[],this.newData=e,this.$nextTick(function(){t.newColumns.length||(t.newColumns=i)}),this.backendSorting||this.sort(this.currentSortColumn,!0),this.backendPagination||(this.newDataTotal=e.length)},total:function(e){this.backendPagination&&(this.newDataTotal=e)},checkedRows:function(e){this.newCheckedRows=t(e)},columns:function(e){this.newColumns=t(e)},newColumns:function(){this.checkSort()},filters:{handler:function(){var t=this;this.newData=this.data.filter(function(e){return t.isRowFiltered(e)})},deep:!0},openedDetailed:function(e){this.visibleDetailRows=e},currentPage:function(e){this.newCurrentPage=e}},methods:{sortBy:function(e,s,i,a){return i&&"function"==typeof i?t(e).sort(function(e,t){return i(e,t,a)}):t(e).sort(function(e,t){var i=r(e,s),n=r(t,s);return"boolean"==typeof i&&"boolean"==typeof n?a?i-n:n-i:i||0===i?n||0===n?i===n?0:(i="string"==typeof i?i.toUpperCase():i,n="string"==typeof n?n.toUpperCase():n,a?n<i?1:-1:n<i?-1:1):-1:1})},sort:function(e,t){var i=1<arguments.length&&void 0!==t&&t;e&&e.sortable&&(i||(this.isAsc=e===this.currentSortColumn?!this.isAsc:"desc"!==this.defaultSortDirection.toLowerCase()),this.firstTimeSort||this.$emit("sort",e.field,this.isAsc?"asc":"desc"),this.backendSorting||(this.newData=this.sortBy(this.newData,e.field,e.customSort,this.isAsc)),this.currentSortColumn=e)},isRowChecked:function(e){return 0<=l(this.newCheckedRows,e,this.customIsChecked)},removeCheckedRow:function(e){var t=l(this.newCheckedRows,e,this.customIsChecked);0<=t&&this.newCheckedRows.splice(t,1)},checkAll:function(){var t=this,i=this.isAllChecked;this.visibleData.forEach(function(e){t.removeCheckedRow(e),i||t.isRowCheckable(e)&&t.newCheckedRows.push(e)}),this.$emit("check",this.newCheckedRows),this.$emit("check-all",this.newCheckedRows),this.$emit("update:checkedRows",this.newCheckedRows)},checkRow:function(e,t,i){var n=this.lastCheckedRowIndex;this.lastCheckedRowIndex=t,i.shiftKey&&null!==n&&t!==n?this.shiftCheckRow(e,t,n):this.isRowChecked(e)?this.removeCheckedRow(e):this.newCheckedRows.push(e),this.$emit("check",this.newCheckedRows,e),this.$emit("update:checkedRows",this.newCheckedRows)},shiftCheckRow:function(e,t,i){var n=this,s=this.visibleData.slice(Math.min(t,i),Math.max(t,i)+1),a=!this.isRowChecked(e);s.forEach(function(e){n.removeCheckedRow(e),a&&n.isRowCheckable(e)&&n.newCheckedRows.push(e)})},selectRow:function(e){this.$emit("click",e),this.selected!==e&&(this.$emit("select",e,this.selected),this.$emit("update:selected",e))},pageChanged:function(e){this.newCurrentPage=0<e?e:1,this.$emit("page-change",this.newCurrentPage),this.$emit("update:currentPage",this.newCurrentPage)},toggleDetails:function(e){this.isVisibleDetailRow(e)?(this.closeDetailRow(e),this.$emit("details-close",e)):(this.openDetailRow(e),this.$emit("details-open",e)),this.$emit("update:openedDetailed",this.visibleDetailRows)},openDetailRow:function(e){var t=this.handleDetailKey(e);this.visibleDetailRows.push(t)},closeDetailRow:function(e){var t=this.handleDetailKey(e),i=this.visibleDetailRows.indexOf(t);this.visibleDetailRows.splice(i,1)},isVisibleDetailRow:function(e){var t=this.handleDetailKey(e);return 0<=this.visibleDetailRows.indexOf(t)},isActiveDetailRow:function(e){return this.detailed&&!this.customDetailRow&&this.isVisibleDetailRow(e)},isActiveCustomDetailRow:function(e){return this.detailed&&this.customDetailRow&&this.isVisibleDetailRow(e)},isRowFiltered:function(e){for(var t in this.filters){if(!this.filters[t])return delete this.filters[t],!0;if(Number.isInteger(e[t])){if(e[t]!==Number(this.filters[t]))return!1}else{var i=new RegExp(this.filters[t]);if(!e[t].match(i))return!1}}return!0},handleDetailKey:function(e){var t=this.detailKey;return t.length?e[t]:e},checkPredefinedDetailedRows:function(){if(0<this.openedDetailed.length&&!this.detailKey.length)throw new Error('If you set a predefined opened-detailed, you must provide a unique key using the prop "detail-key"')},checkSort:function(){if(this.newColumns.length&&this.firstTimeSort)this.initSort(),this.firstTimeSort=!1;else if(this.newColumns.length&&this.currentSortColumn.field)for(var e=0;e<this.newColumns.length;e++)if(this.newColumns[e].field===this.currentSortColumn.field){this.currentSortColumn=this.newColumns[e];break}},hasCustomFooterSlot:function(){if(1<this.$slots.footer.length)return!0;var e=this.$slots.footer[0].tag;return"th"===e||"td"===e},hasBottomLeftSlot:function(){return void 0!==this.$slots["bottom-left"]},pressedArrow:function(e){if(this.visibleData.length){var t=this.visibleData.indexOf(this.selected)+e;t=t<0?0:t>this.visibleData.length-1?this.visibleData.length-1:t,this.selectRow(this.visibleData[t])}},focus:function(){this.focusable&&this.$el.querySelector("table").focus()},initSort:function(){var t=this;if(this.defaultSort){var i="",n=this.defaultSortDirection;Array.isArray(this.defaultSort)?(i=this.defaultSort[0],this.defaultSort[1]&&(n=this.defaultSort[1])):i=this.defaultSort,this.newColumns.forEach(function(e){e.field===i&&(t.isAsc="desc"!==n.toLowerCase(),t.sort(e,!0))})}},handleDragStart:function(e,t,i){this.$emit("dragstart",{event:e,row:t,index:i})},handleDragEnd:function(e,t,i){this.$emit("dragend",{event:e,row:t,index:i})},handleDrop:function(e,t,i){this.$emit("drop",{event:e,row:t,index:i})},handleDragOver:function(e,t,i){this.$emit("dragover",{event:e,row:t,index:i})},handleDragLeave:function(e,t,i){this.$emit("dragleave",{event:e,row:t,index:i})}},mounted:function(){this.checkPredefinedDetailedRows(),this.checkSort()}},void 0,!1,void 0,void 0,void 0),Pt={install:function(e){k(e,Mt),k(e,Ft)}};y(Pt);var Ot=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"b-tabs",class:i.mainClasses},[n("nav",{staticClass:"tabs",class:i.navClasses},[n("ul",i._l(i.tabItems,function(e,t){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"tabItem.visible"}],key:t,class:{"is-active":i.activeTab===t,"is-disabled":e.disabled}},[n("a",{on:{click:function(){i.tabClick(t)}}},[e.$slots.header?[n("b-slot-component",{attrs:{component:e,name:"header",tag:"span"}})]:[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:i.size}}):i._e(),i._v(" "),n("span",[i._v(i._s(e.label))])]],2)])}))]),i._v(" "),n("section",{staticClass:"tab-content",class:{"is-transitioning":i.isTransitioning}},[i._t("default")],2)])},staticRenderFns:[]},void 0,{name:"BTabs",components:(At={},s(At,_.name,_),s(At,wt.name,wt),At),props:{value:Number,expanded:Boolean,type:String,size:String,position:String,animated:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1},vertical:Boolean},data:function(){return{activeTab:this.value||0,tabItems:[],contentHeight:0,isTransitioning:!1,_isTabs:!0}},computed:{mainClasses:function(){return s({"is-fullwidth":this.expanded,"is-vertical":this.vertical},this.position,this.position&&this.vertical)},navClasses:function(){var e;return[this.type,this.size,(e={},s(e,this.position,this.position&&!this.vertical),s(e,"is-fullwidth",this.expanded),s(e,"is-toggle-rounded is-toggle","is-toggle-rounded"===this.type),e)]}},watch:{value:function(e){this.changeTab(e)},tabItems:function(){this.activeTab<this.tabItems.length&&(this.tabItems[this.activeTab].isActive=!0)}},methods:{changeTab:function(e){this.activeTab!==e&&void 0!==this.tabItems[e]&&(this.activeTab<this.tabItems.length&&this.tabItems[this.activeTab].deactivate(this.activeTab,e),this.tabItems[e].activate(this.activeTab,e),this.activeTab=e,this.$emit("change",e))},tabClick:function(e){this.$emit("input",e),this.changeTab(e)}},mounted:function(){this.activeTab<this.tabItems.length&&(this.tabItems[this.activeTab].isActive=!0)}},void 0,!1,void 0,void 0,void 0),Nt=x({},void 0,{name:"BTabItem",props:{label:String,icon:String,iconPack:String,disabled:Boolean,visible:{type:Boolean,default:!0}},data:function(){return{isActive:!1,transitionName:null}},methods:{activate:function(e,t){this.transitionName=t<e?"slide-next":"slide-prev",this.isActive=!0},deactivate:function(e,t){this.transitionName=t<e?"slide-next":"slide-prev",this.isActive=!1}},created:function(){if(!this.$parent.$data._isTabs)throw this.$destroy(),new Error("You should wrap bTabItem on a bTabs");this.$parent.tabItems.push(this)},beforeDestroy:function(){var e=this.$parent.tabItems.indexOf(this);0<=e&&this.$parent.tabItems.splice(e,1)},render:function(e){var t=this;if(!this.$parent.destroyOnHide||this.isActive&&this.visible){var i=e("div",{directives:[{name:"show",value:this.isActive&&this.visible}],class:"tab-item"},this.$slots.default);return this.$parent.animated?e("transition",{props:{name:this.transitionName},on:{"before-enter":function(){t.$parent.isTransitioning=!0},"after-enter":function(){t.$parent.isTransitioning=!1}}},[i]):i}}},void 0,void 0,void 0,void 0,void 0),Et={install:function(e){k(e,Ot),k(e,Nt)}};y(Et);var zt,Vt=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.attached&&t.closable?i("div",{staticClass:"tags has-addons"},[i("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[i("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2)]),t._v(" "),i("a",{staticClass:"tag is-delete",class:[t.size,{"is-rounded":t.rounded}],attrs:{role:"button","aria-label":t.ariaCloseLabel,tabindex:!!t.tabstop&&0,disabled:t.disabled},on:{click:function(){t.close()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key))return null;e.preventDefault(),t.close()}}})]):i("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[i("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2),t._v(" "),t.closable?i("a",{staticClass:"delete is-small",attrs:{role:"button","aria-label":t.ariaCloseLabel,disabled:t.disabled,tabindex:!!t.tabstop&&0},on:{click:function(){t.close()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key))return null;e.preventDefault(),t.close()}}}):t._e()])},staticRenderFns:[]},void 0,{name:"BTag",props:{attached:Boolean,closable:Boolean,type:String,size:String,rounded:Boolean,disabled:Boolean,ellipsis:Boolean,tabstop:{type:Boolean,default:!0},ariaCloseLabel:String},methods:{close:function(){this.disabled||this.$emit("close")}}},void 0,!1,void 0,void 0,void 0),It=x({render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"tags",class:{"has-addons":this.attached}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"BTaglist",props:{attached:Boolean}},void 0,!1,void 0,void 0,void 0),Lt={install:function(e){k(e,Vt),k(e,It)}};y(Lt);var Rt=x({render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"taginput control",class:i.rootClasses},[n("div",{staticClass:"taginput-container",class:[i.statusType,i.size,i.containerClasses],attrs:{disabled:i.disabled},on:{click:function(e){i.hasInput&&i.focus(e)}}},[i._l(i.tags,function(e,t){return n("b-tag",{key:t,attrs:{type:i.type,size:i.size,rounded:i.rounded,attached:i.attached,tabstop:!1,disabled:i.disabled,ellipsis:i.ellipsis,closable:i.closable,title:i.ellipsis&&i.getNormalizedTagText(e)},on:{close:function(){i.removeTag(t)}}},[i._v("\n            "+i._s(i.getNormalizedTagText(e))+"\n        ")])}),i._v(" "),i.hasInput?n("b-autocomplete",i._b({ref:"autocomplete",attrs:{data:i.data,field:i.field,icon:i.icon,"icon-pack":i.iconPack,maxlength:i.maxlength,"has-counter":!1,size:i.size,disabled:i.disabled,loading:i.loading,autocomplete:i.nativeAutocomplete,"keep-first":!i.allowNew,"use-html5-validation":i.useHtml5Validation},on:{typing:i.onTyping,focus:i.onFocus,blur:i.customOnBlur,select:i.onSelect},nativeOn:{keydown:function(e){i.keydown(e)}},scopedSlots:i._u([{key:i.defaultSlotName,fn:function(e){return[i._t("default",null,{option:e.option,index:e.index})]}}]),model:{value:i.newTag,callback:function(e){i.newTag=e},expression:"newTag"}},"b-autocomplete",i.$attrs,!1),[n("template",{slot:i.headerSlotName},[i._t("header")],2),i._v(" "),n("template",{slot:i.emptySlotName},[i._t("empty")],2),i._v(" "),n("template",{slot:i.footerSlotName},[i._t("footer")],2)],2):i._e()],2),i._v(" "),i.hasCounter&&(i.maxtags||i.maxlength)?n("small",{staticClass:"help counter"},[i.maxlength&&0<i.valueLength?[i._v("\n            "+i._s(i.valueLength)+" / "+i._s(i.maxlength)+"\n        ")]:i.maxtags?[i._v("\n            "+i._s(i.tagsLength)+" / "+i._s(i.maxtags)+"\n        ")]:i._e()],2):i._e()])},staticRenderFns:[]},void 0,{name:"BTaginput",components:(zt={},s(zt,S.name,S),s(zt,Vt.name,Vt),zt),mixins:[g],inheritAttrs:!1,props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},type:String,rounded:{type:Boolean,default:!1},attached:{type:Boolean,default:!1},maxtags:{type:[Number,String],required:!1},hasCounter:{type:Boolean,default:function(){return v.defaultTaginputHasCounter}},field:{type:String,default:"value"},autocomplete:Boolean,nativeAutocomplete:String,disabled:Boolean,ellipsis:Boolean,closable:{type:Boolean,default:!0},confirmKeyCodes:{type:Array,default:function(){return[13,188]}},removeOnKeys:{type:Array,default:function(){return[8]}},allowNew:Boolean,onPasteSeparators:{type:Array,default:function(){return[","]}},beforeAdding:{type:Function,default:function(){return!0}},allowDuplicates:{type:Boolean,default:!1}},data:function(){return{tags:Array.isArray(this.value)?this.value.slice(0):this.value||[],newTag:"",_elementRef:"input",_isTaginput:!0}},computed:{rootClasses:function(){return{"is-expanded":this.expanded}},containerClasses:function(){return{"is-focused":this.isFocused,"is-focusable":this.hasInput}},valueLength:function(){return this.newTag.trim().length},defaultSlotName:function(){return this.hasDefaultSlot?"default":"dontrender"},emptySlotName:function(){return this.hasEmptySlot?"empty":"dontrender"},headerSlotName:function(){return this.hasHeaderSlot?"header":"dontrender"},footerSlotName:function(){return this.hasFooterSlot?"footer":"dontrender"},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},hasInput:function(){return null==this.maxtags||this.tagsLength<this.maxtags},tagsLength:function(){return this.tags.length},separatorsAsRegExp:function(){var e=this.onPasteSeparators;return e.length?new RegExp(e.map(function(e){return e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null}).join("|"),"g"):null}},watch:{value:function(e){this.tags=e},hasInput:function(){this.hasInput||this.onBlur()}},methods:{addTag:function(e){var t=e||this.newTag.trim();if(t){if(!this.autocomplete){var i=this.separatorsAsRegExp;if(i&&t.match(i))return void t.split(i).map(function(e){return e.trim()}).filter(function(e){return 0!==e.length}).map(this.addTag)}(!!this.allowDuplicates||-1===this.tags.indexOf(t))&&this.beforeAdding(t)&&(this.tags.push(t),this.$emit("input",this.tags),this.$emit("add",t))}this.newTag=""},getNormalizedTagText:function(e){return"object"===i(e)?r(e,this.field):e},customOnBlur:function(e){this.autocomplete||this.addTag(),this.onBlur(e)},onSelect:function(e){var t=this;e&&(this.addTag(e),this.$nextTick(function(){t.newTag=""}))},removeTag:function(e){var t=this.tags.splice(e,1)[0];return this.$emit("input",this.tags),this.$emit("remove",t),t},removeLastTag:function(){0<this.tagsLength&&this.removeTag(this.tagsLength-1)},keydown:function(e){-1===this.removeOnKeys.indexOf(e.keyCode)||this.newTag.length||this.removeLastTag(),this.autocomplete&&!this.allowNew||0<=this.confirmKeyCodes.indexOf(e.keyCode)&&(e.preventDefault(),this.addTag())},onTyping:function(e){this.$emit("typing",e.trim())}}},void 0,!1,void 0,void 0,void 0),Ht={install:function(e){k(e,Rt)}};y(Ht);var jt={install:function(e){k(e,ae)}};y(jt);var qt=x({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"toast",class:[e.type,e.position],attrs:{"aria-hidden":!e.isActive,role:"alert"}},[i("div",{domProps:{innerHTML:e._s(e.message)}})])])},staticRenderFns:[]},void 0,{name:"BToast",mixins:[Pe],data:function(){return{newDuration:this.duration||v.defaultToastDuration}}},void 0,!1,void 0,void 0,void 0),Ut={open:function(e){var t,i;"string"==typeof e&&(t=e);var n={message:t,position:v.defaultToastPosition||"is-top"};e.parent&&(i=e.parent,delete e.parent);var s=Object.assign(n,e);return new(("undefined"!=typeof window&&window.Vue?window.Vue:a).extend(qt))({parent:i,el:document.createElement("div"),propsData:s})}},Wt={install:function(e){w(e,"toast",Ut)}};y(Wt);var Yt={install:function(e){k(e,pt)}};y(Yt);var Xt=x({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"upload control"},[t.dragDrop?i("div",{staticClass:"upload-draggable",class:[t.type,{"is-loading":t.loading,"is-disabled":t.disabled,"is-hovered":t.dragDropFocus}],on:{dragover:function(e){e.preventDefault(),t.updateDragDropFocus(!0)},dragleave:function(e){e.preventDefault(),t.updateDragDropFocus(!1)},dragenter:function(e){e.preventDefault(),t.updateDragDropFocus(!0)},drop:function(e){e.preventDefault(),t.onFileChange(e)}}},[t._t("default")],2):[t._t("default")],t._v(" "),i("input",t._b({ref:"input",attrs:{type:"file",multiple:t.multiple,accept:t.accept,disabled:t.disabled},on:{change:t.onFileChange}},"input",t.$attrs,!1))],2)},staticRenderFns:[]},void 0,{name:"BUpload",mixins:[g],inheritAttrs:!1,props:{value:{type:[Object,Function,ye,Array]},multiple:Boolean,disabled:Boolean,accept:String,dragDrop:Boolean,type:{type:String,default:"is-primary"},native:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,dragDropFocus:!1,_elementRef:"input"}},watch:{value:function(e){var t=this.$refs.input.files;this.newValue=e,(!this.newValue||Array.isArray(this.newValue)&&0===this.newValue.length||!t[0]||Array.isArray(this.newValue)&&!this.newValue.some(function(e){return e.name===t[0].name}))&&(this.$refs.input.value=null),this.isValid||this.dragDrop||this.checkHtml5Validity()}},methods:{onFileChange:function(e){if(!this.disabled&&!this.loading){this.dragDrop&&this.updateDragDropFocus(!1);var t=e.target.files||e.dataTransfer.files;if(0===t.length){if(!this.newValue)return;this.native&&(this.newValue=null)}else if(this.multiple){var i=!1;!this.native&&this.newValue||(this.newValue=[],i=!0);for(var n=0;n<t.length;n++){var s=t[n];this.checkType(s)&&(this.newValue.push(s),i=!0)}if(!i)return}else{if(this.dragDrop&&1!==t.length)return;var a=t[0];if(this.checkType(a))this.newValue=a;else{if(!this.newValue)return;this.newValue=null}}this.$emit("input",this.newValue),this.dragDrop||this.checkHtml5Validity()}},updateDragDropFocus:function(e){this.disabled||this.loading||(this.dragDropFocus=e)},checkType:function(e){if(!this.accept)return!0;var t=this.accept.split(",");if(0===t.length)return!0;for(var i=!1,n=0;n<t.length&&!i;n++){var s=t[n].trim();if(s)if("."===s.substring(0,1)){var a=e.name.lastIndexOf(".");(0<=a?e.name.substring(a):"").toLowerCase()===s.toLowerCase()&&(i=!0)}else e.type.match(s)&&(i=!0)}return i}}},void 0,!1,void 0,void 0,void 0),Kt={install:function(e){k(e,Xt)}};y(Kt);var Gt=Object.freeze({Autocomplete:$,Button:D,Checkbox:F,Clockpicker:X,Collapse:P,Datepicker:ne,Datetimepicker:re,Dialog:pe,Dropdown:he,Field:fe,Icon:me,Input:ve,Loading:xe,Menu:$e,Message:Ae,Modal:Fe,Navbar:Ge,Notification:Ee,Numberinput:Je,Pagination:it,Progress:st,Radio:rt,Rate:ct,Select:dt,Slider:vt,Snackbar:yt,Steps:Ct,Switch:Tt,Table:Pt,Tabs:Et,Tag:Lt,Taginput:Ht,Timepicker:jt,Toast:Wt,Tooltip:Yt,Upload:Kt}),Qt={install:function(e,t){var i=1<arguments.length&&void 0!==t?t:{};for(var n in h(Object.assign(v,i)),Gt)e.use(Gt[n]);w(e,"config",{setOptions:function(e){h(Object.assign(v,e))}})}};e.Autocomplete=$,e.Button=D,e.Checkbox=F,e.Clockpicker=X,e.Collapse=P,e.Datepicker=ne,e.Datetimepicker=re,e.Dialog=pe,e.DialogProgrammatic=ue,e.Dropdown=he,e.Field=fe,e.Icon=me,e.Input=ve,e.Loading=xe,e.LoadingProgrammatic=we,e.Menu=$e,e.Message=Ae,e.Modal=Fe,e.ModalProgrammatic=Be,e.Navbar=Ge,e.Notification=Ee,e.NotificationProgrammatic=Ne,e.Numberinput=Je,e.Pagination=it,e.Progress=st,e.Radio=rt,e.Rate=ct,e.Select=dt,e.Slider=vt,e.Snackbar=yt,e.SnackbarProgrammatic=bt,e.Steps=Ct,e.Switch=Tt,e.Table=Pt,e.Tabs=Et,e.Tag=Lt,e.Taginput=Ht,e.Timepicker=jt,e.Toast=Wt,e.ToastProgrammatic=Ut,e.Tooltip=Yt,e.Upload=Kt,e.default=Qt,Object.defineProperty(e,"__esModule",{value:!0})}),Vue.component("mx-toggle",{props:{value:Boolean,disabled:Boolean,trueValue:{default:"Да"},falseValue:{default:"Нет"},title:String,spaceBetween:Boolean,invert:Boolean},data:function(){return{val:!1}},created:function(){this.val=this.invert?!this.value:this.value},watch:{value:function(e){this.val=this.invert?!e:e},val:function(e){this.invert&&(e=!e),this.value!=e&&(this.value=e,this.$emit("input",e))}},template:'<div :class="{\'mx-toggle-space-between\': spaceBetween}"><label class="mx-toggle" :class="{disabled: disabled}" :data-true-value="trueValue|gettext" @click.stop><input type="checkbox" v-model="val"><div :data-false-value="falseValue|gettext"></div></label><p class="form-control-static" v-if="title" :class="{disabled: disabled}">{{title}}</p></div>'}),Vue.component("mx-phone",{data:function(){return{tmp:""}},props:{value:String,disabled:Boolean},created:function(){this.tmp=this.value},mounted:function(){var i=this;$mx(this.$refs.hidden).on("change",function(e,t){i.value=e.target.value,i.$emit("input",e.target.value)})},template:'<div class="form-field"><input type="tel" :data-country="$account.client.country" inputmode="tel" :value="tmp" class="input" autocorrect="off" autocapitalize="none" :disabled="disabled"><input type="hidden" ref="hidden" class="tel-code" v-model="tmp"></div>'}),function(){var t,i,n=document.attachEvent,s=!1;if(!n){var e=(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return i(e)}),a=(t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return t(e)}),o=function(e){var t=e.__resizeTriggers__,i=t.firstElementChild,n=t.lastElementChild,s=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,s.style.width=i.offsetWidth+1+"px",s.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},r=function(t){var i=this;o(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=e(function(){!function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}(i)||(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(e){e.call(i,t)}))})},l=!1,c="",d="animationstart",u="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h="",f=document.createElement("fakeelement");if(void 0!==f.style.animationName&&(l=!0),!1===l)for(var m=0;m<u.length;m++)if(void 0!==f.style[u[m]+"AnimationName"]){(h=u[m])+"Animation",c="-"+h.toLowerCase()+"-",d=p[m],l=!0;break}var v="resizeanim",g="@"+c+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=c+"animation: 1ms "+v+"; "}window.addResizeListener=function(t,e){n?t.attachEvent("onresize",e):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),function(){if(!s){var e=(g||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i),s=!0}}(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),o(t),t.addEventListener("scroll",r,!0),d&&t.__resizeTriggers__.addEventListener(d,function(e){e.animationName==v&&o(t)})),t.__resizeListeners__.push(e))},window.removeResizeListener=function(e,t){n?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",r),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(),function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.VueInfiniteLoading=t():e.VueInfiniteLoading=t()}("undefined"!=typeof self?self:this,function(){return s={},n.m=i=[function(e,t){function n(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n);return[i].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([s]).join("\n")}return[i].join("\n")}e.exports=function(i){var o=[];return o.toString=function(){return this.map(function(e){var t=n(e,i);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},o.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(i[s]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&i[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),o.push(a))}},o}},function(e,t,i){function l(e){for(var t=0;t<e.length;t++){var i=e[t],n=d[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(o(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(o(i.parts[s]));d[i.id]={id:i.id,refs:1,parts:a}}}}function a(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function o(t){var i,n,e=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(e){if(h)return f;e.parentNode.removeChild(e)}if(m){var s=p++;e=u=u||a(),i=r.bind(null,e,s,!1),n=r.bind(null,e,s,!0)}else e=a(),i=function(e,t){var i=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,e),n=function(){e.parentNode.removeChild(e)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}function r(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,s);else{var a=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=i(7),d={},s=n&&(document.head||document.getElementsByTagName("head")[0]),u=null,p=0,h=!1,f=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(o,e,t){h=t;var r=c(o,e);return l(r),function(e){for(var t=[],i=0;i<r.length;i++){var n=r[i];(s=d[n.id]).refs--,t.push(s)}e?l(r=c(o,e)):r=[];for(i=0;i<t.length;i++){var s;if(0===(s=t[i]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete d[s.id]}}}};var v,g=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")})},function(e,t){e.exports=function(e,t,i,n,s,a){var o,r=e=e||{},l=_typeof2(e.default);"object"!==l&&"function"!==l||(r=(o=e).default);var c,d="function"==typeof r?r.options:r;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),i&&(d.functional=!0),s&&(d._scopeId=s),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):n&&(c=n),c){var u=d.functional,p=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,c):[c]}return{esModule:o,exports:r,options:d}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);t.default=n.a,"undefined"!=typeof window&&window.Vue&&window.Vue.component("infinite-loading",n.a)},function(e,t,i){"use strict";function n(e){i(5)}var s=i(8),a=i(14),o=i(2)(s.a,a.a,!1,n,"data-v-fb2c869e",null);t.a=o.exports},function(e,t,i){var n=i(6);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),i(1)("2249d7a7",n,!0)},function(e,t,i){(e.exports=i(0)(void 0)).push([e.i,".infinite-loading-container[data-v-fb2c869e]{clear:both;text-align:center}.infinite-loading-container[data-v-fb2c869e] [class^=loading-]{display:inline-block;margin:15px 0;width:28px;height:28px;font-size:28px;line-height:28px;border-radius:50%}.infinite-status-prompt[data-v-fb2c869e]{color:#666;font-size:14px;text-align:center;padding:10px 0}",""])},function(e,t){e.exports=function(e,t){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],o=a[0],r={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(r):i.push(n[o]={id:o,parts:[r]})}return i}},function(e,t,i){"use strict";var n=i(9),s={STATE_CHANGER:["[Vue-infinite-loading warn]: emit `loaded` and `complete` event through component instance of `$refs` may cause error, so it will be deprecated soon, please use the `$state` argument instead (`$state` just the special `$event` variable):","\ntemplate:",'<infinite-loading @infinite="infiniteHandler"></infinite-loading>',"\nscript:\n...\ninfiniteHandler($state) {\n  ajax('https://www.example.com/api/news')\n    .then((res) => {\n      if (res.data.length) {\n        $state.loaded();\n      } else {\n        $state.complete();\n      }\n    });\n}\n...","","more details: https://github.com/PeachScript/vue-infinite-loading/issues/57#issuecomment-324370549"].join("\n"),INFINITE_EVENT:"[Vue-infinite-loading warn]: `:on-infinite` property will be deprecated soon, please use `@infinite` event instead."},a={INFINITE_LOOP:["[Vue-infinite-loading error]: executed the callback function more than 10 times for a short time, it looks like searched a wrong scroll wrapper that doest not has fixed height or maximum height, please check it. If you want to force to set a element as scroll wrapper ranther than automatic searching, you can do this:",'\n\x3c!-- add a special attribute for the real scroll wrapper --\x3e\n<div infinite-wrapper>\n  ...\n  \x3c!-- set force-use-infinite-wrapper to true --\x3e\n  <infinite-loading force-use-infinite-wrapper="true"></infinite-loading>\n</div>\n    ',"more details: https://github.com/PeachScript/vue-infinite-loading/issues/55#issuecomment-316934169"].join("\n")};t.a={name:"InfiniteLoading",data:function(){return{scrollParent:null,scrollHandler:null,isLoading:!1,isComplete:!1,isFirstLoad:!0,debounceTimer:null,debounceDuration:50,infiniteLoopChecked:!1,infiniteLoopTimer:null,continuousCallTimes:0}},components:{Spinner:n.a},computed:{isNoResults:{cache:!1,get:function(){var e=this.$slots["no-results"],t=e&&e[0].elm&&""===e[0].elm.textContent;return!this.isLoading&&this.isComplete&&this.isFirstLoad&&!t}},isNoMore:{cache:!1,get:function(){var e=this.$slots["no-more"],t=e&&e[0].elm&&""===e[0].elm.textContent;return!this.isLoading&&this.isComplete&&!this.isFirstLoad&&!t}}},props:{distance:{type:Number,default:100},onInfinite:Function,spinner:String,direction:{type:String,default:"bottom"},forceUseInfiniteWrapper:null},mounted:function(){var t=this;this.scrollParent=this.getScrollParent(),this.scrollHandler=function(e){this.isLoading||(clearTimeout(this.debounceTimer),e&&e.constructor===Event?this.debounceTimer=setTimeout(this.attemptLoad,this.debounceDuration):this.attemptLoad())}.bind(this),setTimeout(this.scrollHandler,1),this.scrollParent.addEventListener("scroll",this.scrollHandler),this.$on("$InfiniteLoading:loaded",function(e){t.isFirstLoad=!1,t.isLoading&&t.$nextTick(t.attemptLoad.bind(null,!0)),e&&e.target===t||console.warn(s.STATE_CHANGER)}),this.$on("$InfiniteLoading:complete",function(e){t.isLoading=!1,t.isComplete=!0,t.$nextTick(function(){t.$forceUpdate()}),t.scrollParent.removeEventListener("scroll",t.scrollHandler),e&&e.target===t||console.warn(s.STATE_CHANGER)}),this.$on("$InfiniteLoading:reset",function(){t.isLoading=!1,t.isComplete=!1,t.isFirstLoad=!0,t.scrollParent.addEventListener("scroll",t.scrollHandler),setTimeout(t.scrollHandler,1)}),this.onInfinite&&console.warn(s.INFINITE_EVENT),this.stateChanger={loaded:function(){t.$emit("$InfiniteLoading:loaded",{target:t})},complete:function(){t.$emit("$InfiniteLoading:complete",{target:t})},reset:function(){t.$emit("$InfiniteLoading:reset",{target:t})}},this.$watch("forceUseInfiniteWrapper",function(){t.scrollParent=t.getScrollParent()})},deactivated:function(){this.isLoading=!1,this.scrollParent.removeEventListener("scroll",this.scrollHandler)},activated:function(){this.scrollParent.addEventListener("scroll",this.scrollHandler)},methods:{attemptLoad:function(e){var t=this,i=this.getCurrentDistance();!this.isComplete&&i<=this.distance&&0<this.$el.offsetWidth+this.$el.offsetHeight?(this.isLoading=!0,"function"==typeof this.onInfinite?this.onInfinite.call(null,this.stateChanger):this.$emit("infinite",this.stateChanger),!e||this.forceUseInfiniteWrapper||this.infiniteLoopChecked||(this.continuousCallTimes+=1,clearTimeout(this.infiniteLoopTimer),this.infiniteLoopTimer=setTimeout(function(){t.infiniteLoopChecked=!0},1e3),10<this.continuousCallTimes&&(console.error(a.INFINITE_LOOP),this.infiniteLoopChecked=!0))):this.isLoading=!1},getCurrentDistance:function(){return"top"===this.direction?isNaN(this.scrollParent.scrollTop)?this.scrollParent.pageYOffset:this.scrollParent.scrollTop:this.$el.getBoundingClientRect().top-(this.scrollParent===window?window.innerHeight:this.scrollParent.getBoundingClientRect().bottom)},getScrollParent:function(e){var t=0<arguments.length&&void 0!==e?e:this.$el,i=void 0;return"BODY"===t.tagName?i=window:!this.forceUseInfiniteWrapper&&-1<["scroll","auto"].indexOf(getComputedStyle(t).overflowY)?i=t:(t.hasAttribute("infinite-wrapper")||t.hasAttribute("data-infinite-wrapper"))&&(i=t),i||this.getScrollParent(t.parentNode)}},destroyed:function(){this.isComplete||this.scrollParent.removeEventListener("scroll",this.scrollHandler)}}},function(e,t,i){"use strict";function n(e){i(10)}var s=i(12),a=i(13),o=i(2)(s.a,a.a,!1,n,"data-v-6e1fd88f",null);t.a=o.exports},function(e,t,i){var n=i(11);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),i(1)("29881045",n,!0)},function(e,t,i){(e.exports=i(0)(void 0)).push([e.i,'.loading-wave-dots[data-v-6e1fd88f]{position:relative}.loading-wave-dots[data-v-6e1fd88f] .wave-item{position:absolute;top:50%;left:50%;display:inline-block;margin-top:-4px;width:8px;height:8px;border-radius:50%;-webkit-animation:loading-wave-dots-data-v-6e1fd88f linear 2.8s infinite;animation:loading-wave-dots-data-v-6e1fd88f linear 2.8s infinite}.loading-wave-dots[data-v-6e1fd88f] .wave-item:first-child{margin-left:-36px}.loading-wave-dots[data-v-6e1fd88f] .wave-item:nth-child(2){margin-left:-20px;-webkit-animation-delay:.14s;animation-delay:.14s}.loading-wave-dots[data-v-6e1fd88f] .wave-item:nth-child(3){margin-left:-4px;-webkit-animation-delay:.28s;animation-delay:.28s}.loading-wave-dots[data-v-6e1fd88f] .wave-item:nth-child(4){margin-left:12px;-webkit-animation-delay:.42s;animation-delay:.42s}.loading-wave-dots[data-v-6e1fd88f] .wave-item:last-child{margin-left:28px;-webkit-animation-delay:.56s;animation-delay:.56s}@-webkit-keyframes loading-wave-dots-data-v-6e1fd88f{0%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}10%{-webkit-transform:translateY(-6px);transform:translateY(-6px);background:#999}20%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}to{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}}@keyframes loading-wave-dots-data-v-6e1fd88f{0%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}10%{-webkit-transform:translateY(-6px);transform:translateY(-6px);background:#999}20%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}to{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}}.loading-circles[data-v-6e1fd88f] .circle-item{width:5px;height:5px;-webkit-animation:loading-circles-data-v-6e1fd88f linear .75s infinite;animation:loading-circles-data-v-6e1fd88f linear .75s infinite}.loading-circles[data-v-6e1fd88f] .circle-item:first-child{margin-top:-14.5px;margin-left:-2.5px}.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(2){margin-top:-11.26px;margin-left:6.26px}.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(3){margin-top:-2.5px;margin-left:9.5px}.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(4){margin-top:6.26px;margin-left:6.26px}.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(5){margin-top:9.5px;margin-left:-2.5px}.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(6){margin-top:6.26px;margin-left:-11.26px}.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(7){margin-top:-2.5px;margin-left:-14.5px}.loading-circles[data-v-6e1fd88f] .circle-item:last-child{margin-top:-11.26px;margin-left:-11.26px}@-webkit-keyframes loading-circles-data-v-6e1fd88f{0%{background:#dfdfdf}90%{background:#505050}to{background:#dfdfdf}}@keyframes loading-circles-data-v-6e1fd88f{0%{background:#dfdfdf}90%{background:#505050}to{background:#dfdfdf}}.loading-bubbles[data-v-6e1fd88f] .bubble-item{background:#666;-webkit-animation:loading-bubbles-data-v-6e1fd88f linear .75s infinite;animation:loading-bubbles-data-v-6e1fd88f linear .75s infinite}.loading-bubbles[data-v-6e1fd88f] .bubble-item:first-child{margin-top:-12.5px;margin-left:-.5px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(2){margin-top:-9.26px;margin-left:8.26px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(3){margin-top:-.5px;margin-left:11.5px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(4){margin-top:8.26px;margin-left:8.26px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(5){margin-top:11.5px;margin-left:-.5px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(6){margin-top:8.26px;margin-left:-9.26px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(7){margin-top:-.5px;margin-left:-12.5px}.loading-bubbles[data-v-6e1fd88f] .bubble-item:last-child{margin-top:-9.26px;margin-left:-9.26px}@-webkit-keyframes loading-bubbles-data-v-6e1fd88f{0%{width:1px;height:1px;box-shadow:0 0 0 3px #666}90%{width:1px;height:1px;box-shadow:0 0 0 0 #666}to{width:1px;height:1px;box-shadow:0 0 0 3px #666}}@keyframes loading-bubbles-data-v-6e1fd88f{0%{width:1px;height:1px;box-shadow:0 0 0 3px #666}90%{width:1px;height:1px;box-shadow:0 0 0 0 #666}to{width:1px;height:1px;box-shadow:0 0 0 3px #666}}.loading-default[data-v-6e1fd88f]{position:relative;border:1px solid #999;-webkit-animation:loading-rotating-data-v-6e1fd88f ease 1.5s infinite;animation:loading-rotating-data-v-6e1fd88f ease 1.5s infinite}.loading-default[data-v-6e1fd88f]:before{content:"";position:absolute;display:block;top:0;left:50%;margin-top:-3px;margin-left:-3px;width:6px;height:6px;background-color:#999;border-radius:50%}.loading-spiral[data-v-6e1fd88f]{border:2px solid #777;border-right-color:transparent;-webkit-animation:loading-rotating-data-v-6e1fd88f linear .85s infinite;animation:loading-rotating-data-v-6e1fd88f linear .85s infinite}@-webkit-keyframes loading-rotating-data-v-6e1fd88f{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-rotating-data-v-6e1fd88f{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.loading-bubbles[data-v-6e1fd88f],.loading-circles[data-v-6e1fd88f]{position:relative}.loading-bubbles[data-v-6e1fd88f] .bubble-item,.loading-circles[data-v-6e1fd88f] .circle-item{position:absolute;top:50%;left:50%;display:inline-block;border-radius:50%}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(2),.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(2){-webkit-animation-delay:93ms;animation-delay:93ms}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(3),.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(3){-webkit-animation-delay:.186s;animation-delay:.186s}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(4),.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(4){-webkit-animation-delay:.279s;animation-delay:.279s}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(5),.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(5){-webkit-animation-delay:.372s;animation-delay:.372s}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(6),.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(6){-webkit-animation-delay:.465s;animation-delay:.465s}.loading-bubbles[data-v-6e1fd88f] .bubble-item:nth-child(7),.loading-circles[data-v-6e1fd88f] .circle-item:nth-child(7){-webkit-animation-delay:.558s;animation-delay:.558s}.loading-bubbles[data-v-6e1fd88f] .bubble-item:last-child,.loading-circles[data-v-6e1fd88f] .circle-item:last-child{-webkit-animation-delay:.651s;animation-delay:.651s}',""])},function(e,t,i){"use strict";var n={BUBBLES:{render:function(e){return e("span",{attrs:{class:"loading-bubbles"}},Array.apply(Array,Array(8)).map(function(){return e("span",{attrs:{class:"bubble-item"}})}))}},CIRCLES:{render:function(e){return e("span",{attrs:{class:"loading-circles"}},Array.apply(Array,Array(8)).map(function(){return e("span",{attrs:{class:"circle-item"}})}))}},DEFAULT:{render:function(e){return e("i",{attrs:{class:"loading-default"}})}},SPIRAL:{render:function(e){return e("i",{attrs:{class:"loading-spiral"}})}},WAVEDOTS:{render:function(e){return e("span",{attrs:{class:"loading-wave-dots"}},Array.apply(Array,Array(5)).map(function(){return e("span",{attrs:{class:"wave-item"}})}))}}};t.a={name:"spinner",computed:{spinnerView:function(){return n[(this.spinner||"").toUpperCase()]||n.DEFAULT}},props:{spinner:String}}},function(e,t,i){"use strict";var n={render:function(){var e=this.$createElement;return(this._self._c||e)(this.spinnerView,{tag:"component"})},staticRenderFns:[]};t.a=n},function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"infinite-loading-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]},[e._t("spinner",[i("spinner",{attrs:{spinner:e.spinner}})])],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoResults,expression:"isNoResults"}],staticClass:"infinite-status-prompt"},[e._t("no-results",[e._v("No results :(")])],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoMore,expression:"isNoMore"}],staticClass:"infinite-status-prompt"},[e._t("no-more",[e._v("No more data :)")])],2)])},staticRenderFns:[]};t.a=n}],n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=3);function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,s});var NativeApplication={setBadge:function(e){if("ExperimentalBadge"in window)if(e)try{window.ExperimentalBadge.set(e)}catch(e){window.ExperimentalBadge.set()}else window.ExperimentalBadge.clear()}};"serviceWorker"in navigator&&window.addEventListener("load",function(){var e=document.querySelector("link[type='text/css']").href.match(/\?([0-9\.]+)/),t=e?e[0]:"";navigator.serviceWorker.register("/serviceworker.js?v="+t).then(function(e){}).catch(function(e){})}),function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.VNumber=t():e.VNumber=t()}(this,function(){return s={},n.m=i=[function(e,t,i){"use strict";t.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(e,t,s){"use strict";var a=s(2),o=s(5),r=s(0);t.a=function(t,e){if(e.value){var i=s.i(o.a)(r.a,e.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var n=t.getElementsByTagName("input");1!==n.length||(t=n[0])}t.oninput=function(){var e=t.value.length-t.selectionEnd;"R$ 0,0"!=t.value&&t.value?t.value=s.i(a.a)(t.value,i):t.value="",e=Math.max(e,i.suffix.length),e=t.value.length-e,e=Math.max(e,i.prefix.length+1),s.i(a.b)(t,e),t.dispatchEvent(s.i(a.c)("change"))},t.onfocus=function(){s.i(a.b)(t,t.value.length-i.suffix.length)},t.oninput(),t.dispatchEvent(s.i(a.c)("input"))}}},function(e,t,i){"use strict";function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:defaults;if("string"==typeof e&&0==t.precision){var i=e.indexOf(".");-1!=i&&(e=e.substring(0,i))}"number"==typeof e&&(e=e.toFixed(l(t.precision)));var n=0<=e.indexOf("-")?"-":"",s=d(c(r(e),t.precision)).split("."),a=s[0],o=s[1];return a=function(e,t){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+t)}(a,t.thousands),(null!=t.prefix?t.prefix:"")+n+function(e,t,i){return t?e+i+t:e}(a,o,t.decimal)+(null!=t.suffix?t.suffix:"")}function s(e,t){var i=0<=e.indexOf("-")?-1:1,n=c(r(e),t);return parseFloat(n)*i}function r(e){return d(e).replace(/\D+/g,"")||"0"}function l(e){return function(e,t,i){return Math.max(e,Math.min(t,i))}(0,e,20)}function c(e,t){var i=Math.pow(10,t);return(parseFloat(e)/i).toFixed(l(t))}function d(e){return e?e.toString():""}function a(e,t){function i(){e.setSelectionRange(t,t)}e===document.activeElement&&(i(),setTimeout(i,1))}function o(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}window.number_format=n;i(0);i.d(t,"a",function(){return n}),i.d(t,"d",function(){return s}),i.d(t,"b",function(){return a}),i.d(t,"c",function(){return o})},function(e,t,i){"use strict";function n(e,t){t&&Object.keys(t).map(function(e){r.a[e]=t[e]}),e.directive("number",o.a),e.component("number",a.a)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),a=i.n(s),o=i(1),r=i(0);i.d(t,"Number",function(){return a.a}),i.d(t,"VNumber",function(){return o.a}),i.d(t,"options",function(){return r.a}),t.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),s=i(0),a=i(2);t.default={name:"Number",props:{value:{required:!0,default:0},masked:{type:Boolean,default:0},precision:{type:Number,default:function(){return Vue.prototype.$account.number.precision}},decimal:{type:String,default:function(){return Vue.prototype.$account.number.decimal}},thousands:{type:String,default:function(){return Vue.prototype.$account.number.thousands}},prefix:{type:String,default:function(){return s.a.prefix}},suffix:{type:String,default:function(){return s.a.suffix}}},directives:{number:n.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(e){if(null===e||""===e)var t="";else t=i.i(a.a)(e,this.$props);t!==this.formattedValue&&(this.formattedValue=t)}}},methods:{change:function(e){this.$emit("input",this.masked?e.target.value:e.target.value?i.i(a.d)(e.target.value,this.precision):e.target.value)}}}},function(e,t,i){"use strict";t.a=function(i,n){return i=i||{},n=n||{},Object.keys(i).concat(Object.keys(n)).reduce(function(e,t){return e[t]=void 0===n[t]?i[t]:n[t],e},{})}},function(e,t,i){var n=i(7)(i(4),i(8),null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,i,n){var s,a=e=e||{},o=_typeof2(e.default);"object"!==o&&"function"!==o||(a=(s=e).default);var r="function"==typeof a?a.options:a;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),i&&(r._scopeId=i),n){var l=r.computed||(r.computed={});Object.keys(n).forEach(function(e){var t=n[e];l[e]=function(){return t}})}return{esModule:s,exports:a,options:r}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"number",rawName:"v-number",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-number",attrs:{type:"text"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,t,i){e.exports=i(3)}],n.c=s,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=".",n(n.s=9);function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,s}),function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueSlicksort={})}(this,function(e){"use strict";function k(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var t={inject:["manager"],props:{index:{type:Number,required:!0},collection:{type:[String,Number],default:"default"},disabled:{type:Boolean,default:!1}},mounted:function(){var e=this.$props,t=e.collection,i=e.disabled,n=e.index;i||this.setDraggable(t,n)},watch:{index:function(e){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=e)},disabled:function(e){e?this.removeDraggable(this.collection):this.setDraggable(this.collection,this.index)},collection:function(e,t){this.removeDraggable(t),this.setDraggable(e,this.index)}},beforeDestroy:function(){var e=this.collection;this.disabled||this.removeDraggable(e)},methods:{setDraggable:function(e,t){var i=this.$el;i.sortableInfo={index:t,collection:e,manager:this.manager},this.ref={node:i},this.manager.add(e,this.ref)},removeDraggable:function(e){this.manager.remove(e,this.ref)}}},f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(s)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}(n,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var i=this.getIndex(e,t);-1!==i&&this.refs[e].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find(function(e){return e.node.sortableInfo.index==t.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.active.collection;return this.refs[t].sort(function(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index})}}]),n);function n(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.refs={}}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,i){var n=e.slice(0);if(i>=n.length)for(var s=i-n.length;1+s--;)n.push(void 0);return n.splice(i,0,n.splice(t,1)[0]),n}var w={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},x=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function d(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function m(e,t,i){return i<e?e:t<i?t:i}function _(e){return"px"===e.substr(-2)?parseFloat(e):0}var a={data:function(){return{sorting:!1,sortingIndex:null,manager:new i,events:{start:this.handleStart,move:this.handleMove,end:this.handleEnd}}},props:{value:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},scrollContainer:{type:Object,default:null},lockAxis:String,helperClass:String,contentWindow:Object,shouldCancelStart:{type:Function,default:function(e){return-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}}},provide:function(){return{manager:this.manager}},mounted:function(){var i=this;this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer||(this.scrollContainer=this.useWindowAsScrollContainer?document.scrollingElement||document.documentElement:this.container);function e(t){i.events.hasOwnProperty(t)&&w[t].forEach(function(e){return i.container.addEventListener(e,i.events[t],!1)})}for(var t in this.events)e(t)},beforeDestroy:function(){function e(t){i.events.hasOwnProperty(t)&&w[t].forEach(function(e){return i.container.removeEventListener(e,i.events[t])})}var i=this;for(var t in this.events)e(t)},methods:{handleStart:function(e){var t=this,i=this.$props,n=i.distance,s=i.shouldCancelStart;if(2===e.button||s(e))return!1;this._touched=!0,this._pos={x:e.pageX,y:e.pageY};var a=d(e.target,function(e){return null!=e.sortableInfo});if(a&&a.sortableInfo&&this.nodeIsChild(a)&&!this.sorting){var o=this.$props.useDragHandle,r=a.sortableInfo,l=r.index,c=r.collection;if(o&&!d(e.target,function(e){return null!=e.sortableHandle}))return;this.manager.active={index:l,collection:c},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),n||(0===this.$props.pressDelay?this.handlePress(e):this.pressTimer=setTimeout(function(){return t.handlePress(e)},this.$props.pressDelay))}},nodeIsChild:function(e){return e.sortableInfo.manager===this.manager},handleMove:function(e){var t=this.$props,i=t.distance,n=t.pressThreshold;if(!this.sorting&&this._touched){this._delta={x:this._pos.x-e.pageX,y:this._pos.y-e.pageY};var s=Math.abs(this._delta.x)+Math.abs(this._delta.y);i||n&&!(n&&n<=s)?i&&i<=s&&this.manager.isActive()&&this.handlePress(e):(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0))}},handleEnd:function(){var e=this.$props.distance;this._touched=!1,e||this.cancel()},cancel:function(){this.sorting||(clearTimeout(this.pressTimer),this.manager.active=null)},handlePress:function(e){var t,i,n=this,s=this.manager.getActive();if(s){var a=this.$props,o=a.axis,r=a.getHelperDimensions,l=a.helperClass,c=a.hideSortableGhost,d=a.useWindowAsScrollContainer,u=s.node,p=s.collection,h=u.sortableInfo.index,f=(t=u,{top:_((i=window.getComputedStyle(t)).marginTop),right:_(i.marginRight),bottom:_(i.marginBottom),left:_(i.marginLeft)}),m=this.container.getBoundingClientRect(),v=r({index:h,node:u,collection:p});this.node=u,this.margin=f,this.width=v.width,this.height=v.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=u.getBoundingClientRect(),this.containerBoundingRect=m,this.index=h,this.newIndex=h,this._axis={x:0<=o.indexOf("x"),y:0<=o.indexOf("y")},this.offsetEdge=this.getEdgeOffset(u),this.initialOffset=this.getOffset(e),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var g,b=u.querySelectorAll("input, textarea, select"),y=u.cloneNode(!0);[].concat(k(y.querySelectorAll("input, textarea, select"))).forEach(function(e,t){"file"!==e.type&&b[t]&&(e.value=b[t].value)}),this.helper=this.document.body.appendChild(y),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-f.top+"px",this.helper.style.left=this.boundingClientRect.left-f.left+"px",this.helper.style.width=this.width+"px",this.helper.style.height=this.height+"px",this.helper.style.boxSizing="border-box",this.helper.style.zIndex=1090,this.helper.style.pointerEvents="none",c&&((this.sortableGhost=u).style.visibility="hidden",u.style.opacity=0),this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(d?0:m.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(d?window.innerWidth:m.left+m.width)-this.boundingClientRect.left-this.width/2),this._axis.y&&(this.minTranslate.y=(d?0:m.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(d?window.innerHeight:m.top+m.height)-this.boundingClientRect.top-this.height/2),l&&(g=this.helper.classList).add.apply(g,k(l.split(" "))),this.listenerNode=e.touches?u:this._window,w.move.forEach(function(e){return n.listenerNode.addEventListener(e,n.handleSortMove,!1)}),w.end.forEach(function(e){return n.listenerNode.addEventListener(e,n.handleSortEnd,!1)}),this.sorting=!0,this.sortingIndex=h,this.$emit("sortStart",{event:e,node:u,index:h,collection:p})}},handleSortMove:function(e){$mx("html").addClass("is-dragging"),e.preventDefault(),this.updatePosition(e),this.animateNodes(),this.autoscroll(),this.$emit("sortMove",{event:e})},handleSortEnd:function(e){$mx("html").removeClass("is-dragging");var t=this,i=this.manager.active.collection;this.listenerNode&&(w.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),w.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),this.helper.parentNode.removeChild(this.helper),this.hideSortableGhost&&this.sortableGhost&&(this.sortableGhost.style.visibility="",this.sortableGhost.style.opacity="");for(var n=this.manager.refs[i],s=0,a=n.length;s<a;s++){var o=n[s],r=o.node;o.edgeOffset=null,r.style[x+"Transform"]="",r.style[x+"TransitionDuration"]=""}clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.manager.active=null,this.sorting=!1,this.sortingIndex=null,this.$emit("sortEnd",{event:e,oldIndex:this.index,newIndex:this.newIndex,collection:i}),this.$emit("input",l(this.value,this.index,this.newIndex)),this._touched=!1},getEdgeOffset:function(e){for(var t=0,i=0,n=e;n&&n!==this.container;)t+=parseInt(n.offsetTop),i+=parseInt(n.offsetLeft),n=n.offsetParent;return{top:t,left:i}},getOffset:function(e){return{x:e.touches?e.touches[0].pageX:e.pageX,y:e.touches?e.touches[0].pageY:e.pageY}},getLockPixelOffsets:function(){var e=this.$props.lockOffset;if(Array.isArray(this.lockOffset)||(e=[e,e]),2!==e.length)throw new Error("lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given "+e);var t=f(e,2),i=t[0],n=t[1];return[this.getLockPixelOffset(i),this.getLockPixelOffset(n)]},getLockPixelOffset:function(e){var t=e,i=e,n="px";if("string"==typeof e){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);if(null===s)throw new Error('lockOffset value should be a number or a string of a number followed by "px" or "%". Given '+e);t=i=parseFloat(e),n=s[1]}if(!isFinite(t)||!isFinite(i))throw new Error("lockOffset value should be a finite. Given "+e);return"%"===n&&(t=t*this.width/100,i=i*this.height/100),{x:t,y:i}},updatePosition:function(e){var t=this.$props,i=t.lockAxis,n=t.lockToContainerEdges,s=this.getOffset(e),a={x:s.x-this.initialOffset.x,y:s.y-this.initialOffset.y};if(a.y-=window.pageYOffset-this.initialWindowScroll.top,a.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=a,n){var o=this.getLockPixelOffsets(),r=f(o,2),l=r[0],c=r[1],d=this.width/2-l.x,u=this.height/2-l.y,p=this.width/2-c.x,h=this.height/2-c.y;a.x=m(this.minTranslate.x+d,this.maxTranslate.x-p,a.x),a.y=m(this.minTranslate.y+u,this.maxTranslate.y-h,a.y)}"x"===i?a.y=0:"y"===i&&(a.x=0),this.helper.style[x+"Transform"]="translate3d("+a.x+"px,"+a.y+"px, 0)"},animateNodes:function(){var e=this.$props,t=e.transitionDuration,i=e.hideSortableGhost,n=this.manager.getOrderedRefs(),s=this.scrollContainer.scrollLeft-this.initialScroll.left,a=this.scrollContainer.scrollTop-this.initialScroll.top,o=this.offsetEdge.left+this.translate.x+(e.useWindowAsScrollContainer?0:s),r=this.offsetEdge.top+this.translate.y+(e.useWindowAsScrollContainer?window.matchMedia("(max-width: 767px)").matches?a:0:a),l=window.pageYOffset-this.initialWindowScroll.top,c=window.pageXOffset-this.initialWindowScroll.left;this.newIndex=null;for(var d=0,u=n.length;d<u;d++){var p=n[d].node,h=p.sortableInfo.index,f=p.offsetWidth,m=p.offsetHeight,v=this.width>f?f/2:this.width/2,g=this.height>m?m/2:this.height/2,b={x:0,y:0},y=n[d].edgeOffset;y||(n[d].edgeOffset=y=this.getEdgeOffset(p));var k=d<n.length-1&&n[d+1],w=0<d&&n[d-1];k&&!k.edgeOffset&&(k.edgeOffset=this.getEdgeOffset(k.node)),h!==this.index?(t&&(p.style[x+"TransitionDuration"]=t+"ms"),this._axis.x?this._axis.y?h<this.index&&(o+c-v<=y.left&&r+l<=y.top+g||r+l+g<=y.top)?(b.x=this.width+this.marginOffset.x,y.left+b.x>this.containerBoundingRect.width-v&&(b.x=k.edgeOffset.left-y.left,b.y=k.edgeOffset.top-y.top),null===this.newIndex&&(this.newIndex=h)):h>this.index&&(o+c+v>=y.left&&r+l+g>=y.top||r+l+g>=y.top+m)&&(b.x=-(this.width+this.marginOffset.x),y.left+b.x<this.containerBoundingRect.left+v&&(b.x=w.edgeOffset.left-y.left,b.y=w.edgeOffset.top-y.top),this.newIndex=h):h>this.index&&o+c+v>=y.left?(b.x=-(this.width+this.marginOffset.x),this.newIndex=h):h<this.index&&o+c<=y.left+v&&(b.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this._axis.y&&(h>this.index&&r+l+g>=y.top?(b.y=-(this.height+this.marginOffset.y),this.newIndex=h):h<this.index&&r+l<=y.top+g&&(b.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),p.style[x+"Transform"]="translate3d("+b.x+"px,"+b.y+"px,0)"):i&&((this.sortableGhost=p).style.visibility="hidden",p.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)},autoscroll:function(){var i=this,e=this.translate,n={x:0,y:0},s={x:1,y:1};e.y>=this.maxTranslate.y-this.height/2?(n.y=1,s.y=10*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(n.x=1,s.x=10*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(n.y=-1,s.y=10*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(n.x=-1,s.x=10*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.isAutoScrolling=!1),0===n.x&&0===n.y||(this.autoscrollInterval=setInterval(function(){i.isAutoScrolling=!0;var e=1*s.x*n.x,t=1*s.y*n.y;i.scrollContainer.scrollTop+=t,i.scrollContainer.scrollLeft+=e,i.translate.x+=e,i.translate.y+=t,i.animateNodes()},5))}}},o={name:"slick-list",mixins:[a],render:function(e){return e("div",this.$slots.default)}},r={name:"slick-item",mixins:[t],render:function(e){return e("div",this.$slots.default)}};e.ElementMixin=t,e.ContainerMixin=a,e.HandleDirective={bind:function(e){e.sortableHandle=!0}},e.SlickList=o,e.SlickItem=r,e.arrayMove=l,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.io=t():e.io=t()}(this,function(){return s={},i.m=n=[function(e,t,i){"use strict";function n(e,t){"object"===(void 0===e?"undefined":l(e))&&(t=e,e=void 0),t=t||{};var i,n=c(e),s=n.source,a=n.id,o=n.path,r=p[a]&&o in p[a].nsps;return i=t.forceNew||t["force new connection"]||!1===t.multiplex||r?(u("ignoring socket cache for %s",s),d(s,t)):(p[a]||(u("new io instance for %s",s),p[a]=d(s,t)),p[a]),n.query&&!t.query&&(t.query=n.query),i.socket(n.path,t)}var l="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},c=i(1),s=i(7),d=i(12),u=i(3)("socket.io-client");e.exports=t=n;var p=t.managers={};t.protocol=s.protocol,t.connect=n,t.Manager=i(12),t.Socket=i(37)},function(e,t,i){(function(s){"use strict";var a=i(2),o=i(3)("socket.io-client:url");e.exports=function(e,t){var i=e;t=t||s.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),i=a(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var n=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port,i.href=i.protocol+"://"+n+(t&&t.port===i.port?"":":"+i.port),i}}).call(t,function(){return this}())},function(e,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),n=e.indexOf("]");-1!=i&&-1!=n&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length));for(var s=r.exec(e||""),a={},o=14;o--;)a[l[o]]=s[o]||"";return-1!=i&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(i,a,n){(function(t){function e(){var e;try{e=a.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(a=i.exports=n(5)).log=function(){return"object"==("undefined"==typeof console?"undefined":_typeof2(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},a.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+a.humanize(this.diff),t){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var n=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(s=n))}),e.splice(s,0,i)}},a.save=function(e){try{null==e?a.storage.removeItem("debug"):a.storage.debug=e}catch(e){}},a.load=e,a.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},a.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},a.enable(e())}).call(a,n(4))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(){f&&p&&(f=!1,p.length?h=p.concat(h):m=-1,h.length&&o())}function o(){if(!f){var e=s(a);f=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,f=!1,function(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}(e)}}function r(e,t){this.fun=e,this.array=t}function l(){}var c,d,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var p,h=[],f=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new r(e,t)),1!==h.length||f||s(o)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.prependListener=l,u.prependOnceListener=l,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,l,t){function i(e){function n(){if(n.enabled){var s=n,e=+new Date,t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e;for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];a[0]=l.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var o=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;o++;var i=l.formatters[t];if("function"==typeof i){var n=a[o];e=i.call(s,n),a.splice(o,1),o--}return e}),l.formatArgs.call(s,a),(n.log||l.log||console.log.bind(console)).apply(s,a)}}var r;return n.namespace=e,n.enabled=l.enabled(e),n.useColors=l.useColors(),n.color=function(e){var t,i=0;for(t in e)i=(i<<5)-i+e.charCodeAt(t),i|=0;return l.colors[Math.abs(i)%l.colors.length]}(e),n.destroy=s,"function"==typeof l.init&&l.init(n),l.instances.push(n),n}function s(){var e=l.instances.indexOf(this);return-1!==e&&(l.instances.splice(e,1),!0)}(l=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},l.disable=function(){l.enable("")},l.enable=function(e){l.save(e),l.names=[],l.skips=[];var t,i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(t=0;t<n;t++)i[t]&&("-"===(e=i[t].replace(/\*/g,".*?"))[0]?l.skips.push(new RegExp("^"+e.substr(1)+"$")):l.names.push(new RegExp("^"+e+"$")));for(t=0;t<l.instances.length;t++){var s=l.instances[t];s.enabled=l.enabled(s.namespace)}},l.enabled=function(e){if("*"===e[e.length-1])return!0;var t,i;for(t=0,i=l.skips.length;t<i;t++)if(l.skips[t].test(e))return!1;for(t=0,i=l.names.length;t<i;t++)if(l.names[t].test(e))return!0;return!1},l.humanize=t(6),l.instances=[],l.names=[],l.skips=[],l.formatters={}},function(e,t){function n(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}e.exports=function(e,t){t=t||{};var i=void 0===e?"undefined":_typeof2(e);if("string"===i&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===i&&!1===isNaN(e))return t.long?function(e){return n(e,864e5,"day")||n(e,36e5,"hour")||n(e,6e4,"minute")||n(e,1e3,"second")||e+" ms"}(e):function(e){return 864e5<=e?Math.round(e/864e5)+"d":36e5<=e?Math.round(e/36e5)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,r,t){function i(){}function a(e){var t=""+e.type;if(r.BINARY_EVENT!==e.type&&r.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return m;t+=i}return d("encoded %j as %s",e,t),t}function n(e,s){p.removeBlobs(e,function(e){var t=p.deconstructPacket(e),i=a(t.packet),n=t.buffers;n.unshift(i),s(n)})}function s(){this.reconstructor=null}function o(e){var t=0,i={type:Number(e.charAt(0))};if(null==r.types[i.type])return c("unknown packet type "+i.type);if(r.BINARY_EVENT===i.type||r.BINARY_ACK===i.type){for(var n="";"-"!==e.charAt(++t)&&(n+=e.charAt(t),t!=e.length););if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(n)}if("/"===e.charAt(t+1))for(i.nsp="";++t;){if(","===(a=e.charAt(t)))break;if(i.nsp+=a,t===e.length)break}else i.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(i.id="";++t;){var a;if(null==(a=e.charAt(t))||Number(a)!=a){--t;break}if(i.id+=e.charAt(t),t===e.length)break}i.id=Number(i.id)}if(e.charAt(++t)){var o=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!(!1!==o&&(i.type===r.ERROR||h(o))))return c("invalid payload");i.data=o}return d("decoded %s as %j",e,i),i}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:r.ERROR,data:"parser error: "+e}}var d=t(3)("socket.io-parser"),u=t(8),p=t(9),h=t(10),f=t(11);r.protocol=4,r.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],r.CONNECT=0,r.DISCONNECT=1,r.EVENT=2,r.ACK=3,r.ERROR=4,r.BINARY_EVENT=5,r.BINARY_ACK=6,r.Encoder=i,r.Decoder=s;var m=r.ERROR+'"encode error"';i.prototype.encode=function(e,t){(d("encoding packet %j",e),r.BINARY_EVENT===e.type||r.BINARY_ACK===e.type)?n(e,t):t([a(e)])},u(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=o(e),r.BINARY_EVENT===t.type||r.BINARY_ACK===t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,i){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n,s=0;s<i.length;s++)if((n=i[s])===t||n.fn===t){i.splice(s,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks["$"+e];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,i,n){(function(e){var d=n(10),u=n(11),t=Object.prototype.toString,p="function"==typeof e.Blob||"[object BlobConstructor]"===t.call(e.Blob),h="function"==typeof e.File||"[object FileConstructor]"===t.call(e.File);i.deconstructPacket=function(e){var t=[],i=e.data,n=e;return n.data=function e(t,i){if(!t)return t;if(u(t)){var n={_placeholder:!0,num:i.length};return i.push(t),n}if(d(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],i);return s}if("object"!=(void 0===t?"undefined":_typeof2(t))||t instanceof Date)return t;s={};for(var o in t)s[o]=e(t[o],i);return s}(i,t),n.attachments=t.length,{packet:n,buffers:t}},i.reconstructPacket=function(e,t){return e.data=function e(t,i){if(!t)return t;if(t&&t._placeholder)return i[t.num];if(d(t))for(var n=0;n<t.length;n++)t[n]=e(t[n],i);else if("object"==(void 0===t?"undefined":_typeof2(t)))for(var s in t)t[s]=e(t[s],i);return t}(e.data,t),e.attachments=void 0,e},i.removeBlobs=function(e,r){var l=0,c=e;(function e(t,i,n){if(!t)return t;if(p&&t instanceof Blob||h&&t instanceof File){l++;var s=new FileReader;s.onload=function(){n?n[i]=this.result:c=this.result,--l||r(c)},s.readAsArrayBuffer(t)}else if(d(t))for(var a=0;a<t.length;a++)e(t[a],a,t);else if("object"==(void 0===t?"undefined":_typeof2(t))&&!u(t))for(var o in t)e(t[o],o,t)})(c),l||r(c)}}).call(i,function(){return this}())},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){(function(t){e.exports=function(e){return i&&t.Buffer.isBuffer(e)||n&&(e instanceof t.ArrayBuffer||s(e))};var i="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,n="function"==typeof t.ArrayBuffer,s=n&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}).call(t,function(){return this}())},function(e,t,i){"use strict";function n(e,t){if(!(this instanceof n))return new n(e,t);e&&"object"===(void 0===e?"undefined":s(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},l=i(13),a=i(37),o=i(8),r=i(7),c=i(39),d=i(40),u=i(3)("socket.io-client:manager"),p=i(36),h=i(41),f=Object.prototype.hasOwnProperty;(e.exports=n).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},n.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},n.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(i,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=l(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var s=c(t,"open",function(){n.onopen(),i&&i()}),a=c(t,"error",function(e){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),i){var t=new Error("Connection error");t.data=e,i(t)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;u("connect attempt will timeout after %d",o);var r=setTimeout(function(){u("connect attempt timed out after %d",o),s.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(r)}})}return this.subs.push(s),this.subs.push(a),this},n.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",d(this,"ondata"))),this.subs.push(c(e,"ping",d(this,"onping"))),this.subs.push(c(e,"pong",d(this,"onpong"))),this.subs.push(c(e,"error",d(this,"onerror"))),this.subs.push(c(e,"close",d(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",d(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},n.prototype.socket=function(e,t){function i(){~p(s.connecting,n)||s.connecting.push(n)}var n=this.nsps[e];if(!n){n=new a(this,e,t),this.nsps[e]=n;var s=this;n.on("connecting",i),n.on("connect",function(){n.id=s.generateId(e)}),this.autoConnect&&i()}return n},n.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},n.prototype.packet=function(i){u("writing packet %j",i);var n=this;i.query&&0===i.type&&(i.nsp+="?"+i.query),n.encoding?n.packetBuffer.push(i):(n.encoding=!0,this.encoder.encode(i,function(e){for(var t=0;t<e.length;t++)n.engine.write(e[t],i.options);n.encoding=!1,n.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(i)}})}},n.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,i){e.exports=i(14),e.exports.parser=i(21)},function(t,e,i){(function(n){function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"==(void 0===e?"undefined":_typeof2(e))&&(t=e,e=null),e?(e=r(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=r(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var i="object"==(void 0===n?"undefined":_typeof2(n))&&n;i.global===i&&(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var s=i(15),e=i(8),p=i(3)("engine.io-client:socket"),a=i(36),o=i(21),r=i(2),l=i(30);(t.exports=u).priorWebsocketSuccess=!1,e(u.prototype),u.protocol=o.protocol,(u.Socket=u).Transport=i(20),u.transports=i(15),u.parser=i(21),u.prototype.createTransport=function(e){p('creating transport "%s"',e);var t=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(this.query);t.EIO=o.protocol,t.transport=e;var i=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new s[e]({query:t,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){p("setting transport %s",e.name);var t=this;this.transport&&(p("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},u.prototype.probe=function(i){function e(){if(d.onlyBinaryUpgrades){var e=!this.supportsBinary&&d.transport.supportsBinary;c=c||e}c||(p('probe transport "%s" opened',i),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!c)if("pong"===e.type&&"probe"===e.data){if(p('probe transport "%s" pong',i),d.upgrading=!0,d.emit("upgrading",l),!l)return;u.priorWebsocketSuccess="websocket"===l.name,p('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){c||"closed"!==d.readyState&&(p("changing transport and sending upgrade packet"),r(),d.setTransport(l),l.send([{type:"upgrade"}]),d.emit("upgrade",l),l=null,d.upgrading=!1,d.flush())})}else{p('probe transport "%s" failed',i);var t=new Error("probe error");t.transport=l.name,d.emit("upgradeError",t)}}))}function n(){c||(c=!0,r(),l.close(),l=null)}function t(e){var t=new Error("probe error: "+e);t.transport=l.name,n(),p('probe transport "%s" failed because of error: %s',i,e),d.emit("upgradeError",t)}function s(){t("transport closed")}function a(){t("socket closed")}function o(e){l&&e.name!==l.name&&(p('"%s" works - aborting "%s"',e.name,l.name),n())}function r(){l.removeListener("open",e),l.removeListener("error",t),l.removeListener("close",s),d.removeListener("close",a),d.removeListener("upgrading",o)}p('probing transport "%s"',i);var l=this.createTransport(i,{probe:1}),c=!1,d=this;u.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",t),l.once("close",s),this.once("close",a),this.once("upgrading",o),l.open()},u.prototype.onOpen=function(){if(p("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){p("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(p('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else p('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){p("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(p("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},u.prototype.sendPacket=function(e,t,i,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof i&&(n=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var s={type:e,data:t,options:i};this.emit("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}},u.prototype.close=function(){function e(){n.onClose("forced close"),p("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function i(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},u.prototype.onError=function(e){p("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){p('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],i=0,n=e.length;i<n;i++)~a(this.transports,e[i])&&t.push(e[i]);return t}}).call(e,function(){return this}())},function(e,t,i){(function(o){var r=i(16),l=i(18),c=i(33),e=i(34);t.polling=function(e){var t=!1,i=!1,n=!1!==e.jsonp;if(o.location){var s="https:"===location.protocol,a=location.port;a=a||(s?443:80),t=e.hostname!==location.hostname||a!==e.port,i=e.secure!==s}if(e.xdomain=t,e.xscheme=i,"open"in new r(e)&&!e.forceJSONP)return new l(e);if(!n)throw new Error("JSONP disabled");return new c(e)},t.websocket=e}).call(t,function(){return this}())},function(e,t,i){(function(s){var a=i(17);e.exports=function(e){var t=e.xdomain,i=e.xscheme,n=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||a))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&n)return new XDomainRequest}catch(e){}if(!t)try{return new(s[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(d,e,u){(function(s){function t(){}function e(e){if(n.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,s.location){var t="https:"===location.protocol,i=location.port;i=i||(t?443:80),this.xd=e.hostname!==s.location.hostname||i!==e.port,this.xs=e.secure!==t}}function a(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function i(){for(var e in a.requests)a.requests.hasOwnProperty(e)&&a.requests[e].abort()}var o=u(16),n=u(19),r=u(8),l=u(31),c=u(3)("engine.io-client:polling-xhr");d.exports=e,d.exports.Request=a,l(e,n),e.prototype.supportsBinary=!0,e.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new a(e)},e.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:i}),s=this;n.on("success",t),n.on("error",function(e){s.onError("xhr post error",e)}),this.sendXhr=n},e.prototype.doPoll=function(){c("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},r(a.prototype),a.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new o(e),i=this;try{c("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&t.setRequestHeader(n,this.extraHeaders[n])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},c("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}s.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},a.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},a.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},a.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=t:this.xhr.onreadystatechange=t,e)try{this.xhr.abort()}catch(e){}s.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},a.prototype.hasXDR=function(){return void 0!==s.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},a.requestsCount=0,a.requests={},s.document&&(s.attachEvent?s.attachEvent("onunload",i):s.addEventListener&&s.addEventListener("beforeunload",i,!1))}).call(e,function(){return this}())},function(e,t,i){function n(e){var t=e&&e.forceBase64;d&&!t||(this.supportsBinary=!1),s.call(this,e)}var s=i(20),a=i(30),o=i(21),r=i(31),l=i(32),c=i(3)("engine.io-client:polling");e.exports=n;var d=null!=new(i(16))({xdomain:!1}).responseType;r(n,s),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){c("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||t()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;function i(){t.writable=!0,t.emit("drain")}o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=a.encode(e),this.port&&("https"==t&&443!==Number(this.port)||"http"==t&&80!==Number(this.port))&&(i=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e}},function(e,t,i){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var s=i(21);i(8)((e.exports=n).prototype),n.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=s.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,v,g){(function(c){function o(e,t,i){if(!t)return v.encodeBase64Packet(e,i);if(d)return function(e,t,i){if(!t)return v.encodeBase64Packet(e,i);var n=new FileReader;return n.onload=function(){e.data=n.result,v.encodePacket(e,t,!0,i)},n.readAsArrayBuffer(e.data)}(e,t,i);var n=new Uint8Array(1);return n[0]=u[e.type],i(new m([n.buffer,e.data]))}function t(e,t,i){function n(i,e,n){t(e,function(e,t){s[i]=t,n(e,s)})}for(var s=new Array(e.length),a=r(e.length,i),o=0;o<e.length;o++)n(o,e[o],a)}var s,e=g(22),a=g(23),p=g(24),r=g(25),l=g(26);c&&c.ArrayBuffer&&(s=g(28));var i="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),n="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=i||n;v.protocol=3;var u=v.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=e(u),f={type:"error",data:"parser error"},m=g(29);v.encodePacket=function(e,t,i,n){"function"==typeof t&&(n=t,t=!1),"function"==typeof i&&(n=i,i=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if(c.ArrayBuffer&&s instanceof ArrayBuffer)return function(e,t,i){if(!t)return v.encodeBase64Packet(e,i);var n=e.data,s=new Uint8Array(n),a=new Uint8Array(1+n.byteLength);a[0]=u[e.type];for(var o=0;o<s.length;o++)a[o+1]=s[o];return i(a.buffer)}(e,t,n);if(m&&s instanceof c.Blob)return o(e,t,n);if(s&&s.base64)return function(e,t){return t("b"+v.packets[e.type]+e.data.data)}(e,n);var a=u[e.type];return void 0!==e.data&&(a+=i?l.encode(String(e.data),{strict:!1}):String(e.data)),n(""+a)},v.encodeBase64Packet=function(t,i){var n,s="b"+v.packets[t.type];if(m&&t.data instanceof c.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];i(s+e)},a.readAsDataURL(t.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var o=new Uint8Array(t.data),r=new Array(o.length),l=0;l<o.length;l++)r[l]=o[l];n=String.fromCharCode.apply(null,r)}return s+=c.btoa(n),i(s)},v.decodePacket=function(e,t,i){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return v.decodeBase64Packet(e.substr(1),t);if(i&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return f;var n=e.charAt(0);return Number(n)==n&&h[n]?1<e.length?{type:h[n],data:e.substring(1)}:{type:h[n]}:f}n=new Uint8Array(e)[0];var s=p(e,1);return m&&"blob"===t&&(s=new m([s])),{type:h[n],data:s}},v.decodeBase64Packet=function(e,t){var i=h[e.charAt(0)];if(!s)return{type:i,data:{base64:!0,data:e.substr(1)}};var n=s.decode(e.substr(1));return"blob"===t&&m&&(n=new m([n])),{type:i,data:n}},v.encodePayload=function(e,i,n){"function"==typeof i&&(n=i,i=null);var s=a(e);return i&&s?m&&!d?v.encodePayloadAsBlob(e,n):v.encodePayloadAsArrayBuffer(e,n):e.length?void t(e,function(e,t){v.encodePacket(e,!!s&&i,!1,function(e){t(null,function(e){return e.length+":"+e}(e))})},function(e,t){return n(t.join(""))}):n("0:")},v.decodePayload=function(e,t,i){if("string"!=typeof e)return v.decodePayloadAsBinary(e,t,i);var n;if("function"==typeof t&&(i=t,t=null),""===e)return i(f,0,1);for(var s,a,o="",r=0,l=e.length;r<l;r++){var c=e.charAt(r);if(":"===c){if(""===o||o!=(s=Number(o)))return i(f,0,1);if(o!=(a=e.substr(r+1,s)).length)return i(f,0,1);if(a.length){if(n=v.decodePacket(a,t,!1),f.type===n.type&&f.data===n.data)return i(f,0,1);if(!1===i(n,r+s,l))return}r+=s,o=""}else o+=c}return""!==o?i(f,0,1):void 0},v.encodePayloadAsArrayBuffer=function(e,n){return e.length?void t(e,function(e,t){v.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,t){var i=t.reduce(function(e,t){var i;return e+(i="string"==typeof t?t.length:t.byteLength).toString().length+i+2},0),o=new Uint8Array(i),r=0;return t.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);i=n.buffer}o[r++]=t?0:1;var a=i.byteLength.toString();for(s=0;s<a.length;s++)o[r++]=parseInt(a[s]);o[r++]=255;for(n=new Uint8Array(i),s=0;s<n.length;s++)o[r++]=n[s]}),n(o.buffer)}):n(new ArrayBuffer(0))},v.encodePayloadAsBlob=function(e,i){t(e,function(e,r){v.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);e=i.buffer,t[0]=0}var s=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(s.length+1);for(n=0;n<s.length;n++)a[n]=parseInt(s[n]);if(a[s.length]=255,m){var o=new m([t.buffer,a.buffer,e]);r(null,o)}})},function(e,t){return i(new m(t))})},v.decodePayloadAsBinary=function(e,i,n){"function"==typeof i&&(n=i,i=null);for(var t=e,s=[];0<t.byteLength;){for(var a=new Uint8Array(t),o=0===a[0],r="",l=1;255!==a[l];l++){if(310<r.length)return n(f,0,1);r+=a[l]}t=p(t,2+r.length),r=parseInt(r);var c=p(t,0,r);if(o)try{c=String.fromCharCode.apply(null,new Uint8Array(c))}catch(e){var d=new Uint8Array(c);c="";for(l=0;l<d.length;l++)c+=String.fromCharCode(d[l])}s.push(c),t=p(t,r)}var u=s.length;s.forEach(function(e,t){n(v.decodePacket(e,i,!0),t,u)})}}).call(v,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var n in e)i.call(e,n)&&t.push(n);return t}},function(t,e,i){(function(a){var o=i(10),e=Object.prototype.toString,r="function"==typeof a.Blob||"[object BlobConstructor]"===e.call(a.Blob),l="function"==typeof a.File||"[object FileConstructor]"===e.call(a.File);t.exports=function e(t){if(!t||"object"!=(void 0===t?"undefined":_typeof2(t)))return!1;if(o(t)){for(var i=0,n=t.length;i<n;i++)if(e(t[i]))return!0;return!1}if("function"==typeof a.Buffer&&a.Buffer.isBuffer&&a.Buffer.isBuffer(t)||"function"==typeof a.ArrayBuffer&&t instanceof ArrayBuffer||r&&t instanceof Blob||l&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return!0;return!1}}).call(e,function(){return this}())},function(e,t){e.exports=function(e,t,i){var n=e.byteLength;if(t=t||0,i=i||n,e.slice)return e.slice(t,i);if(t<0&&(t+=n),i<0&&(i+=n),n<i&&(i=n),n<=t||i<=t||0===n)return new ArrayBuffer(0);for(var s=new Uint8Array(e),a=new Uint8Array(i-t),o=t,r=0;o<i;o++,r++)a[r]=s[o];return a.buffer}},function(e,t){function o(){}e.exports=function(e,i,n){function s(e,t){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(a=!0,i(e),i=n):0!==s.count||a||i(null,t)}var a=!1;return n=n||o,0===(s.count=e)?i():s}},function(e,f,m){var v;(function(i,h){!function(){function r(e){for(var t,i,n=[],s=0,a=e.length;s<a;)55296<=(t=e.charCodeAt(s++))&&t<=56319&&s<a?56320==(64512&(i=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),s--):n.push(t);return n}function n(e,t){if(55296<=e&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function s(e,t){return p(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return p(e);var i="";return 0==(4294965248&e)?i=p(e>>6&31|192):0==(4294901760&e)?(n(e,t)||(e=65533),i=p(e>>12&15|224),i+=s(e,6)):0==(4292870144&e)&&(i=p(e>>18&7|240),i+=s(e,12),i+=s(e,6)),i+p(63&e|128)}function a(){if(d<=u)throw Error("Invalid byte index");var e=255&c[u];if(u++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function o(e){var t,i;if(d<u)throw Error("Invalid byte index");if(u==d)return!1;if(t=255&c[u],u++,0==(128&t))return t;if(192==(224&t)){if(128<=(i=(31&t)<<6|a()))return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(i=(15&t)<<12|a()<<6|a()))return n(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(65536<=(i=(7&t)<<18|a()<<12|a()<<6|a())&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}void 0===f||_typeof2(f);var e=("object"==(void 0===i?"undefined":_typeof2(i))&&i&&i.exports,"object"==(void 0===h?"undefined":_typeof2(h))&&h);e.global!==e&&e.window;var c,d,u,p=String.fromCharCode,t={version:"2.1.2",encode:function(e,t){for(var i=!1!==(t=t||{}).strict,n=r(e),s=n.length,a=-1,o="";++a<s;)o+=l(n[a],i);return o},decode:function(e,t){var i=!1!==(t=t||{}).strict;c=r(e),d=c.length,u=0;for(var n,s=[];!1!==(n=o(i));)s.push(n);return function(e){for(var t,i=e.length,n=-1,s="";++n<i;)65535<(t=e[n])&&(s+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=p(t);return s}(s)}};void 0===(v=function(){return t}.call(f,m,f,i))||(i.exports=v)}()}).call(f,m(27)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(256),e=0;e<a.length;e++)u[a.charCodeAt(e)]=e;t.encode=function(e){var t,i=new Uint8Array(e),n=i.length,s="";for(t=0;t<n;t+=3)s+=a[i[t]>>2],s+=a[(3&i[t])<<4|i[t+1]>>4],s+=a[(15&i[t+1])<<2|i[t+2]>>6],s+=a[63&i[t+2]];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,i,n,s,a,o=.75*e.length,r=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),d=new Uint8Array(c);for(t=0;t<r;t+=4)i=u[e.charCodeAt(t)],n=u[e.charCodeAt(t+1)],s=u[e.charCodeAt(t+2)],a=u[e.charCodeAt(t+3)],d[l++]=i<<2|n>>4,d[l++]=(15&n)<<4|s>>2,d[l++]=(3&s)<<6|63&a;return c}}()},function(l,e){(function(e){function s(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var s=new Uint8Array(i.byteLength);s.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=s.buffer}e[t]=n}}}function t(e,t){t=t||{};var i=new a;s(e);for(var n=0;n<e.length;n++)i.append(e[n]);return t.type?i.getBlob(t.type):i.getBlob()}function i(e,t){return s(e),new Blob(e,t||{})}var a=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),r=a&&a.prototype.append&&a.prototype.getBlob;l.exports=n?o?e.Blob:i:r?t:void 0}).call(e,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},t.decode=function(e){for(var t={},i=e.split("&"),n=0,s=i.length;n<s;n++){var a=i[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,t){e.exports=function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){"use strict";function i(e){for(var t="";t=a[e%o]+t,0<(e=Math.floor(e/o)););return t}function n(){var e=i(+new Date);return e!==s?(l=0,s=e):e+"."+i(l++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,r={},l=0,c=0;c<o;c++)r[a[c]]=c;n.encode=i,n.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*o+r[e.charAt(c)];return t},e.exports=n},function(o,e,r){(function(i){function n(){}function e(e){s.call(this,e),this.query=this.query||{},a||(i.___eio||(i.___eio=[]),a=i.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var s=r(19),t=r(31);o.exports=e;var a,c=/\n/g,d=/\\n/g;t(e,s),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},e.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},e.prototype.doWrite=function(e,t){function i(){n(),t()}function n(){if(s.iframe)try{s.form.removeChild(s.iframe)}catch(e){s.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+s.iframeId+'">';a=document.createElement(e)}catch(e){(a=document.createElement("iframe")).name=s.iframeId,a.src="javascript:0"}a.id=s.iframeId,s.form.appendChild(a),s.iframe=a}var s=this;if(!this.form){var a,o=document.createElement("form"),r=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=l,o.method="POST",o.setAttribute("accept-charset","utf-8"),r.name="d",o.appendChild(r),document.body.appendChild(o),this.form=o,this.area=r}this.form.action=this.uri(),n(),e=e.replace(d,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===s.iframe.readyState&&i()}:this.iframe.onload=i}}).call(e,function(){return this}())},function(u,e,p){(function(a){function e(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=t),i.call(this,e)}var t,i=p(20),o=p(21),n=p(30),s=p(31),r=p(32),l=p(3)("engine.io-client:websocket"),c=a.WebSocket||a.MozWebSocket;if("undefined"==typeof window)try{t=p(35)}catch(e){}var d=c;d||"undefined"!=typeof window||(d=t),s(u.exports=e,i),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new d(e,t):new d(e):new d(e,t,i)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},e.prototype.write=function(e){var n=this;this.writable=!1;for(var s=e.length,t=0,i=s;t<i;t++)!function(i){o.encodePacket(i,n.supportsBinary,function(e){if(!n.usingBrowserWebSocket){var t={};if(i.options&&(t.compress=i.options.compress),n.perMessageDeflate)("string"==typeof e?a.Buffer.byteLength(e):e.length)<n.perMessageDeflate.threshold&&(t.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(e):n.ws.send(e,t)}catch(e){l("websocket closed before onclose event")}--s||(n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0))})}(e[t])},e.prototype.onClose=function(){i.prototype.onClose.call(this)},e.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},e.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"==t&&443!==Number(this.port)||"ws"==t&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=r()),this.supportsBinary||(e.b64=1),(e=n.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e},e.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===e.prototype.name)}}).call(e,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,t,i){"use strict";function n(e,t,i){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}var s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},a=i(7),o=i(8),r=i(38),l=i(39),c=i(40),d=i(3)("socket.io-client:socket"),u=i(30),p=i(23);e.exports=n;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=o.prototype.emit;o(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",c(this,"onopen")),l(e,"packet",c(this,"onpacket")),l(e,"close",c(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},n.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(h.hasOwnProperty(e))return f.apply(this,arguments),this;var t=r(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:p(t))?a.BINARY_EVENT:a.EVENT,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(d("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){if(d("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===s(this.query)?u.encode(this.query):this.query;d("sending connect packet with query %s",e),this.packet({type:a.CONNECT,query:e})}else this.packet({type:a.CONNECT})},n.prototype.onclose=function(e){d("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},n.prototype.onpacket=function(e){var t=e.nsp===this.nsp,i=e.type===a.ERROR&&"/"===e.nsp;if(t||i)switch(e.type){case a.CONNECT:this.onconnect();break;case a.EVENT:case a.BINARY_EVENT:this.onevent(e);break;case a.ACK:case a.BINARY_ACK:this.onack(e);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];d("emitting event %j",t),null!=e.id&&(d("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(t){var i=this,n=!1;return function(){if(!n){n=!0;var e=r(arguments);d("sending ack %j",e),i.packet({type:p(e)?a.BINARY_ACK:a.ACK,id:t,data:e})}}},n.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(d("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):d("bad ack %s",e.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){d("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(d("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(e){return this.flags.compress=e,this},n.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){for(var i=[],n=(t=t||0)||0;n<e.length;n++)i[n-t]=e[n];return i}},function(e,t){"use strict";e.exports=function(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},function(e,t){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=i).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}}],i.c=s,i.p="",i(0);function i(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var n,s});var SortableTable={data:function(){return{isSortable:!1,draggingRow:null,draggingRowIndex:null}},methods:{rowDragStart:function(e){$mx("html").addClass("is-dragging"),this.draggingRow=e.row,this.draggingRowIndex=e.index,e.event.dataTransfer.effectAllowed="copy"},rowDrop:function(e){var t=this;e.event.target.closest("tr").classList.remove("is-selected");var i=this.draggingRowIndex,n=e.index;if(i!=n){var s=this.fields,a=s[n],o=s.splice(i,1)[0];s.splice(n,0,o),this.fields=[],this.$nextTick(function(){t.fields=s,t.onReSort(i,n,o,a)})}$mx("html").removeClass("is-dragging")},rowDragOver:function(e){e.event.dataTransfer.dropEffect="copy",e.event.target.closest("tr").classList.add("is-selected"),e.event.preventDefault()},rowDragLeave:function(e){e.event.target.closest("tr").classList.remove("is-selected"),e.event.preventDefault()}}};!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}(function(){return function a(o,r,l){function c(i,e){if(!r[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=r[i]={exports:{}};o[i][0].call(s.exports,function(e){var t=o[i][1][e];return c(t||e)},s,s.exports,a,o,r,l)}return r[i].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,i){var o=e("./closest");t.exports=function(e,t,i,n,s){var a=function(t,i,e,n){return function(e){e.delegateTarget=o(e.target,i),e.delegateTarget&&n.call(t,e)}}.apply(this,arguments);return e.addEventListener(i,a,s),{destroy:function(){e.removeEventListener(i,a,s)}}}},{"./closest":1}],3:[function(e,t,i){i.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},i.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||i.node(e[0]))},i.string=function(e){return"string"==typeof e||e instanceof String},i.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,i){var n=e("./is"),s=e("delegate");t.exports=function(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,i){return e.addEventListener(t,i),{destroy:function(){e.removeEventListener(t,i)}}}(e,t,i);if(n.nodeList(e))return function(e,t,i){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,i)})}}}(e,t,i);if(n.string(e))return function(e,t,i){return s(document.body,e,t,i)}(e,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,i){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),s=document.createRange();s.selectNodeContents(e),n.removeAllRanges(),n.addRange(s),t=n.toString()}return t}},{}],6:[function(e,t,i){function n(){}n.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function s(){n.off(e,s),t.apply(i,arguments)}return s._=t,this.on(e,s,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],s=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&s.push(n[a]);return s.length?i[e]=s:delete i[e],this}},t.exports=n},{}],7:[function(n,s,a){!function(e,t){if(0,void 0!==a)t(s,n("select"));else{var i={exports:{}};t(i,e.select),e.clipboardAction=i.exports}}(this,function(e,t){"use strict";var i,n=(i=t)&&i.__esModule?i:{default:i};var s="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(r,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(e){var t=0<arguments.length&&void 0!==e?e:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":s(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),r);function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.resolveOptions(e),this.initSelection()}e.exports=o})},{select:5}],8:[function(n,s,a){!function(e,t){if(0,void 0!==a)t(s,n("./clipboard-action"),n("tiny-emitter"),n("good-listener"));else{var i={exports:{}};t(i,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=i.exports}}(this,function(e,t,i,n){"use strict";var s=r(t),a=r(i),o=r(n);function r(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};var c=function(e,t,i){return t&&d(e.prototype,t),i&&d(e,i),e};function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_typeof2(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.default),c(p,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===l(t.container)?t.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return h("action",e)}},{key:"defaultTarget",value:function(e){var t=h("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return h("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(e){var t=0<arguments.length&&void 0!==e?e:["copy","cut"],i="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return i.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),p);function p(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_typeof2(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return i.resolveOptions(t),i.listenClick(e),i}function h(e,t){var i="data-clipboard-"+e;if(t.hasAttribute(i))return t.getAttribute(i)}e.exports=u})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),window.modules_loaded={},window.components_hooks={},window.modules_hooks={};var App={modules:{},endpoints:{},components:{},defineModuleLazy:[],data:[],loadModule:function(e){window.modules_loaded[e]=!0;var t=document.createElement("link");t.href="/s/css/vue."+e+".css"+scriptsVersion,t.type="text/css",t.rel="stylesheet",document.body.appendChild(t);var i=document.createElement("script");i.src="/s/js/vue."+e+".js"+scriptsVersion,i.async=!0,i.onload=function(){window.$vue.$forceUpdate()},document.body.appendChild(i)},loadComponent:function(s){var a=this;return new Promise(function(e,t){var i=/^vue\-([^-]+)/gi.exec(s);if(null!=Vue.options.components[s])e(Vue.options.components[s]);else if(null==Vue.options.components[s]&&Vue.component(s,function(e){window.components_hooks[s]=e}),i){window.components_hooks[s]=e;var n=i[1];null==window.modules_loaded[n]&&a.loadModule(n)}else t()})},defineComponent:function(e,t,i){null==this.components[e]&&(this.components[e]={}),this.components[e][t]=[t,i],window.modules_loaded[e]=!0,Vue.component(t,i)},defineModuleComplete:function(){var t=this;_.each(this.defineModuleLazy,function(e){t.defineModule(e[0],e[1],!0)}),this.defineModuleLazy=[]},defineModule:function(s,a,e){var o=this;if(null!=window.$vue||null!=e)if("index"==s||"frontend"==s){!function e(t){_.each(t,function(i){i.pathToRegexpOptions={strict:!0},null!=window.account&&window.account.custom_domain&&-1!=["index","inner"].indexOf(i.name)&&(i.path="/"),"string"==typeof i.component?(i.componentName=i.component,i.component=function(e,t){App.loadComponent(i.componentName).then(e,t)}):null==i.component&&(i.component={template:"<router-view></router-view>"}),null!=i.children&&i.children.length&&e(i.children)})}(a),router_options.routes=a,(router=new VueRouter(router_options)).getRoute=function(e){return function e(t,i){if(r=_.find(t,i),r)return r;for(var n=0;n<t.length;n++)if(null!=t[n].children&&(r=e(t[n].children,i)),r)return r;return null}(this.options.routes,e)},router.beforeEach(function(e,t,i){window.$events.fire("beforeNavigate",t),i()}),router.afterEach(function(e){window.$events.fire("navigate",e)}),router.beforeResolve(function(e,t,i){var n=/^\/[0-9]+\/([^\/]+)\//gi.exec(e.path);if(n&&n.length){var s=n[1];null==window.modules_loaded[s]?(window.components_hooks[s]=function(){i(),router.replace(router.currentRoute)},o.loadModule(s)):i()}else i()}),window.vue_options.router=router}else $mx.get("/api/permissions/get.json",{module:s}).then(function(e){var t=e.data.response.endpoints[s];o.endpoints[s]=t;if(!function e(t){_.each(t,function(i){i.pathToRegexpOptions={strict:!0},null==i.meta&&(i.meta={}),i.meta.module=s,"string"==typeof i.component?(i.componentName=i.component,i.component=function(e,t){App.loadComponent(i.componentName).then(e,t)}):null==i.component&&(i.component={template:"<router-view></router-view>"}),null!=i.children&&(i.children=_.filter(i.children,function(e){if(null==e.endpoint)return!0;var t=e.endpoint.split("/"),i=o.endpoints,n=!0;for(var s in t){if(null==i[t[s]]){n=!1;break}i=i[t[s]]}return n}),null!=i.children&&i.children.length&&e(i.children)),null==router&&base&&(i.path=base+i.path.substring(1))})}(a),o.modules[s]=a,_.each(o.components[s],function(e){null!=window.components_hooks[e[0]]&&window.components_hooks[e[0]](e[1])}),delete o.components[s],null!=router&&a.length){var i=router.getRoute({name:s});i&&(i.children=a),router_options.routes=router.options.routes;var n=new VueRouter(router_options);router.matcher=n.matcher}null!=window.components_hooks[s]&&window.components_hooks[s](a)});else this.defineModuleLazy.push([s,a])},defineLanguage:function(e,t,i){i18n.phrases[e]=i,i18n.first_day_week[e]=t,window.$vue&&window.$vue.$forceUpdate()}};window.$app=App;var i18n={locale:"",formats:{},phrases:{},first_day_week:{ru:1},init:function(e){null!=e.locales&&(window.locales=e.locales),this.locale=e.current,this.formats=e.formats,null==this.phrases[this.locale]&&"ru"!=this.locale&&(this.phrases[this.locale]=[],$mx.lazy("/s/js/locales."+this.locale+".js"+scriptsVersion))},extend:function(e){this.phrases[this.locale]=Object.assign(this.phrases[this.locale],e)},install:function(n){function e(e){return"string"==typeof(e=p.phrases[p.locale]&&p.phrases[p.locale][e]||e)?e.split("|")[0]:e}function t(e,t){var i=p.phrases[p.locale]&&p.phrases[p.locale][e]||e;if((i=i.split("|")).length){if(1==i.length)return t+" "+i[0];if(0==(t=Math.abs(t)))return i[2];return t+" "+i[4<t%100&&t%100<20?2:[2,0,1,1,1,2][Math.min(t%10,5)]]}return t+" "+e}function i(e){var t=n.prototype.$account.number;return _.isNumber(e)?window.number_format(e,{decimal:t.decimal,thousands:t.thousands,precision:0}):e}function s(e){return _.isNumber(e)?window.number_format(e,n.prototype.$account.number):e}function a(e,t){return null==t&&(t=n.prototype.$account.currency.title),_.isNumber(e)?n.prototype.$account.currency.format.replace("%p",window.number_format(e,n.prototype.$account.currency)).replace("%c",t).replace(/ /g," "):e}function o(e){return e?date_format(p.formats.datetime,Date.parse(e)/1e3|0):e}function r(e){return e?date_format(p.formats.date,Date.parse(e)/1e3|0):e}function l(){var i=arguments;return i[0].replace(/{(\d+)}/g,function(e,t){return void 0!==i[t]?i[t]:e})}function c(e){return"string"==typeof e?e.replace(/\n/g,"<br>"):e}function d(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,t){return void 0===e||null==e||""===e?t:e}var p=this;n.filter("gettext",e),n.prototype.$gettext=e,n.filter("plural",t),n.prototype.$plural=t,n.filter("number",i),n.filter("weight",function(e,t){var i=n.prototype.$account.weight;return(_.isNumber(e)?window.number_format(e,i):e)+(t?" "+i.unit_title:"")}),n.prototype.$number=i,n.filter("decimal",s),n.prototype.$decimal=s,n.filter("currency",a),n.prototype.$currency=a,n.filter("datetime",o),n.prototype.$datetime=o,n.filter("date",r),n.prototype.$date=r,n.filter("nvl",u),n.prototype.$nvl=u,n.filter("sprintf",function(e,t){return t.replace("%s",e)}),n.filter("replace",function(){var e=arguments;return e[0].replace(e[1],e[2])}),n.filter("format",l),n.filter("nl2br",c),n.filter("escape",d),n.prototype.$nl2br=c,n.prototype.$format=l,n.prototype.$escape=d,n.prototype.$clone=function(e){return JSON.parse(JSON.stringify(e))},n.filter("join",function(e,t){return e?e.join(t):e}),n.prototype.$getDaysNames=function(){return _.map(["ВС","ПН","ВТ","СР","ЧТ","ПТ","СБ"],n.prototype.$gettext)},n.prototype.$getMonthsNames=function(){return _.map(["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],n.prototype.$gettext)},n.prototype.$getFirstDayWeek=function(){return p.first_day_week[p.locale]}}};window.i18n=i18n,Vue.use(i18n),Vue.use(Buefy.default,{defaultIconPack:"fal",defaultDateFormatter:function(e){return date_format(window.i18n.formats.date,Date.parse(e)/1e3|0)}}),Vue.prototype.$http=$mx;var path=document.location.pathname.split("/");window.base_path_prefix=/^[a-z]{2}(\-[a-z]{2})?$/.test(path[1])?"/"+path[1]:"",window.base_path=window.base_path_prefix+"/profile/";var router=null,router_options={mode:"history",routes:[],base:window.base_path,linkExactActiveClass:"active",linkActiveClass:"active"};function checkHeightCSS(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}Vue.component("sortable-list",{mixins:[VueSlicksort.ContainerMixin],template:"<div><slot /></div>"}),Vue.component("sortable-item",{mixins:[VueSlicksort.ElementMixin],props:["item"],template:"<div><slot /></div>"}),Vue.component("sortable-handle",{mixins:[VueSlicksort.ElementMixin]}),Vue.directive("sortable-handle",VueSlicksort.HandleDirective),function(e,t){"use strict";t.ListModel={data:function(){return{fields:[],current:null,next:null,total:0,page:1,perPage:30,pages:[],checkedRows:[],sortField:"",sortOrder:""}},methods:{clearPages:function(){this.next=null,this.current=null,this.pages=[],this.page=1},refresh:function(){this.clearPages(),this.fetchData()},onSort:function(e,t){this.sortField=e,this.sortOrder=t,this.clearPages(),this.fetchData(!0)},onPageChange:function(e){this.page=e,this.fetchData(!0)},cachePage:function(e,t){e.current=this.next,this.pages[this.page]=e,null!=t?t(e):this.fields=e.fields,this.current=e.current,this.next=e.next,this.total=this.perPage*this.page+(this.next?1:0)},checkCache:function(e){if(null==this.pages[this.page])return!1;var t=this.pages[this.page];return null!=e?e(t):this.fields=t.fields,this.current=t.current,this.next=t.next,!0},merge:function(t,i,e,n){var s=this.checkIds(t,i,e);s.length&&n(s,function(e){return _.map(t,function(t){return Object.assign(t,_.find(e,function(e){return e[i]==t[i]}))})})},checkIds:function(e,t,i){return i?_.values(_.pickBy(_.map(e,function(e){return-1!=i.indexOf(e[t])?e[t]:null}),_.identity)):_.map(e,t)},onCheckAll:function(e,i){var n=e.target.closest(".checkbox").querySelectorAll("input")[0],t=n.closest(".table");_.each(t.querySelectorAll('td [type="checkbox"]'),function(e){if(e=parseInt(e.value),n.checked){var t=i.indexOf(e);-1!=t&&i.splice(t,1)}else-1==i.indexOf(e)&&i.push(e)})}}},t.FormModel={data:function(){return{values:{},variants:{},errors:{}}},methods:{checkResult:function(e){if(this.errors=[],"fail"==e.result){null!=e.errors&&(this.errors=e.errors);var i=0,n=0;_.each(e.errors,function(e,t){(_.isNumber(t)||t.match(/^[0-9]+$/))&&"object"!=(void 0===e?"undefined":_typeof2(e))?(Vue.prototype.$buefy.toast.open({duration:5e3,message:e,type:"is-danger",position:"is-top",queue:!1}),n++):i++}),i&&!n&&null==e.message&&(e.message=this.$gettext("В форме присутствуют ошибки"))}null!=e.message&&e.message&&Vue.prototype.$buefy.toast.open({duration:5e3,message:e.message,type:"fail"==e.result?"is-danger":"is-success",position:"is-top",queue:!1})}}};var i={install:function(d){d.prototype.$api={queues:{},get:function(e,t,i,n){var s=3<arguments.length&&void 0!==n?n:null;return this.process("get",i,e,t,s)},post:function(e,t,i,n){var s=3<arguments.length&&void 0!==n?n:null;return this.process("post",i,e,t,s)},checkResult:function(e,t,i){var n=2<arguments.length&&void 0!==i?i:null;if(null!=t&&null!=t.checkResult&&t.checkResult(e),n&&(this.queues[n].shift(),this.queues[n].length)){var s=this.queues[n][0];this.process(s[0],s[1],s[2],s[3],n,!0).then(s[4],s[5])}},process:function(n,s,a,o,e,t){var r=this,l=4<arguments.length&&void 0!==e?e:null,i=5<arguments.length&&void 0!==t&&t;if(l){if(null!=this.queues[l]&&this.queues[l].length&&!i)return new Promise(function(e,t){r.queues[l].push([n,s,a,o,e,t])});null==this.queues[l]&&(this.queues[l]=[]),i||this.queues[l].push(null)}var c=window.base_path_prefix+"/api/";return null==o&&(o={}),null!=d.prototype.$account.profile_id&&(o._uid=d.prototype.$account.profile_id),Array.isArray(a)?(o._endpoints=a,a="batch",n="post",new Promise(function(i,e){$mx.request({url:c+a+".json",method:n,json:o}).then(function(e){if("fail"==e.data.result&&null!=e.data.redirect)return router.replace(e.data.redirect);var t={result:"success",response:{}};_.each(e.data.batch,function(e){t.response=_.merge(t.response,e.response,!0)}),r.checkResult(t,s,l),i(t)}).catch(e)})):new Promise(function(t,e){$mx.request({url:c+a+".json",method:n,json:o}).then(function(e){if("fail"==e.data.result&&null!=e.data.redirect)return router.replace(e.data.redirect);r.checkResult(e.data,s,l),t(e.data)}).catch(e)})}};var e=new d({data:{account:{}}});d.prototype.$account=e.account,d.prototype.$auth={getMenu:function(e){return App.modules[e]},prepareMenu:function(e){var t=this;return _.filter(e,function(e){return null!=e.meta&&null!=e.meta.tariff&&-1==d.prototype.$account.platform.tariffs.indexOf(e.meta.tariff)?null:null!=e.meta&&null!=e.meta.access&&(e.meta.access&d.prototype.$account.access)!=e.meta.access?null:(null==e.meta||null==e.meta.feature||t.hasFeature(e.meta.feature))&&(null==e.meta||null==e.meta.endpoint||d.prototype.$auth.isAllowEndpoint(e.meta.endpoint))?e:null})},isAllowEndpoint:function(e){e=e.split("/");for(var t=window.$app.endpoints,i=0;i<e.length-1;i++){if(null==t[e[i]])return!1;t=t[e[i]]}return-1!=Object.values(t).indexOf(e[e.length-1])},isAllowTariff:function(e){var t=["basic","plus","pro","business"];return t.indexOf(d.prototype.$account.tariff)>=t.indexOf(e)},hasFeature:function(e){var t=!0;return _.each(e.split(","),function(e){t&=-1!=d.prototype.$account.features.indexOf(e)}),t},refresh:function(e,t,i){function n(e,t){e.currency=Object.assign(_.clone(e.number),e.currency),e.weight=Object.assign(_.clone(e.number),e.weight),_.each(e,function(e,t){d.prototype.$set(d.prototype.$account,t,e)}),d.prototype.$auth.refreshStyles(function(){d.prototype.$forceUpdate(),window.$events.fire("account:refresh",e),t&&t()}),d.prototype.$io.auth()}e?n(e,t):d.prototype.$api.get("account/get").then(function(e){"success"==e.result?n(e.response,t):(i(),window.$events.fire("account:logout"))})},changeProfile:function(e,t){d.prototype.$api.get("account/change",{profile_id:e}).then(function(e){"success"==e.result&&(d.prototype.$auth.refresh(e.response,function(){router.replace({name:"pages",params:{page_id:e.response.page_id}})}),null!=t&&t(),d.prototype.$auth.closeMenu())})},closeMenu:function(){window.$events.fire("menu:close")},refreshStyles:function(e){d.prototype.$account.styles=buildStyles(d.prototype.$account.theme,"design"),d.prototype.$events.fire("theme:refresh"),null!=e&&e()}},d.prototype.$alert=function(i,n){return new Promise(function(e,t){d.prototype.$buefy.dialog.alert({message:i,confirmText:d.prototype.$gettext("Ok"),type:n,hasIcon:!0,onConfirm:e})})},d.prototype.$confirm=function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"is-primary",s=arguments[2];return s=_.merge({yes:"Ok",no:"Отмена"},s),new Promise(function(e,t){d.prototype.$buefy.dialog.confirm({message:i,confirmText:d.prototype.$gettext(s.yes),cancelText:d.prototype.$gettext(s.no),type:n,hasIcon:!0,onConfirm:e})})},d.prototype.$form=function(e,t,i){window.$app.loadComponent(e).then(function(){d.prototype.$buefy.modal.open({parent:i,component:d.options.components[e],props:t,width:"auto",canCancel:["outside"],hasModalCard:!0})})},d.prototype.$events=window.$events}},n={install:function(i){var e=io();e.connect(),e.auth=function(){e.emit("auth",Cookies.get())},e.on("connect",function(){e.auth()}),(i.prototype.$io=e).on("events:account.nickname:changed",function(e){i.prototype.$account.nickname=e.nickname}),e.on("events:account:refresh",function(e){i.prototype.$auth.refresh()}),e.on("events:account:update",function(e){_.each(e,function(e,t){i.prototype.$set(i.prototype.$account,t,e)})})}};Vue.use(n),Vue.use(i),null!=vue_components&&_.each(vue_components,function(e,t){Vue.component(t,e)}),null!=t.vue_modules&&_.each(vue_modules,function(e,t){window.defineModule(t,e)}),Vue.config.ignoredElements=["mx-item"],t.vue_options={}}(document,window),window.addEventListener("resize",checkHeightCSS),checkHeightCSS(),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.postscribe=t():e.postscribe=t()}(this,function(){return s={},i.m=n=[function(e,t,i){"use strict";var n,s=i(1),a=(n=s)&&n.__esModule?n:{default:n};e.exports=a.default},function(e,t,i){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=f;var n,s=i(2),l=(n=s)&&n.__esModule?n:{default:n},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i(4));function c(){}var o={afterAsync:c,afterDequeue:c,afterStreamStart:c,afterWrite:c,autoFix:!0,beforeEnqueue:c,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:c,error:function(e){throw new Error(e.msg)},releaseAsync:!1},d=0,u=[],p=null;function h(){var e=u.shift();if(e){var t=a.last(e);t.afterDequeue(),e.stream=function(e,t,n){(p=new l.default(e,n)).id=d++,p.name=n.name||p.id,f.streams[p.name]=p;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};function a(e){e=n.beforeWrite(e),p.write(e),n.afterWrite(e)}r(i,{close:c,open:c,write:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return a(t.join("")+"\n")}});var o=p.win.onerror||c;return p.win.onerror=function(e,t,i){n.error({msg:e+" - "+t+": "+i}),o.apply(p.win,[e,t,i])},p.write(t,function(){r(i,s),p.win.onerror=o,n.done(),p=null,h()}),p}.apply(void 0,e),t.afterStreamStart()}}function f(e,t,i){if(a.isFunction(i))i={done:i};else if("clear"===i)return u=[],p=null,void(d=0);i=a.defaults(i,o);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,i];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=c}},i.beforeEnqueue(n),u.push(n),p||h(),e.postscribe}r(f,{streams:{},queue:u,WriteStream:l.default})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(3),a=(n=s)&&n.__esModule?n:{default:n},o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i(4));var d="data-ps-";function l(e,t){var i=d+t,n=e.getAttribute(i);return o.existy(n)?String(n):n}function c(e,t,i){var n=2<arguments.length&&void 0!==i?i:null,s=d+t;o.existy(n)&&""!==n?e.setAttribute(s,n):e.removeAttribute(s)}var u=(p.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();o.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},p.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},p.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,i=void 0,n=void 0,s=[];(t=this.parser.readToken())&&!(i=o.isScript(t))&&!(n=o.isStyle(t));)(t=this.options.beforeWriteToken(t))&&s.push(t);0<s.length&&this._writeStaticTokens(s),i&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},p.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this._walkChunk(),t):null},p.prototype._buildChunk=function(e){for(var t=this.actuals.length,i=[],n=[],s=[],a=e.length,o=0;o<a;o++){var r=e[o],l=r.toString();if(i.push(l),r.attrs){if(!/^noscript$/i.test(r.tagName)){var c=t++;n.push(l.replace(/(\/?>)/," "+d+"id="+c+" $1")),"ps-script"!==r.attrs.id&&"ps-style"!==r.attrs.id&&s.push("atomicTag"===r.type?"":"<"+r.tagName+" "+d+"proxyof="+c+(r.unary?" />":">"))}}else n.push(l),s.push("endTag"===r.type?l:"")}return{tokens:e,raw:i.join(""),actual:n.join(""),proxy:s.join("")}},p.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];o.existy(e=t.shift());){var i=1===e.nodeType;if(!i||!l(e,"proxyof")){i&&c(this.actuals[l(e,"id")]=e,"id");var n=e.parentNode&&l(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,o.toArray(e.childNodes))}},p.prototype._handleScriptToken=function(e){var t=this,i=this.parser.clear();i&&this.writeQueue.unshift(i),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},p.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},p.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,"ps-style"),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},p.prototype._buildStyle=function(e){var i=this.doc.createElement(e.tagName);return i.setAttribute("type",e.type),o.eachKey(e.attrs,function(e,t){i.setAttribute(e,t)}),i},p.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var i=this.doc.getElementById(t);i&&i.parentNode.replaceChild(e,i)},p.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},p.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},p.prototype._writeScriptToken=function(e,t){var i=this._buildScript(e),n=this._shouldRelease(i),s=this.options.afterAsync;e.src&&(i.src=e.src,this._scriptLoadHandler(i,n?s:function(){t(),s()}));try{this._insertCursor(i,"ps-script"),i.src&&!n||t()}catch(e){this.options.error(e),t()}},p.prototype._buildScript=function(e){var i=this.doc.createElement(e.tagName);return o.eachKey(e.attrs,function(e,t){i.setAttribute(e,t)}),e.content&&(i.text=e.content),i},p.prototype._scriptLoadHandler=function(t,i){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}var s=this.options.error;function e(){n(),null!=i&&i(),i=null}function a(e){n(),s(e),null!=i&&i(),i=null}function o(e,t){var i=e["on"+t];null!=i&&(e["_on"+t]=i)}o(t,"load"),o(t,"error"),r(t,{onload:function(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){a({msg:"onload handler failed "+e+" @ "+t.src})}e()},onerror:function(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void a({msg:"onerror handler failed "+e+" @ "+t.src})}a({msg:"remote script failed "+t.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&e()}})},p.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},p);function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new a.default("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],c(this.proxyRoot,"proxyof",0)}t.default=u},function(e,t,i){var n;n=function(){return s={},i.m=n=[function(e,t,i){"use strict";var n,s=i(1),a=(n=s)&&n.__esModule?n:{default:n};e.exports=a.default},function(e,t,i){"use strict";t.__esModule=!0;var n,o=c(i(2)),s=c(i(3)),a=i(6),r=(n=a)&&n.__esModule?n:{default:n},l=i(5);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=(p.prototype.append=function(e){this.stream+=e},p.prototype.prepend=function(e){this.stream=e+this.stream},p.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},p.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},p.prototype.peekToken=function(){return this._peekToken()},p.prototype.readToken=function(){return this._readToken()},p.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},p.prototype.clear=function(){var e=this.stream;return this.stream="",e},p.prototype.rest=function(){return this.stream},p);function p(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),this.stream=t;var n=!1,s={};for(var a in o)o.hasOwnProperty(a)&&(i.autoFix&&(s[a+"Fix"]=!0),n=n||s[a+"Fix"]);n?(this._readToken=(0,r.default)(this,s,function(){return e._readTokenImpl()}),this._peekToken=(0,r.default)(this,s,function(){return e._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}for(var h in(t.default=u).tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=(0,l.escapeQuotes)(e[i],null));return t},u.supports=o)o.hasOwnProperty(h)&&(u.browserHasFlaw=u.browserHasFlaw||!o[h]&&h)},function(e,t){"use strict";var i=!(t.__esModule=!0),n=!1,s=window.document.createElement("div");try{var a="<P><I></P></I>";s.innerHTML=a,t.tagSoup=i=s.innerHTML!==a}catch(e){t.tagSoup=i=!1}try{s.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===s.childNodes.length}catch(e){t.selfClose=n=!1}s=null,t.tagSoup=i,t.selfClose=n},function(e,t,i){"use strict";t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};t.comment=function(e){var t=e.indexOf("--\x3e");if(0<=t)return new r.CommentToken(e.substr(4,t-1),t+3)},t.chars=function(e){var t=e.indexOf("<");return new r.CharsToken(0<=t?t:e.length)},t.startTag=s,t.atomicTag=function(e){var t=s(e);if(t){var i=e.slice(t.length);if(i.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=i.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new r.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}},t.endTag=function(e){var t=e.match(l.endTag);if(t)return new r.EndTagToken(t[1],t[0].length)};var r=i(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i};function s(e){var i,n,s;if(-1!==e.indexOf(">")){var t=e.match(l.startTag);if(t){var a=(i={},n={},s=t[2],t[2].replace(l.attr,function(e,t){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(i[arguments[5]]="",n[arguments[5]]=!0):i[t]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(t)&&t||"":i[t]="",s=s.replace(e,"")}),{v:new r.StartTagToken(t[1],t[0].length,i,n,!!t[3],s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":o(a)))return a.v}}}},function(e,t,i){"use strict";t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var o=i(5);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Token=function e(t,i){r(this,e),this.type=t,this.length=i,this.text=""},t.CommentToken=(n.prototype.toString=function(){return"\x3c!--"+this.content},n);function n(e,t){r(this,n),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}t.CharsToken=(s.prototype.toString=function(){return this.text},s);function s(e){r(this,s),this.type="chars",this.length=e,this.text=""}var a=t.TagToken=(l.formatTag=function(e,t){var i=1<arguments.length&&void 0!==t?t:null,n="<"+e.tagName;for(var s in e.attrs)if(e.attrs.hasOwnProperty(s)){n+=" "+s;var a=e.attrs[s];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[s]||(n+='="'+(0,o.escapeQuotes)(a)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=i&&(n+=i+"</"+e.tagName+">"),n},l);function l(e,t,i,n,s){r(this,l),this.type=e,this.length=i,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=s,this.unary=!1,this.html5Unary=!1}t.StartTagToken=(c.prototype.toString=function(){return a.formatTag(this)},c);function c(e,t,i,n,s,a){r(this,c),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=i,this.booleanAttrs=n,this.html5Unary=!1,this.unary=s,this.rest=a}t.AtomicTagToken=(d.prototype.toString=function(){return a.formatTag(this,this.content)},d);function d(e,t,i,n,s){r(this,d),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=i,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=s}t.EndTagToken=(u.prototype.toString=function(){return"</"+this.tagName+">"},u);function u(e,t){r(this,u),this.type="endTag",this.length=t,this.text="",this.tagName=e}},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):t}},function(e,t){"use strict";t.__esModule=!0,t.default=function(i,n,t){var s=function(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,i=0;t=this[i];i++)if(t.tagName===e)return!0;return!1},e}(),a={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&s.lastTagNameEq("TABLE")?(i.prepend("<TBODY>"),o()):n.selfCloseFix&&r.test(t)&&s.containsTagName(t)?s.lastTagNameEq(t)?c(i,s):(i.prepend("</"+e.tagName+">"),o()):e.unary||s.push(e)},endTag:function(e){s.last()?n.tagSoupFix&&!s.lastTagNameEq(e.tagName)?c(i,s):s.pop():n.tagSoupFix&&(t(),o())}};function o(){var e=function(e,t){var i=e.stream,n=l(t());return e.stream=i,n}(i,t);e&&a[e.type]&&a[e.type](e)}return function(){return o(),l(t())}};var i=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,r=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;function l(e){return e&&"startTag"===e.type&&(e.unary=i.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function c(e,t){var i=t.pop();e.prepend("</"+i.tagName+">")}}],i.c=s,i.p="",i(0);function i(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var n,s},e.exports=n()},function(e,t){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};function s(e){return null!=e}function a(e,t,i){var n=void 0,s=e&&e.length||0;for(n=0;n<s;n++)t.call(i,e[n],n)}function o(e,t,i){for(var n in e)e.hasOwnProperty(n)&&t.call(i,n,e[n])}function i(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e))&&!!~e.tagName.toLowerCase().indexOf(t)}t.existy=s,t.isFunction=function(e){return"function"==typeof e},t.each=a,t.eachKey=o,t.defaults=function(i,e){return i=i||{},o(e,function(e,t){s(i[e])||(i[e]=t)}),i},t.toArray=function(i){try{return Array.prototype.slice.call(i)}catch(e){var t=function(){var t=[];return a(i,function(e){t.push(e)}),{v:t}}();if("object"===(void 0===t?"undefined":n(t)))return t.v}},t.last=function(e){return e[e.length-1]},t.isTag=i,t.isScript=function(e){return i(e,"script")},t.isStyle=function(e){return i(e,"style")}}],i.c=s,i.p="",i(0);function i(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var n,s}),window.$app.defineComponent("component","vue-component-action-button",{data:function(){return{dropdown:""}},props:{classname:{type:String,default:"button is-default"},icon:{type:String,default:"fa fa-ellipsis-v"},title:{type:String,default:"Действие"},position:{type:String,default:"is-top-right"}},methods:{onAction:function(){var e=this;this.$emit("action",this.dropdown),Vue.nextTick(function(){e.dropdown=null})}},template:'<b-dropdown v-model="dropdown" @input="onAction" :position="position"> <button :class="classname" slot="trigger"><i :class="icon" class="has-mr-2"></i> {{title}}</button> <slot name="actions"></slot> </b-dropdown>'}),window.$app.defineComponent("component","vue-component-autocomplete-collections",{data:function(){return{isFetchingCollections:!1,autocompleteCollections:[]}},props:{value:String,disabled:{type:Boolean,default:!1},allowNew:{type:Boolean,default:!0},placeholder:{type:String}},watch:{value:function(){this.$emit("input",this.value)}},methods:{onAddingCollection:function(e){return!_.find(this.value,["collection_id",e.collection_id])},onAddedCollection:function(e){"string"==typeof e&&(this.value.pop(),this.value.push({collection_id:null,collection:e}))},asyncAutocompleteCollection:_.debounce(function(e){var t=this;""!=e.trim()?(this.isFetchingCollections=!0,this.$api.get("products/collections/search",{query:e}).then(function(e){t.autocompleteCollections=_.differenceWith(e.response.collections.search,t.value,function(e,t){return e.collection_id==t.collection_id}),t.isFetchingCollections=!1})):this.autocompleteCollections=[]},300)},template:'<b-taginput v-model="value" :data="autocompleteCollections" :before-adding="onAddingCollection" @add="onAddedCollection" :allow-new="allowNew" confirm-key-codes=\'[13]\' autocomplete field="collection" @typing="asyncAutocompleteCollection" :placeholder="placeholder" :disabled="disabled" :loading="isFetchingCollections" attached> <template slot-scope="props"> <strong>{{props.option.collection}}</strong> </template> <template slot="empty"> <div v-if="isFetchingCollections">{{\'Идет загрузка\'|gettext}}</div> <div v-else>{{\'Ничего не найдено\'|gettext}}</div> </template> </b-taginput>'}),window.$app.defineComponent("component","vue-component-autocomplete-products",{data:function(){return{isFetchingProducts:!1,autocompleteProducts:[]}},props:{value:String,disabled:{type:Boolean,default:!1},allowNew:{type:Boolean,default:!0},placeholder:{type:String}},watch:{value:function(){this.$emit("input",this.value)}},methods:{asyncAutocompleteProduct:_.debounce(function(e){var t=this;""!=e.trim()?(this.isFetchingProducts=!0,this.$api.get("products/search",{query:e}).then(function(e){t.autocompleteProducts=_.differenceWith(e.response.products.search,t.value,function(e,t){return e.product_id==t.product_id}),t.isFetchingProducts=!1})):this.autocompleteProducts=[]},500),onAddingProduct:function(e){return!_.find(this.value,["product_id",e.product_id])},onAddProduct:function(e){"string"==typeof e&&(this.value.pop(),this.value.push({product_id:null,product:e}))}},template:'<b-taginput v-model="value" :data="autocompleteProducts" :before-adding="onAddingProduct" @add="onAddProduct" :allow-new="allowNew" confirm-key-codes=\'[13]\' autocomplete field="product" @typing="asyncAutocompleteProduct" :placeholder="placeholder" :disabled="disabled" :loading="isFetchingProducts" attached> <template slot-scope="props"> <strong>{{props.option.product}}</strong> </template> <template slot="empty"> <div v-if="isFetchingProducts">{{\'Идет загрузка\'|gettext}}</div> <div v-else>{{\'Ничего не найдено\'|gettext}}</div> </template> </b-taginput>'}),window.$app.defineComponent("component","vue-component-background-editor",{props:{value:Object,disabled:Boolean},data:function(){return{background_types:{solid:this.$gettext("Сплошной цвет"),gradient:this.$gettext("Градиент")}}},methods:{checkBackgroundTile:function(e,t){var i=["0%","50%","100%"],n=this.value.position.split(" ");switch(this.value.repeat){case"repeat":return!0;case"repeat-x":return n[1]==i[e];case"repeat-y":return n[0]==i[t];case"no-repeat":return n[1]==i[e]&&n[0]==i[t]}},checkBackgroundWidthPosition:function(){return{"0%":"-60px","50%":"-38px","100%":"-16px"}[this.value.position.split(" ")[1]]}},template:'<div :class="{disabled: disabled}"> <div class="has-mb-2 link-styles-container"> <label class="form-control-static">{{\'Тип\'|gettext}}</label> <div class="select"> <select v-model="value.type" :disabled="disabled"> <option v-for="(v, i) in background_types" :value="i">{{v}}</option> </select> </div> </div> <div class="has-mb-2 link-styles-container"> <label class="form-control-static">{{\'Цвет\'|gettext}}</label> <div class="is-flex"> <vue-component-colorpicker v-model="value.color1" position-horizontal="left"></vue-component-colorpicker> <vue-component-colorpicker v-model="value.color2" class="has-ml-1" v-if="value.type == \'gradient\'" position-horizontal="left"></vue-component-colorpicker> </div> </div> <div class="has-mb-2 link-styles-container"> <label class="form-control-static" style="font-weight: bold">{{\'Картинка\'|gettext}}</label> <vue-component-pictures class="theme-picture" v-model="value.picture" :button-title="\'Загрузить\'|gettext" button-icon="fa fal fa-cloud-upload" updatable></vue-component-pictures> </div> <div v-if="value.picture"> <div class="has-mb-2 link-styles-container link-styles-container is-tablet-fullwidth" :class="{disabled: !value.picture}"> <label class="form-control-static">{{\'Размер\'|gettext}}</label> <div class="theme-background-size is-background-size"> <label :class="{in: value.size == \'width\'}" @click="value.size = \'width\'" :data-title="\'По ширине\'|gettext"> <div data-value="width"> <span :style="{visibility: ([\'repeat-y\', \'repeat\'].indexOf(value.repeat) != -1)?\'visible\':\'hidden\', \'margin-top\': checkBackgroundWidthPosition()}"></span> <span></span> <span :style="{visibility: ([\'repeat-y\', \'repeat\'].indexOf(value.repeat) != -1)?\'visible\':\'hidden\'}"></span> </div> </label> <label :class="{in: value.size == \'cover\'}" @click="value.size = \'cover\'" :data-title="\'На весь экран\'|gettext"><div data-value="cover"><span></span></div></label> <label :class="{in: value.size == \'tile\'}" @click="value.size = \'tile\'" :data-title="\'Плиткой\'|gettext"> <div data-value="none"> <dd v-for="dd in [0, 1, 2]"> <dt v-for="dt in [0, 1, 2]" :class="{in: checkBackgroundTile(dd, dt)}"></dt> </dd> </div> </label> </div> </div> <div class="has-mb-2 link-styles-container" :class="{disabled: !value.picture}"> <label class="form-control-static">{{\'Выравнивание\'|gettext}}</label> <div> <div class="theme-background-size is-background-position"> <label> <div> <dd v-for="(dd_v, dd) in {0: \'0%\', 1: \'50%\', 2: \'100%\'}"> <dt v-for="(dt_v, dt) in {0: \'0%\', 1: \'50%\', 2: \'100%\'}" :class="[$format(\'is-{1}{2}\', dt, dd), {in: value.position == dt_v+\' \'+dd_v}]" @click="value.position = dt_v+\' \'+dd_v"> <svg width="30px" height="30px" viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <polygon class="is-left" fill-rule="nonzero" points="3 10 0 12.5 3 15 3 13 6 13 6 12 3 12"></polygon> <polygon class="is-bottom" fill-rule="nonzero" points="13 19 12 19 12 22 10 22 12.5 25 15 22 13 22"></polygon> <polygon class="is-right" fill-rule="nonzero" points="25 12.5 22 10 22 12 19 12 19 13 22 13 22 15"></polygon> <polygon class="is-top" fill-rule="nonzero" points="10 3 12 3 12 6 13 6 13 3 15 3 12.5 0"></polygon> <path d="M14,12.5 C14,11.7 13.3,11 12.5,11 C11.7,11 11,11.7 11,12.5 C11,13.3 11.7,14 12.5,14 C13.3,14 14,13.3 14,12.5 Z" class="is-dot" fill-rule="nonzero"></path> </g> </svg> </dt> </dd> </div> </label> </div> </div> </div> <div class="has-mb-2 link-styles-container" :class="{disabled: !value.picture}"> <label class="form-control-static">{{\'Повторение\'|gettext}}</label> <div> <div class="theme-background-size is-background-repeat"> <label> <div> <dd> <dt v-for="v in [\'repeat\', \'repeat-y\', \'repeat-x\', \'no-repeat\']" :data-value="v" :class="{in: value.repeat == v}" @click="value.repeat = v"> <svg width="20px" height="20px" viewBox="0 0 510 510" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g class="is-3" transform="translate(330, 330)"> <path d="M18,180 L162,180 C171.94125,180 180,170.701442 180,159.230769 L180,20.7692308 C180,9.29855769 171.94125,0 162,0 L18,0 C8.05875,0 0,9.29855769 0,20.7692308 L0,159.230769 C0,170.701442 8.05875,180 18,180 Z"></path> </g> <g class="is-2" transform="translate(0, 330)"> <path d="M0,20.7692308 L0,159.230769 C0,170.701442 8.05875,180 18,180 L162,180 C171.94125,180 180,170.701442 180,159.230769 L180,20.7692308 C180,9.29855769 171.94125,0 162,0 L18,0 C8.05875,0 0,9.29855769 0,20.7692308 Z"></path> </g> <g class="is-1" transform="translate(330, 0)"> <path d="M18,0 L162,0 C171.94125,0 180,9.29855769 180,20.7692308 L180,159.230769 C180,170.701442 171.94125,180 162,180 L18,180 C8.05875,180 0,170.701442 0,159.230769 L0,20.7692308 C0,9.29855769 8.05875,0 18,0 Z"></path> </g> <g class="is-0" transform="translate(0, 0)"> <path d="M162,0 L18,0 C8.05875,0 0,9.29855769 0,20.7692308 L0,159.230769 C0,170.701442 8.05875,180 18,180 L162,180 C171.94125,180 180,170.701442 180,159.230769 L180,20.7692308 C180,9.29855769 171.94125,0 162,0 Z"></path> </g> </g> </g> </svg> </dt> </dd> </div> </label> </div> </div> </div> <div class="has-mb-2 link-styles-container is-tablet-fullwidth" :class="{disabled: !value.picture}"> <label class="form-control-static">{{\'Прозрачность\'|gettext}}</label> <b-slider v-model="value.opacity" size="is-medium" :min="0" :max="100" ticks1 type="is-success" :step="1"> <template v-for="v in [5, 20, 40, 60, 80, 95]"> <b-slider-tick :value="v" :key="v">{{ v }}%</b-slider-tick> </template> </b-slider> </div> </div> </div>'}),window.$app.defineComponent("component","vue-component-blocks-flipclock",{data:function(){return{countdown:0,clock:null}},watch:{value:function(){this.countdown=this.prepare(!0)}},props:["value","page_id","id"],mounted:function(){this.countdown=this.prepare()},methods:{prepare:function(e){var t=Math.min(this.value.tms,8639999);if(2==this.value.type){var i="timer"+this.page_id+"-"+this.id,n=Math.round(new Date/1e3),s=Cookies.get(i);s&&!e?t=s-n:Cookies.set(i,t+n,{maxAge:this.value.expires,path:this.value.path?this.value.path:"/"})}return t<0&&(t=0),t}},template:'<vue-blocks-flipclock-countdown :countdown="countdown"></vue-blocks-flipclock-countdown>'}),window.$app.defineComponent("component","vue-component-blocks-html",{mounted:function(){this.refresh()},watch:{value:function(){this.refresh()}},props:["value"],methods:{refresh:function(){var t=this;this.$nextTick(function(){t.$el.innerHTML="";var e=t.value;postscribe(t.$el,e,{done:function(){document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!1}))}})})}},template:"<div></div>"}),window.$app.defineComponent("component","vue-component-blocks-map",{data:function(){return{map:null,icon:null,markers:[]}},mounted:function(){var i=this;$mx.lazy("map.js","map.css",function(){var e=i.value.bounds,t=i.value.is_fixed;i.map=L.map(i.$refs.map,{dragging:!t,doubleClickZoom:!t,boxZoom:!t,touchZoom:!t,zoomControl:!0,attributionControl:!1}),null!=e.center&&i.map.setView([e.center.lat,e.center.lng],e.zoom),L.control.attribution({prefix:""}).addTo(i.map),null!=e.bounds&&i.map.fitBounds(e.bounds),L.tileLayer("/maps/{z}/{x}/{y}.png",{attribution:"",crossOrigin:!0}).addTo(i.map),i.icon=L.icon({iconUrl:"/s/i/marker.png",iconSize:[28,37],popupAnchor:[0,-10],shadowUrl:"/s/i/marker-shadow.png",shadowSize:[40,50],shadowAnchor:[12,31]}),i.fillMarkers()})},watch:{value:function(){this.refresh()}},props:["value"],methods:{refresh:function(){var e=this.value.bounds;this.map.fitBounds(e.bounds),this.fillMarkers(),this.map.options.zoomControl=!0},fillMarkers:function(){for(var t=this,e=0;e<this.markers.length;e++)this.map.removeLayer(this.markers[e]);_.each(this.value.markers,function(e){t.markers.push(L.marker([parseFloat(e.lat),parseFloat(e.lng)],{icon:t.icon}).addTo(t.map))})}},template:'<div class="map-container" :class="{\'map-view-with-zoom-control\': value.show_zoom}"> <div ref="map" class="map-view"></div> </div>'}),window.$app.defineComponent("component","vue-component-clipboard",{data:function(){return{clipboard:null}},props:{text:String,successMessage:{type:String,default:"Скопировано"},showIcon:{type:Boolean,default:!0},withShare:Boolean},mounted:function(){var t=this;this.clipboard=new Clipboard(this.$refs.button),this.clipboard.on("success",function(e){t.$buefy.toast.open({duration:3e3,message:t.$gettext(t.successMessage),type:"is-success",position:"is-top",queue:!1})})},methods:{click:function(){this.withShare&&null!=navigator.share&&navigator.share({url:this.text})}},destroyed:function(){this.clipboard.destroy()},template:'<span ref=\'button\' :data-clipboard-text="text" @click.stop="click"> <i class="fas fa-copy button-clipboard" v-if="showIcon"></i><slot></slot> </span>'}),window.$app.defineComponent("component","vue-component-codemirror",{data:function(){return{codeMirror:null,content:""}},props:{value:String,disabled:Boolean,readonly:Boolean,mode:{type:String,default:"text/html"}},mounted:function(){var t=this;$mx.lazy("codemirror.js","codemirror.css",function(){t.codeMirror=CodeMirror.fromTextArea(t.$refs.el,{lineNumbers:!0,theme:"default",mode:t.mode,readOnly:t.readonly,autoCloseTags:!0,lint:!0,styleActiveLine:!0,gutters:["CodeMirror-lint-markers"]}),t.codeMirror.on("change",function(e){t.content=e.getValue(),t.$emit("input",t.content)})})},watch:{value:function(e){if(this.codeMirror&&e!==this.codeMirror.getValue()){var t=this.codeMirror.getScrollInfo();this.codeMirror.setValue(e),this.content=e,this.codeMirror.scrollTo(t.left,t.top)}}},beforeDestroy:function(){if(this.codeMirror){var e=this.codeMirror.doc.cm.getWrapperElement();e&&e.remove&&e.remove()}},template:'<div :class="{disabled: disabled}"> <textarea ref=\'el\' v-model="value" style="width: 100%;border: 0;resize: none" class="CodeMirror cm-s-default"></textarea> </div>'}),window.$app.defineComponent("component","vue-component-colorpicker",{data:function(){return{palette:[["#000000","#343a40","#495057","#868e96","#adb5bd","#ced4da","#dee2e6","#e9ecef","#f1f3f5","#ffffff"],["#c92a2a","#e03131","#f03e3e","#fa5252","#ff6b6b","#ff8787","#ffa8a8","#ffc9c9","#ffe3e3","#fff5f5"],["#a61e4d","#c2255c","#d6336c","#e64980","#f06595","#f783ac","#faa2c1","#fcc2d7","#ffdeeb","#fff0f6"],["#862e9c","#9c36b5","#ae3ec9","#be4bdb","#cc5de8","#da77f2","#e599f7","#eebefa","#f3d9fa","#f8f0fc"],["#5f3dc4","#6741d9","#7048e8","#7950f2","#845ef7","#9775fa","#b197fc","#d0bfff","#e5dbff","#f3f0ff"],["#364fc7","#3b5bdb","#4263eb","#4c6ef5","#5c7cfa","#748ffc","#91a7ff","#bac8ff","#dbe4ff","#edf2ff"],["#1864ab","#1971c2","#1c7ed6","#228be6","#339af0","#4dabf7","#74c0fc","#a5d8ff","#d0ebff","#e7f5ff"],["#0b7285","#0c8599","#1098ad","#15aabf","#22b8cf","#3bc9db","#66d9e8","#99e9f2","#c5f6fa","#e3fafc"],["#087f5b","#099268","#0ca678","#12b886","#20c997","#38d9a9","#63e6be","#96f2d7","#c3fae8","#e6fcf5"],["#5c940d","#66a80f","#74b816","#82c91e","#94d82d","#a9e34b","#c0eb75","#d8f5a2","#e9fac8","#f4fce3"],["#e67700","#f08c00","#f59f00","#fab005","#fcc419","#ffd43b","#ffe066","#ffec99","#fff3bf","#fff9db"],["#d9480f","#e8590c","#f76707","#fd7e14","#ff922b","#ffa94d","#ffc078","#ffd8a8","#ffe8cc","#fff4e6"]],currentTab:"s",colorsPallete:[],oldValue:null,pickr:null,frequenty:[]}},props:{value:String,colors:{type:Array,default:[]},disabled:Boolean,label:String,positionHorizontal:String,position:String},watch:{value:function(){this.pickr&&6==this.value.replace("#","").length&&this.pickr.setColor(this.value,!0)},currentTab:function(e){var n=this;"p"!=e||this.pickr||(this.pickr=Pickr.create({el:this.$refs.picker,inline:!0,useAsButton:!0,showAlways:!0,default:this.value,sliders:"h",components:{palette:!1,preview:!1,opacity:!1,hue:!0}}),this.pickr.on("change",function(e,t){var i=e.toHEXA().toString().toLowerCase();n.value.toLowerCase()!=i&&(n.value=i,n.isMobile()||n.$emit("input",i))}))}},created:function(){this.oldValue=this.value,this.colorsPallete="string"==typeof this.colors?this.colors.split(","):this.colors,this.value||(this.value="#ffffff")},mounted:function(){this.checkPosition(),$mx(window).on("resize",this.checkPosition)},destroyed:function(){$mx(window).off("resize",this.checkPosition),this.pickr&&this.pickr.destroy()},methods:{close:function(){this.$refs.dropdown.toggle()},apply:function(){this.oldValue=this.value,this.close()},isMobile:function(){return window.matchMedia("(max-width: 767px)").matches},inputColor:function(){6!=this.value.replace("#","").length||this.isMobile()||this.$emit("input",this.value)},selectColor:function(e){this.value=e,this.isMobile()||(this.$emit("input",e),this.close())},checkPosition:function(){this.position=($mx(document.body).height()-$mx(this.$el).offset().top<400?"is-top-":"is-bottom-")+(this.positionHorizontal?this.positionHorizontal:this.label?"left":"right")},filterFrequenty:function(e){var t=this;return _.filter(e,function(e){return e&&-1==t.colors.indexOf(e)})},activeChange:function(e){e?(this.oldValue=this.value,this.currentTab="s",this.frequenty=this.filterFrequenty(Storage.get("colors.frequenty",[]))):(this.isMobile()&&(this.value=this.oldValue,this.$emit("input",this.value)),this.updateFrequenty(this.value)),$mx("html").toggleClass("is-dropdown-opened",e)},lightOrDark:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return lightOrDark(e)}),updateFrequenty:function(e){var t=this.frequenty.indexOf(e);-1!=t&&this.frequenty.splice(t,1),this.frequenty.unshift(e),this.frequenty=this.filterFrequenty(this.frequenty.slice(0,40)),Storage.set("colors.frequenty",this.frequenty)}},template:'<div :class="[\'color-picker-container\', {disabled: disabled, \'with-label\': label}]"> <label class="form-control-static" v-if="label">{{label}}</label> <b-dropdown aria-role="list" :position="position" @active-change="activeChange" ref="dropdown"> <button class="button color-picker-button" role="button" slot="trigger"> <span :style="{background: value}"></span> <i class="fal fa-chevron-down"></i> </button> <b-dropdown-item :focusable="false" class="color-picker" custom paddingless> <div class="color-picker-tabs"> <a @click="currentTab = \'h\'" :class="{in: currentTab== \'h\'}"><svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="history" class="svg-inline--fa fa-history fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g class="fa-group"><path class="fa-secondary" fill="currentColor" d="M141.68 400.23a184 184 0 1 0-11.75-278.3l50.76 50.76c10.08 10.08 2.94 27.31-11.32 27.31H24a16 16 0 0 1-16-16V38.63c0-14.26 17.23-21.4 27.31-11.32l49.38 49.38A247.14 247.14 0 0 1 256 8c136.81 0 247.75 110.78 248 247.53S392.82 503.9 256.18 504a247 247 0 0 1-155.82-54.91 24 24 0 0 1-1.84-35.61l11.27-11.27a24 24 0 0 1 31.89-1.98z" opacity="0.4"></path><path class="fa-primary" fill="currentColor" d="M288 152v104.35L328.7 288a24 24 0 0 1 4.21 33.68l-9.82 12.62a24 24 0 0 1-33.68 4.21L224 287.65V152a24 24 0 0 1 24-24h16a24 24 0 0 1 24 24z"></path></g></svg></a> <a @click="currentTab = \'s\'" :class="{in: currentTab== \'s\'}"><svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="swatchbook" class="svg-inline--fa fa-swatchbook fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g class="fa-group"><path class="fa-secondary" fill="currentColor" d="M64,256h64V192H64Zm370.66-88.29h0L344.5,77.36a31.83,31.83,0,0,0-45-.07h0l-.07.07L224,152.88V424L434.66,212.9A32,32,0,0,0,434.66,167.71ZM64,128h64V64H64ZM480,320H373.09L186.68,506.51c-2.06,2.07-4.5,3.58-6.68,5.49H480a32,32,0,0,0,32-32V352A32,32,0,0,0,480,320Z" opacity="0.4"></path><path class="fa-primary" fill="currentColor" d="M160,0H32A32,32,0,0,0,0,32V416a96,96,0,0,0,192,0V32A32,32,0,0,0,160,0ZM96,440a24,24,0,1,1,24-24A24,24,0,0,1,96,440Zm32-184H64V192h64Zm0-128H64V64h64Z"></path></g></svg></a> <a @click="currentTab = \'p\'" :class="{in: currentTab== \'p\'}"><svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="eye-dropper" class="svg-inline--fa fa-eye-dropper fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g class="fa-group"><path class="fa-secondary" fill="currentColor" d="M32 512L0 480l32-56v-45.5c0-17 6.7-33.3 18.8-45.3l126.6-126.6 128 128-126.7 126.7c-12 12-28.3 18.7-45.2 18.7H88l-56 32z" opacity="0.4"></path><path class="fa-primary" fill="currentColor" d="M483.9 163.9L406.8 241l13.1 13.1c9.4 9.4 9.4 24.6 0 33.9l-41 41c-9.4 9.3-24.5 9.3-33.9 0L183 167c-9.4-9.4-9.4-24.6 0-33.9l41-41c9.4-9.4 24.6-9.4 33.9 0l13.1 13.2 77.1-77.1c37.5-37.5 98.3-37.5 135.8 0s37.5 98.2 0 135.7z"></path></g></svg></a> <a class="is-pulled-right is-visible-mobile" @click="close"><i class="fal fa-times" style="font-size: 30px;line-height: 20px"></i></a> </div> <div class="color-picker-swatches" v-if="currentTab == \'s\'"> <div> <div v-for="(l, c) in palette"> <a v-for="c in l" :class="{in: value== c}" @click="selectColor(c)"><dd :style="{\'background\': c}" :data-brightness="lightOrDark(c)"></dd></a> </div> </div> </div> <div class="color-picker-swatches is-horizontal" v-if="currentTab == \'h\'"> <div> <span v-if="colorsPallete.length"> <a v-for="c in colorsPallete" :class="{in: value== c}" @click="selectColor(c)"><dd :style="{\'background\': c}" :data-brightness="lightOrDark(c)"></dd></a> </span> <span v-if="frequenty.length"> <a v-for="c in frequenty" :class="{in: value== c}" @click="selectColor(c)"><dd :style="{\'background\': c}" :data-brightness="lightOrDark(c)"></dd></a> </span> </div> </div> <div v-show="currentTab == \'p\'" style="flex-grow: 1"> <div style="padding: .8rem .8rem 0"> <div class="pcr-color-preview"> <button type="button" class="pcr-last-color" aria-label="use previous color" :style="{color: oldValue}" @click="selectColor(oldValue)"></button> <div class="pcr-current-color" :style="{color: value}"></div> </div> </div> <div ref="picker" class="color-picker"></div> <div style="padding: .8em"><input type="text" class="input" v-model="value" @input="inputColor"></div> </div> <div class="color-picker-footer"> <button class="button is-dark" @click="close">{{\'Закрыть\'|gettext}}</button> <button class="button is-primary" @click="apply">{{\'Применить\'|gettext}}</button> </div> </b-dropdown-item> </b-dropdown> </div>'}),window.$app.defineComponent("component","vue-component-datepicker",{data:function(){return{weekdays:this.$getDaysNames(),months:this.$getMonthsNames(),first_day_week:this.$getFirstDayWeek()}},props:{value:String,placeholder:String,disabled:Boolean},watch:{value:function(e){this.$emit("input",e)}},template:'<div class="has-feedback"> <b-datepicker :placeholder="placeholder" v-model="value" icon="calendar-alt" :day-names="weekdays" :month-names="months" :first-day-of-week="first_day_week" :disabled="disabled"></b-datepicker> <a class="form-control-feedback has-text-grey-light" @click="value = null" :class="{disabled: disabled}" v-if="value"><i class="fal fa-times"></i></a> </div>'}),window.$app.defineComponent("component","vue-component-domain-attach",{data:function(){return{isFetching:!1,isCheckingDNS:!1,isAttachingDomain:!1,domainProtocol:"http://",values:{domain:"",domain_verified:!1,domain_attached:!1,domain_secured:!1},errors:{}}},props:{value:Object,disabled:Boolean},mixins:[FormModel],created:function(){this.fetchData()},computed:{ns:function(){return"ru"==window.i18n.locale?["ns1.taplink.cc","ns2.taplink.cc"]:["ns1.taplink.at","ns2.taplink.at"]},isSubdomain:function(){return 2<this.values.domain.split(".").length}},methods:{fetchData:function(){var t=this;this.isFetching=!0,this.$api.get("settings/domain/get").then(function(e){t.isFetching=!1,t.values=e.response})},updateData:function(e){var t=this;this.isUpdating=!0,this.$api.post("settings/domain/set",Object.assign({part:e},this.values),this).then(function(e){t.errors="fail"==e.result?e.errors:{},"success"==e.result&&(t.fetchData(),t.$auth.refresh()),t.isCheckingDNS=t.isAttachingDomain=t.isUpdating=!1}).catch(function(e){e.data;t.isCheckingDNS=t.isAttachingDomain=t.isUpdating=!1})},onDomainAction:function(e){var t=this;switch(e){case"delete":this.$confirm(this.$gettext("Вы уверены что хотите открепить доменное имя?"),"is-danger").then(function(){t.updateData("domain_unattach")});break;case"zonemanager":this.$form("vue-settings-domain-zonemanager-form",null,this);break;case"certificate":this.$form("vue-settings-domain-certificate-form",null,this)}},checkDomainDNS:function(){this.isCheckingDNS=!0,this.updateData("check_dns")},domainAttach:function(){this.isAttachingDomain=!0,this.updateData("domain_attach")}},template:'<div> <b-field :class="{disabled: !$auth.isAllowTariff(\'business\'), \'has-error\': errors.domain}" :message="errors.domain"> <b-field class="is-marginless"> <div v-if="values.domain_attached || isAttachingDomain" class="control is-clearfix is-mouse-locked" :disabled="isFetching"> <div class="input has-text-success" disabled="on" v-if="$account.custom_domain_secured"> <i class="fas fa-lock has-text-success" style="font-size: 90%;line-height: 1rem;color: #599e4d !important"></i><span class="has-ml-1 is-hidden-mobile">HTTPS</span> </div> </div> <div v-if="values.domain_attached || isAttachingDomain" class="control is-expanded is-clearfix"> <div disabled="on" class="input is-mouse-locked has-text-black">{{values.domain}}</div> </div> <b-input type="text" v-model="values.domain" placeholder="mydomain.ru" v-else expanded :disabled="isFetching || disabled"></b-input> <p class="control"> <button class="button is-fullwidth" @click="domainAttach" v-if="!values.domain_attached" :disabled="isFetching || disabled" :class="{\'is-loading\': isAttachingDomain}">{{\'Подключить домен\'|gettext}}</button> <vue-component-action-button v-else @action="onDomainAction" :title="\'Действие\'|gettext" position="is-bottom-left"> <template slot="actions"> <b-dropdown-item value="zonemanager" :disabled="!values.domain_verified" v-if="!isSubdomain"><i class="fa fa-globe"></i> {{\'Управление зоной\'|gettext}}</b-dropdown-item> <b-dropdown-item value="certificate" :disabled="!values.domain_verified" v-if="isSubdomain"><i class="fa fa-globe"></i> {{\'SSL сертификат\'|gettext}}</b-dropdown-item> <hr class="dropdown-divider" aria-role="menuitem"> <b-dropdown-item value="delete" class="has-text-danger"><i class="fa fa-trash-alt"></i> {{\'Отключить домен\'|gettext}}</b-dropdown-item> </template> </vue-component-action-button> </p> </b-field> </b-field> <div v-if="values.domain_attached && !values.domain_verified"> <p class="has-mb-1" v-if="isSubdomain">{{\'Для завершения подключения поддомена {1} нужно добавить CNAME-запись в ваш DNS-сервер\'|gettext|format(values.domain)}}:</p> <p class="has-mb-1" v-else>{{\'Для завершения подключения домена {1} нужно изменить DNS-сервера на\'|gettext|format(values.domain)}}:</p> <table class="table is-bordered is-marginless has-mr-2" style="border-top: 1px solid #f0f0f0;border-top-color: var(--border-grey-color)" v-if="isSubdomain"> <tbody> <tr> <td><i class="fas has-mr-1" :class="{\'fa-check-circle has-text-success\': values.domain_verified, \'fa-exclamation-circle has-text-danger\': !values.domain_verified}"></i> taplink.cc <vue-component-clipboard text="taplink.cc" class="has-ml-1"></vue-component-clipboard></td> </tr> </tbody> </table> <table class="table is-bordered is-marginless has-mr-2" style="border-top: 1px solid #f0f0f0;border-top-color: var(--border-grey-color)" v-else> <tbody> <tr> <td><i class="fas has-mr-1" :class="{\'fa-check-circle has-text-success\': values.domain_verified, \'fa-exclamation-circle has-text-danger\': !values.domain_verified}"></i> {{ns[0]}} <vue-component-clipboard :text="ns[0]" class="has-ml-1"></vue-component-clipboard></td> </tr> <tr> <td><i class="fas has-mr-1" :class="{\'fa-check-circle has-text-success\': values.domain_verified, \'fa-exclamation-circle has-text-danger\': !values.domain_verified}"></i> {{ns[1]}} <vue-component-clipboard :text="ns[1]" class="has-ml-1"></vue-component-clipboard></td> </tr> </tbody> </table> <button class="has-mt-2 button is-dark" @click="checkDomainDNS" :class="{\'is-loading\': isCheckingDNS}" v-if="!values.domain_verified">{{\'Проверить DNS\'|gettext}}</button> </div> <div v-if="window.i18n.locale == \'ru\' && !values.domain_attached" :class="{disabled: !$auth.isAllowTariff(\'business\')}"> Если у вас нет доменного имени вы можете зарегистрировать его в <a href="https://reg.ru?rlink=reflink-44923" target="_blank">REG.RU</a> </div> </div>'}),window.$app.defineComponent("component","vue-component-dropdown-checklist",{data:function(){return{action:null}},created:function(){},props:["list","value"],methods:{onAction:function(){var e=this;if(this.action){var t=this.value.indexOf(this.action),i=this.action.split(":");if(1<i.length&&"*"==i[1]&&-1!=this.value.indexOf(this.action))Vue.nextTick(function(){e.action=null});else{var n=this.value;if(-1==t?n.push(this.action):n.splice(t,1),1<i.length)if("*"==i[1])-1!=n.indexOf(i[0]+":*")&&(n=_.filter(n,function(e){return-1!=e.indexOf(i[0]+":*")||-1==e.indexOf(i[0]+":")}));else{var s=!1;if(_.each(this.list,function(e){s|=null!=e.items[i[0]+":*"]}),"true"!=i[1]&&"false"!=i[1]||_.each(this.list,function(e){_.each(e.items,function(e,t){n=_.filter(n,function(e){return-1==e.indexOf(i[0]+":")||-1!=e.indexOf(":"+i[1])})})}),s){var a={0:0,1:0};_.each(this.list,function(e){_.each(e.items,function(e,t){0==t.indexOf(i[0]+":")&&0!=t.indexOf(i[0]+":*")&&a[-1==n.indexOf(t)?0:1]++})}),0==a[0]?(n=_.filter(n,function(e){return-1==e.indexOf(i[0]+":")})).push(i[0]+":*"):n=_.filter(n,function(e){return-1==e.indexOf(i[0]+":*")})}}Vue.nextTick(function(){e.value=n,e.action=null,e.$emit("input",n)})}}}},template:'<b-dropdown class="is-fullwidth" v-model="action" @input="onAction"> <button class="button is-fullwidth level" slot="trigger"> <span>{{\'Фильтр\'|gettext}}</span> <b-icon icon="angle-down"></b-icon> </button> <div v-for="(node, idx) in list"> <hr v-if="node.label && idx> 0" class="dropdown-divider"> <b-dropdown-item v-if="node.label" custom class="has-text-grey-light"> {{node.label|gettext}} </b-dropdown-item> <b-dropdown-item v-for="(t, k) in node.items" :value="k"><i class="fa" :class="{\'fa-square\': value.indexOf(k) == -1, \'fas fa-check-square\': value.indexOf(k) != -1}"></i> {{t}}</b-dropdown-item> </div> </b-dropdown>'}),window.$app.defineComponent("component","vue-component-dropdown-list",{props:{title:{type:String,default:"list"},value:{type:Object,default:[]},list:{type:Object,default:[]},frozen:{type:Object,default:[]},exclude:{type:Object,default:[]}},methods:{toggle:function(e){-1==(idx=this.value.indexOf(e))?this.value.push(e):this.value.splice(idx,1)}},template:'<b-dropdown aria-role="list" position="is-top-right" :close-on-click="false"><label class="b-checkbox checkbox is-marginless" slot="trigger" aria-role="listitem">{{title}}</label> <b-dropdown-item v-for="(val, key) in list" @click="toggle(key)" :disabled="frozen.indexOf(key) != -1" v-if="exclude.indexOf(key) == -1"><i class="fa fa-check has-mr-1" :class="{\'is-invisible\': value.indexOf(key) == -1 && frozen.indexOf(key) == -1}"></i>{{val}}</b-dropdown-item> </b-dropdown>'}),window.$app.defineComponent("component","vue-component-editor",{props:{id:{type:String,default:"quill-container"},placeholder:{type:String,default:""},value:{type:String,default:""},classname:{type:String,default:""},disabled:{type:Boolean},editorToolbar:Array,editorOptions:{type:Object,required:!1,default:function(){return{}}},useCustomImageHandler:{type:Boolean,default:!1}},data:function(){return{quill:null}},mounted:function(){var t=this;$mx.lazy("quill.js","quill.css",function(e){t.registerPrototypes(),t.initializeEditor()})},methods:{initializeEditor:function(){this.setupQuillEditor(),this.checkForCustomImageHandler(),this.handleInitialContent(),this.registerEditorEventListeners(),this.$emit("ready",this.quill)},setupQuillEditor:function(){var e={debug:!1,modules:this.setModules(),theme:"snow",placeholder:this.placeholder?this.placeholder:"",readOnly:!!this.disabled&&this.disabled};this.prepareEditorConfig(e);var t=Quill.import("blots/block");t.tagName="div",Quill.register(t),this.quill=new Quill(this.$refs.quillContainer,e)},setModules:function(){return{toolbar:this.editorToolbar?this.editorToolbar:[[{header:[1,2,3,!1]}],["bold","italic"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["clean"]],imageUpload:{parent:this}}},prepareEditorConfig:function(e){0<Object.keys(this.editorOptions).length&&this.editorOptions.constructor===Object&&(this.editorOptions.modules&&void 0!==this.editorOptions.modules.toolbar&&delete e.modules.toolbar,merge(e,this.editorOptions))},registerPrototypes:function(){Quill.prototype.getHTML=function(){return this.container.querySelector(".ql-editor").innerHTML},Quill.prototype.getWordCount=function(){return this.container.querySelector(".ql-editor").innerText.length}},registerEditorEventListeners:function(){this.quill.on("text-change",this.handleTextChange),this.quill.on("selection-change",this.handleSelectionChange),this.listenForEditorEvent("text-change"),this.listenForEditorEvent("selection-change"),this.listenForEditorEvent("editor-change")},listenForEditorEvent:function(n){var s=this;this.quill.on(n,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];s.$emit.apply(s,[n].concat(t))})},handleInitialContent:function(){this.value&&(this.quill.root.innerHTML=this.value)},handleSelectionChange:function(e,t){!e&&t?this.$emit("blur",this.quill):e&&!t&&this.$emit("focus",this.quill)},handleTextChange:function(){var e="<p><br></p>"===this.quill.getHTML()?"":this.quill.getHTML();this.$emit("input",e)},checkForCustomImageHandler:function(){!0===this.useCustomImageHandler&&this.setupCustomImageHandler()},setupCustomImageHandler:function(){this.quill.getModule("toolbar").addHandler("image",this.customImageHandler)},customImageHandler:function(){this.$refs.fileInput.click()},emitImageInfo:function(e){var t=e.target.files[0],i=this.quill,n=i.getSelection().index;this.$emit("imageAdded",t,i,n,function(){document.getElementById("file-upload").value=""})}},watch:{value:function(e){e==this.quill.root.innerHTML||this.quill.hasFocus()||(this.quill.root.innerHTML=e)},disabled:function(e){this.quill.enable(!e)}},beforeDestroy:function(){this.quill=null,delete this.quill},template:'<div class="quillWrapper"> <div :id="id" ref="quillContainer" class="input is-block" :class="classname" style="height:auto;min-height: 300px"></div> </div>'}),window.$app.defineComponent("component","vue-component-emoji-picker-categories",{data:function(){return{categories:[{name:"Frequenty",icon:"frequenty"},{name:"Peoples",icon:"peoples"},{name:"Nature",icon:"nature"},{name:"Foods",icon:"foods"},{name:"Activity",icon:"activity"},{name:"Objects",icon:"objects"},{name:"Places",icon:"places"},{name:"Symbols",icon:"symbols"},{name:"Flags",icon:"flags"}],icons:{activity:'\n\t\t<svg style="max-height:18px" width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 303.6 303.6" fill="gray">\n\t\t<path d="M291.503 11.6c-10.4-10.4-37.2-11.6-48.4-11.6-50.4 0-122.4 18.4-173.6 69.6-77.2 76.8-78.4 201.6-58.4 222 10.8 10.4 35.6 12 49.2 12 49.6 0 121.2-18.4 173.2-70 76.4-76.4 80.4-199.6 58-222zm-231.2 277.2c-24.4 0-36-4.8-38.8-7.6-5.2-5.2-8.4-24.4-6.8-49.6l57.2 56.8c-4 .4-8 .4-11.6.4zm162.8-66c-38.8 38.8-90.4 57.2-132.4 63.6l-74-73.6c6-42 24-94 63.2-133.2 38-38 88-56.4 130.8-62.8l75.6 75.6c-6 40.8-24.4 91.6-63.2 130.4zm65.2-148.8l-58.8-59.2c4.8-.4 9.2-.4 13.6-.4 24.4 0 35.6 4.8 38 7.2 5.6 5.6 9.2 25.6 7.2 52.4z"/>\n\t\t<path d="M215.103 139.6l-20.8-20.8 13.2-13.2c2.8-2.8 2.8-7.6 0-10.4s-7.6-2.8-10.4 0l-13.2 13.6-20.8-20.8c-2.8-2.8-7.6-2.8-10.4 0-2.8 2.8-2.8 7.6 0 10.4l20.8 20.8-22 22-20.8-20.8c-2.8-2.8-7.6-2.8-10.4 0s-2.8 7.6 0 10.4l20.8 20.8-22 22-20.8-20.8c-2.8-2.8-7.6-2.8-10.4 0s-2.8 7.6 0 10.4l20.8 20.8-13.2 13.2c-2.8 2.8-2.8 7.6 0 10.4 1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2l13.2-13.2 20.8 20.8c1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2c2.8-2.8 2.8-7.6 0-10.4l-20.8-21.2 22-22 20.8 20.8c1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2c2.8-2.8 2.8-7.6 0-10.4l-20.8-20.8 22-22 20.8 20.8c1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2c2.8-2.8 2.8-7.6 0-10.4zM169.103 47.6c-1.2-4-5.2-6-9.2-4.8-3.2 1.2-80.8 25.6-110.4 98-1.6 4 0 8.4 4 9.6.8.4 2 .4 2.8.4 2.8 0 5.6-1.6 6.8-4.4 27.2-66 100.4-89.6 101.2-89.6 4-1.2 6-5.2 4.8-9.2z"/>\n\t\t</svg>\n\t\t',flags:'\n\t\t<svg style="max-height:18px" width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="gray">\n\t\t<path d="M472.928 34.72c-4.384-2.944-9.984-3.52-14.912-1.568-1.088.448-106.528 42.176-195.168.384C186.752-2.4 102.944 14.4 64 25.76V16c0-8.832-7.168-16-16-16S32 7.168 32 16v480c0 8.832 7.168 16 16 16s16-7.168 16-16V315.296c28.352-9.248 112.384-31.232 185.184 3.168 34.592 16.352 70.784 21.792 103.648 21.792 63.2 0 114.016-20.128 117.184-21.408 6.016-2.464 9.984-8.32 9.984-14.848V48c0-5.312-2.656-10.272-7.072-13.28zM448 292.672c-28.512 9.248-112.512 31.136-185.184-3.168C186.752 253.6 102.944 270.4 64 281.76V59.328c28.352-9.248 112.384-31.232 185.184 3.168 76 35.872 159.872 19.104 198.816 7.712v222.464z"/>\n\t\t</svg>\n\t\t',foods:'\n\t\t<svg style="max-height:18px" width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.999 511.999" fill="gray">\n\t\t<path d="M413.949 155.583a10.153 10.153 0 0 0-3.24-2.16c-.61-.25-1.24-.44-1.87-.57-3.25-.66-6.701.41-9.03 2.73a10.093 10.093 0 0 0-2.93 7.07 10.098 10.098 0 0 0 1.69 5.56c.36.54.779 1.05 1.24 1.52 1.86 1.86 4.44 2.93 7.07 2.93.65 0 1.31-.07 1.96-.2.63-.13 1.26-.32 1.87-.57a10.146 10.146 0 0 0 3.24-2.16c.47-.47.88-.98 1.25-1.52a10.098 10.098 0 0 0 1.49-3.6 10.038 10.038 0 0 0-2.74-9.03zM115.289 385.873c-.12-.64-.32-1.27-.57-1.87-.25-.6-.55-1.18-.91-1.73-.37-.54-.79-1.06-1.25-1.52a9.57 9.57 0 0 0-1.52-1.24c-.54-.36-1.12-.67-1.72-.92-.61-.25-1.24-.44-1.88-.57a9.847 9.847 0 0 0-3.9 0c-.64.13-1.27.32-1.87.57-.61.25-1.19.56-1.73.92-.55.36-1.06.78-1.52 1.24-.46.46-.88.98-1.24 1.52-.36.55-.67 1.13-.92 1.73-.25.6-.45 1.23-.57 1.87-.13.651-.2 1.3-.2 1.96 0 .65.07 1.3.2 1.95.12.64.32 1.27.57 1.87.25.6.56 1.18.92 1.73.36.54.78 1.06 1.24 1.52.46.46.97.88 1.52 1.24.54.36 1.12.67 1.73.92.6.25 1.23.44 1.87.57s1.3.2 1.95.2c.65 0 1.31-.07 1.95-.2.64-.13 1.27-.32 1.88-.57.6-.25 1.18-.56 1.72-.92.55-.36 1.059-.78 1.52-1.24.46-.46.88-.98 1.25-1.52.36-.55.66-1.13.91-1.73.25-.6.45-1.23.57-1.87.13-.65.2-1.3.2-1.95 0-.66-.07-1.31-.2-1.96z"/>\n\t\t<path d="M511.999 222.726c0-14.215-9.228-26.315-22.007-30.624-1.628-74.155-62.456-133.978-136.994-133.978H159.002c-74.538 0-135.366 59.823-136.994 133.978C9.228 196.411 0 208.51 0 222.726a32.076 32.076 0 0 0 3.847 15.203 44.931 44.931 0 0 0-.795 8.427v.708c0 14.06 6.519 26.625 16.693 34.833-10.178 8.275-16.693 20.891-16.693 35.001 0 15.114 7.475 28.515 18.921 36.702v26.668c0 40.588 33.021 73.608 73.608 73.608h320.836c40.588 0 73.608-33.021 73.608-73.608V353.6c11.446-8.186 18.921-21.587 18.921-36.702 0-13.852-6.354-26.385-16.361-34.702 9.983-8.212 16.361-20.656 16.361-34.562v-.708c0-2.985-.294-5.944-.877-8.845a32.082 32.082 0 0 0 3.93-15.355zM44.033 173.229h322.441c5.523 0 10-4.477 10-10s-4.477-10-10-10H49.737c16.896-43.883 59.503-75.106 109.265-75.106h193.996c62.942 0 114.438 49.953 116.934 112.295H42.068c.234-5.848.9-11.588 1.965-17.189zM23.052 316.896c0-13.837 11.257-25.094 25.094-25.094h117.298l55.346 50.188H48.146c-13.837 0-25.094-11.256-25.094-25.094zm.976-62.945c.422.111.847.215 1.275.309 7.421 1.634 14.68 8.002 22.365 14.744a576.29 576.29 0 0 0 3.206 2.799h-3.081c-11.253-.001-20.774-7.551-23.765-17.852zm308.727 89.752l57.233-51.899 49.904.57-81.871 74.24-25.266-22.911zm7.861 34.126H295.12l17.467-15.839h10.563l17.466 15.839zm19.599-86.027l-82.499 74.811-82.499-74.811h164.998zm-59.529-20c.849-.842 1.677-1.675 2.49-2.493 9.531-9.587 17.059-17.16 32.89-17.16 15.832 0 23.359 7.573 32.89 17.162.812.817 1.64 1.65 2.489 2.491h-70.759zm-160.13 0a485.82 485.82 0 0 0 2.489-2.492c9.531-9.588 17.059-17.161 32.89-17.161 15.83 0 23.358 7.573 32.888 17.16.813.818 1.641 1.651 2.49 2.493h-70.757zm275.862 162.073H95.582c-29.56 0-53.608-24.049-53.608-53.608v-18.275h200.872l17.467 15.839H145.897c-5.523 0-10 4.477-10 10s4.477 10 10 10H467.07c-7.288 20.958-27.242 36.044-50.652 36.044zm53.608-56.046h-94.6l17.467-15.839h77.133v15.839zm-6.174-35.837h-48.906l54.624-49.533c11.135 2.604 19.376 12.665 19.376 24.439 0 13.836-11.257 25.094-25.094 25.094zm-2.728-70.19l.262-.227.101-.087.342-.298c.848-.738 1.682-1.469 2.501-2.187 4.105-3.601 8.089-7.095 12.04-9.819 3.446-2.375 6.868-4.164 10.326-4.925l.359-.081.04-.01.317-.076.065-.016a22.897 22.897 0 0 0 .42-.107l.196-.052a.374.374 0 0 0 .048-.012c-2.433 9.276-10.129 16.443-19.691 18.102a9.984 9.984 0 0 0-2.016-.205h-5.31zm21.271-37.073a40.746 40.746 0 0 0-4.536 1.281c-10.109 3.489-18.327 10.602-26.283 17.58l-.434.381c-9.178 8.052-17.923 15.723-29.033 17.834h-13.146c-11.249-1.93-17.833-8.552-25.823-16.591-10.213-10.275-22.923-23.062-47.074-23.062-24.15 0-36.86 12.786-47.074 23.06-7.992 8.04-14.576 14.663-25.829 16.593h-14.327c-11.253-1.93-17.837-8.553-25.829-16.593-10.213-10.274-22.923-23.06-47.072-23.06-24.151 0-36.861 12.787-47.074 23.062-7.991 8.039-14.574 14.661-25.824 16.591h-7.065c-14.134 0-24.325-8.939-35.113-18.404-9.248-8.112-18.81-16.501-31.252-19.241a12.237 12.237 0 0 1-7.025-4.453 10.027 10.027 0 0 0-1.153-1.252 12.234 12.234 0 0 1-1.428-5.727c-.001-6.788 5.52-12.309 12.307-12.309h447.384c6.787 0 12.308 5.521 12.308 12.308 0 5.729-4.039 10.776-9.605 12.002z"/>\n\t\t</svg>\n\t\t',frequenty:'\n\t\t<svg style="max-height:18px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 219.15 219.15" width="24" height="24" fill="gray">\n\t\t<path d="M109.575 0C49.156 0 .001 49.155.001 109.574c0 60.42 49.154 109.576 109.573 109.576 60.42 0 109.574-49.156 109.574-109.576C219.149 49.155 169.995 0 109.575 0zm0 204.15c-52.148 0-94.573-42.427-94.573-94.576C15.001 57.426 57.427 15 109.575 15c52.148 0 94.574 42.426 94.574 94.574 0 52.15-42.426 94.576-94.574 94.576z"/>\n\t\t<path d="M166.112 108.111h-52.051V51.249a7.5 7.5 0 0 0-15 0v64.362a7.5 7.5 0 0 0 7.5 7.5h59.551a7.5 7.5 0 0 0 0-15z"/>\n\t\t</svg>\n\t\t',nature:'\n\t\t<svg style="max-height:18px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24" fill="gray">\n\t\t<path d="M490.815 3.784C480.082 5.7 227.049 51.632 148.477 130.203c-39.153 39.153-64.259 87.884-70.694 137.218-5.881 45.081 4.347 85.929 28.878 116.708L.001 490.789 21.212 512l106.657-106.657c33.094 26.378 75.092 34.302 116.711 28.874 49.334-6.435 98.065-31.541 137.218-70.695C460.368 284.951 506.3 31.918 508.216 21.185L511.999 0l-21.184 3.784zm-43.303 39.493L309.407 181.383l-7.544-98.076c46.386-15.873 97.819-29.415 145.649-40.03zm-174.919 50.64l8.877 115.402-78.119 78.119-11.816-153.606c19.947-13.468 47.183-26.875 81.058-39.915zm-109.281 64.119l12.103 157.338-47.36 47.36c-39.246-52.892-24.821-139.885 35.257-204.698zm57.113 247.849c-26.548-.001-51.267-7.176-71.161-21.938l47.363-47.363 157.32 12.102c-40.432 37.475-89.488 57.201-133.522 57.199zm157.743-85.421l-153.605-11.816 78.118-78.118 115.403 8.877c-13.04 33.876-26.448 61.111-39.916 81.057zm50.526-110.326l-98.076-7.544L468.725 64.485c-10.589 47.717-24.147 99.232-40.031 145.653z"/>\n\t\t</svg>\n\t\t',objects:'\n\t\t<svg style="max-height:18px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 792 792" fill="gray">\n\t\t<path d="M425.512 741.214H365.58c-14.183 0-25.164 11.439-25.164 25.622S351.397 792 365.58 792h59.932c15.101 0 26.54-10.981 26.54-25.164s-11.44-25.622-26.54-25.622zM472.638 671.209H319.821c-14.183 0-26.081 10.98-26.081 25.163s11.898 25.164 26.081 25.164h152.817c14.183 0 25.164-10.981 25.164-25.164s-10.982-25.163-25.164-25.163zM639.188 138.634c-25.164-42.548-59.181-76.135-102.49-101.113C493.526 12.621 446.566 0 395.771 0 320.28 0 247.19 31.684 197.205 81.445c-49.761 49.527-81.904 121.24-81.904 196.282 0 33.861 7.779 68.629 22.879 103.866 15.1 35.228 38.565 78.614 70.005 130.396 7.448 12.269 15.764 31.205 25.623 56.271 12.104 30.757 22.87 51.713 31.566 63.602 5.027 6.872 11.899 10.063 20.596 10.063h228.766c9.605 0 16.359-4.188 21.504-11.898 6.754-10.132 13.987-27.516 22.42-51.693 8.951-25.691 16.838-43.982 23.329-55.364 30.571-53.587 54.446-99.747 70.464-137.717 16.018-37.979 24.246-74.124 24.246-107.526 0-49.878-12.347-96.545-37.511-139.093zm-35.696 232.437c-15.012 34.348-36.398 76.974-65.427 126.736-9.41 16.125-18.458 37.003-26.989 63.592-3.367 10.474-7.32 20.596-11.439 30.2H300.153c-6.862-11.439-12.26-25.837-18.761-42.089-12.718-31.801-23.338-52.621-30.2-64.061-28.824-48.043-49.868-87.39-64.051-118.957s-20.537-60.859-21.044-88.766c-2.235-121.718 106.13-228.991 229.674-226.941 41.631.693 80.527 10.063 115.765 30.659 35.227 20.586 63.134 48.043 83.729 82.812 20.586 34.768 31.108 72.748 31.108 113.47-.001 27.449-7.692 58.596-22.881 93.345z"/>\n\t\t</svg>\n\t\t',peoples:'\n\t\t<svg style="max-height:18px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 106.059 106.059" fill="gray">\n\t\t<path d="M90.544 90.542c20.687-20.684 20.685-54.341.002-75.024-20.688-20.689-54.347-20.689-75.031-.006-20.688 20.687-20.686 54.346.002 75.034 20.682 20.684 54.341 20.684 75.027-.004zM21.302 21.3c17.494-17.493 45.959-17.495 63.457.002 17.494 17.494 17.492 45.963-.002 63.455-17.494 17.494-45.96 17.496-63.455.003-17.498-17.498-17.496-45.966 0-63.46zM27 69.865s-2.958-11.438 6.705-8.874c0 0 17.144 9.295 38.651 0 9.662-2.563 6.705 8.874 6.705 8.874C73.539 86.824 53.03 85.444 53.03 85.444S32.521 86.824 27 69.865zm6.24-31.194a6.202 6.202 0 1 1 12.399.001 6.202 6.202 0 0 1-12.399-.001zm28.117 0a6.202 6.202 0 1 1 12.403.001 6.202 6.202 0 0 1-12.403-.001z"/>\n\t\t</svg>\n\t\t',places:'\n\t\t<svg style="max-height:18px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 611.999 611.998" fill="gray">\n\t\t<path d="M596.583 15.454C586.226 5.224 573.354.523 558.423.523c-15.597 0-31.901 4.906-49.452 14.599-17.296 9.551-32.851 20.574-46.458 32.524h-.665c-2.655 2.322-10.953 10.287-25.219 24.553-14.272 14.272-26.217 26.223-35.845 36.51L112.401 26.406c-6.896-1.968-12.928.014-17.593 4.645L46.687 78.839c-4.326 4.297-5.805 9.268-4.977 15.597.829 6.287 3.979 10.627 9.629 13.607L280.32 228.839 161.514 347.978l-95.91 3.32c-4.645.164-8.637 1.643-12.276 5.311L5.872 404.397c-4.312 4.34-6.641 9.289-5.643 16.262 1.657 6.967 5.31 11.611 11.618 13.602l117.142 48.787 48.787 117.148c2.421 5.812 6.634 9.621 13.607 11.279h3.313c4.977 0 9.296-1.658 12.942-5.311l47.456-47.457c3.653-3.645 5.494-7.965 5.643-12.275l3.32-95.91 118.807-118.807 121.128 228.99c2.988 5.643 7.32 8.793 13.607 9.621 6.329.836 11.271-1.316 15.597-5.643l47.456-47.457c4.978-4.977 6.945-10.697 4.978-17.586l-82.296-288.389 59.732-59.739c10.287-10.287 21.699-24.149 33.183-45.134 5.777-10.542 10.032-20.886 12.942-31.194 5.722-20.218 3.258-44.07-12.608-59.73zm-59.4 110.176l-67.039 67.372c-5.628 5.657-6.811 11.122-4.977 17.586l81.637 288.388-22.563 22.238L403.438 292.89c-2.98-5.643-7.299-8.963-12.941-9.621-6.301-1.331-11.611.325-16.263 4.977l-141.37 141.37c-2.987 2.986-4.644 6.973-5.643 11.949l-3.32 95.904-22.896 23.236-41.48-98.566c-1.331-4.645-4.553-8.184-9.629-10.287L51.338 411.03l23.229-22.895 95.578-3.654c5.643-.99 9.622-2.654 12.276-5.309l141.37-141.371c4.651-4.645 6.308-9.954 4.984-16.262-.666-5.643-3.986-9.954-9.629-12.942L90.829 87.47l22.231-22.238 288.389 81.637c6.464 1.833 11.951.666 17.587-4.977l28.545-28.539 26.217-25.884 11.278-11.285 1.331-.666c27.873-23.895 55.088-38.16 72.016-38.16 5.969 0 9.954 1.324 11.611 3.979 18.917 18.585-21.099 72.484-32.851 84.293z"/>\n\t\t</svg>\n\t\t',symbols:'\n\t\t<svg style="max-height:18px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 511.626 511.626" fill="gray">\n\t\t<path d="M475.366 71.949c-24.175-23.606-57.575-35.404-100.215-35.404-11.8 0-23.843 2.046-36.117 6.136-12.279 4.093-23.702 9.615-34.256 16.562-10.568 6.945-19.65 13.467-27.269 19.556a263.828 263.828 0 0 0-21.696 19.414 264.184 264.184 0 0 0-21.698-19.414c-7.616-6.089-16.702-12.607-27.268-19.556-10.564-6.95-21.985-12.468-34.261-16.562-12.275-4.089-24.316-6.136-36.116-6.136-42.637 0-76.039 11.801-100.211 35.404C12.087 95.55 0 128.286 0 170.16c0 12.753 2.24 25.891 6.711 39.398 4.471 13.514 9.566 25.031 15.275 34.546 5.708 9.514 12.181 18.792 19.414 27.834 7.233 9.041 12.519 15.272 15.846 18.698 3.33 3.426 5.948 5.903 7.851 7.427L243.25 469.938c3.427 3.426 7.614 5.144 12.562 5.144s9.138-1.718 12.563-5.144l177.87-171.31c43.588-43.58 65.38-86.406 65.38-128.472.001-41.877-12.085-74.61-36.259-98.207zm-53.961 199.846L255.813 431.391 89.938 271.507C54.344 235.922 36.55 202.133 36.55 170.156c0-15.415 2.046-29.026 6.136-40.824 4.093-11.8 9.327-21.177 15.703-28.124 6.377-6.949 14.132-12.607 23.268-16.988 9.141-4.377 18.086-7.328 26.84-8.85 8.754-1.52 18.079-2.281 27.978-2.281 9.896 0 20.557 2.424 31.977 7.279 11.418 4.853 21.934 10.944 31.545 18.271 9.613 7.332 17.845 14.183 24.7 20.557 6.851 6.38 12.559 12.229 17.128 17.559 3.424 4.189 8.091 6.283 13.989 6.283 5.9 0 10.562-2.094 13.99-6.283 4.568-5.33 10.28-11.182 17.131-17.559 6.852-6.374 15.085-13.222 24.694-20.557 9.613-7.327 20.129-13.418 31.553-18.271 11.416-4.854 22.08-7.279 31.977-7.279s19.219.761 27.977 2.281c8.757 1.521 17.702 4.473 26.84 8.85 9.137 4.38 16.892 10.042 23.267 16.988 6.376 6.947 11.612 16.324 15.705 28.124 4.086 11.798 6.132 25.409 6.132 40.824-.002 31.977-17.89 65.86-53.675 101.639z"/>\n\t\t</svg>\n\t\t'},active:1}},methods:{onSelect:function(e){this.active=e;var t=this.categories[e];this.$emit("select",t)}},template:'<div class="emoji-picker-categories"> <div :class="[\'category\', { active: index=== active }]" v-for="(categorie, index) in categories" :key="index" @click="onSelect(index)" v-html="icons[categorie.icon]"> </div> </div>'}),window.$app.defineComponent("component","vue-component-emoji-picker-list",{props:{data:{type:Object,required:!0},category:{type:String}},methods:{onSelect:function(e){this.$emit("select",e)}},watch:{data:function(){this.$refs["container-emoji"].scrollTop=0},category:function(e){if(this.continuousList){var t=this.$refs[e][0].offsetTop-80;this.$refs["container-emoji"].scrollTop=t}}},template:'<div class="emoji-picker-list"> <div ref="container-emoji" class="container-emoji"> <div class="grid-emojis"> <span class="emoji" v-html="emoji" v-for="(emoji, index) in data[this.category]" :key="index" @click="onSelect(emoji)"/> </div> </div> </div>'}),window.$app.defineComponent("component","vue-component-emoji-picker",{props:{value:Object,emojisByRow:{type:Number,default:5},continuousList:{type:Boolean,default:function(){return!1}}},data:function(){return{mapEmojis:{},category:"Peoples",filterEmoji:"",show:!1,inited:!1,editor:null}},computed:{emojis:function(){return this.mapEmojis}},watch:{show:function(e){this.inited||this.editor[0].focus(),this.inited|=e}},created:function(){this.mapperData(),$mx(document.body).on("click",this.onMouseDown)},mounted:function(){this.editor=$mx(this.$refs.root).find("textarea,input")},methods:{onMouseDown:function(e){e.target.closest(".emoji-picker-container")&&-1==["TEXTAREA","INPUT"].indexOf(e.target.tagName)||(this.show=!1)},onChangeCategory:function(e){this.category=e.name,this.$emit("changeCategory",this.category)},onSelectEmoji:function(e){this.updateFrequenty(e);var t=this.editor[0];if(document.selection)t.focus(),document.selection.createRange().text=e,t.focus();else if(t.selectionStart||"0"==t.selectionStart){var i=t.selectionStart,n=t.selectionEnd,s=t.scrollTop;t.value=t.value.substring(0,i)+e+t.value.substring(n,t.value.length),t.focus(),t.selectionStart=i+e.length,t.selectionEnd=i+e.length,t.scrollTop=s}else t.value+=e,t.focus();this.$emit("input",t.value)},updateFrequenty:function(e){var t=this.mapEmojis.Frequenty,i=t.indexOf(e);-1!=i&&t.splice(i,1),t.unshift(e),this.mapEmojis.Frequenty=t=t.slice(0,40),Storage.set("emoji.frequenty",t)},mapperData:function(){var e={Frequenty:Storage.get("emoji.frequenty",[]),Peoples:["😀","😃","😄","😁","😆","😅","😂","🤣","😌","😊","😇","🙂","🙃","😉","😌","😍","😘","😗","😙","😚","😋","😜","😝","😛","🤑","🤗","🤓","😎","🤡","🤠","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","😤","😠","😡","😶","😐","😑","😯","😦","😧","😮","😲","😵","😳","😱","😨","😰","😢","😥","🤤","😭","😓","😪","😴","🙄","🤔","🤥","😬","🤐","🤢","🤧","😷","🤒","🤕","😈","👿","👹","👺","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","👐","🙌","👏","🙏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🤘","👌","👈","👉","👆","👇","☝️","✋","🤚","🖐","🖖","👋","🤙","💪","🖕","✍️","🤳","💅","💍","💄","💋","👄","👅","👂","👃","👣","👁","👀","🗣","👤","👥","👶","👦","👧","👨","👩","👱‍♀","👱","👴","👵","👲","👳‍♀","👳","👮‍♀","👮","👷‍♀","👷","💂‍♀","💂","👩‍⚕","👨‍⚕","👩‍🌾","👨‍🌾","👩‍🍳","👨‍🍳","👩‍🎓","👨‍🎓","👩‍🎤","👨‍🎤","👩‍🏫","👨‍🏫","👩‍🏭","👨‍🏭","👩‍💻","👨‍💻","👩‍💼","👨‍💼","👩‍🔧","👨‍🔧","👩‍🔬","👨‍🔬","👩‍🎨","👨‍🎨","👩‍🚒","👨‍🚒","👩‍🚀","👨‍🚀","🤶","🎅","👸","🤴","👰","🤵","👼","🤰","🙇‍♀","🙇","💁","💁‍♂","🙅","🙅‍♂","🙆","🙆‍♂","🙋","🙋‍♂","🤦‍♀","🤦‍♂","🤷‍♀","🤷‍♂","🙎","🙎‍♂","🙍","🙍‍♂","💇","💇‍♂","💆","💆‍♂","🕴","💃","🕺","👯","👯‍♂","🚶‍♀","🚶","🏃‍♀","🏃","👫","👭","👬","💑","👩‍❤️‍👩","👨‍❤️‍👨","💏","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👪","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","👚","👕","👖","👔","👗","👙","👘","👠","👡","👢","👞","👟","👒","🎩","🎓","👑","⛑","🎒","👝","👛","👜","💼","👓","🕶","🌂","☂️"],Nature:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🐛","🦋","🐌","🐚","🐞","🐜","🕷","🕸","🐢","🐍","🦎","🦂","🦀","🦑","🐙","🦐","🐠","🐟","🐡","🐬","🦈","🐳","🐋","🐊","🐆","🐅","🐃","🐂","🐄","🦌","🐪","🐫","🐘","🦏","🦍","🐎","🐖","🐐","🐏","🐑","🐕","🐩","🐈","🐓","🦃","🕊","🐇","🐁","🐀","🐿","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🌱","🌿","☘️","🍀","🎍","🎋","🍃","🍂","🍁","🍄","🌾","💐","🌷","🌹","🥀","🌻","🌼","🌸","🌺","🌎","🌍","🌏","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌚","🌝","🌞","🌛","🌜","🌙","💫","⭐️","🌟","✨","⚡️","🔥","💥","☄","☀️","🌤","⛅️","🌥","🌦","🌈","☁️","🌧","⛈","🌩","🌨","☃️","⛄️","❄️","🌬","💨","🌪","🌫","🌊","💧","💦","☔️"],Foods:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍈","🍒","🍑","🍍","🥝","🥑","🍅","🍆","🥒","🥕","🌽","🌶","🥔","🍠","🌰","🥜","🍯","🥐","🍞","🥖","🧀","🥚","🍳","🥓","🥞","🍤","🍗","🍖","🍕","🌭","🍔","🍟","🥙","🌮","🌯","🥗","🥘","🍝","🍜","🍲","🍥","🍣","🍱","🍛","🍚","🍙","🍘","🍢","🍡","🍧","🍨","🍦","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🥛","🍼","☕️","🍵","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🍾","🥄","🍴","🍽"],Activity:["⚽️","🏀","🏈","⚾️","🎾","🏐","🏉","🎱","🏓","🏸","🥅","🏒","🏑","🏏","⛳️","🏹","🎣","🥊","🥋","⛸","🎿","⛷","🏂","🏋️‍♀️","🏋","🤺","🤼‍♀","🤼‍♂","🤸‍♀","🤸‍♂","⛹️‍♀️","⛹","🤾‍♀","🤾‍♂","🏌️‍♀️","🏌","🏄‍♀","🏄","🏊‍♀","🏊","🤽‍♀","🤽‍♂","🚣‍♀","🚣","🏇","🚴‍♀","🚴","🚵‍♀","🚵","🎽","🏅","🎖","🥇","🥈","🥉","🏆","🏵","🎗","🎫","🎟","🎪","🤹‍♀","🤹‍♂","🎭","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🎻","🎲","🎯","🎳","🎮","🎰"],Places:["🚗","🚕","🚙","🚌","🚎","🏎","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🚲","🛵","🏍","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","🚁","🛩","✈️","🛫","🛬","🚀","🛰","💺","🛶","⛵️","🛥","🚤","🛳","⛴","🚢","⚓️","🚧","⛽️","🚏","🚦","🚥","🗺","🗿","🗽","⛲️","🗼","🏰","🏯","🏟","🎡","🎢","🎠","⛱","🏖","🏝","⛰","🏔","🗻","🌋","🏜","🏕","⛺️","🛤","🛣","🏗","🏭","🏠","🏡","🏘","🏚","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛","⛪️","🕌","🕍","🕋","⛩","🗾","🎑","🏞","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙","🌃","🌌","🌉","🌁"],Objects:["⌚️","📱","📲","💻","⌨️","🖥","🖨","🖱","🖲","🕹","🗜","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽","🎞","📞","☎️","📟","📠","📺","📻","🎙","🎚","🎛","⏱","⏲","⏰","🕰","⌛️","⏳","📡","🔋","🔌","💡","🔦","🕯","🗑","🛢","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🔧","🔨","⚒","🛠","⛏","🔩","⚙️","⛓","🔫","💣","🔪","🗡","⚔️","🛡","🚬","⚰️","⚱️","🏺","🔮","📿","💈","⚗️","🔭","🔬","🕳","💊","💉","🌡","🚽","🚰","🚿","🛁","🛀","🛎","🔑","🗝","🚪","🛋","🛏","🛌","🖼","🛍","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","✉️","📩","📨","📧","💌","📥","📤","📦","🏷","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","📊","📈","📉","🗒","🗓","📆","📅","📇","🗃","🗳","🗄","📋","📁","📂","🗂","🗞","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🔗","📎","🖇","📐","📏","📌","📍","✂️","🖊","🖋","✒️","🖌","🖍","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],Symbols:["❤️","💛","💚","💙","💜","🖤","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈️","♉️","♊️","♋️","♌️","♍️","♎️","♏️","♐️","♑️","♒️","♓️","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚️","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕️","🛑","⛔️","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗️","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯️","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿️","🅿️","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","▶️","⏸","⏯","⏹","⏺","⏭","⏮","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","💲","💱","™️","©️","®️","〰️","➰","➿","🔚","🔙","🔛","🔝","🔜","✔️","☑️","🔘","⚪️","⚫️","🔴","🔵","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾️","◽️","◼️","◻️","⬛️","⬜️","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","👁‍🗨","💬","💭","🗯","♠️","♣️","♥️","♦️","🃏","🎴","🀄️","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],Flags:["🏳️","🏴","🏁","🚩","🏳️‍🌈","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇶","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇨🇻","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇰","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇲🇵","🇰🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇸🇧","🇸🇴","🇿🇦","🇬🇸","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇸🇩","🇸🇷","🇸🇿","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🇺🇸","🇻🇮","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]};this.mapEmojis=e}},beforeDestroy:function(){delete this.mapEmojis},template:'<div class="emoji-picker-container" ref="root"> <slot></slot> <svg viewBox="0 0 24 24" @click="show = !show" xmlns="http://www.w3.org/2000/svg" class="emoji-picker-invoker is-hidden-mobile"><path d="M0 0h24v24H0z" fill="none"></path> <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></svg> <div class="emoji-picker-container-popup is-hidden-mobile" :class="{\'is-hidden\': !show}" v-if="inited"> <vue-component-emoji-picker-categories @select="onChangeCategory($event)"/> <vue-component-emoji-picker-list :data="emojis" :category="category" :filter="filterEmoji" :emojisByRow="emojisByRow" :continuousList="continuousList" @select="onSelectEmoji($event)"/> </div>'}),window.$app.defineComponent("component","vue-component-filterbox",{data:function(){return{isFilterVisible:!1,dropdown:"",action:"",hash:"",hashEmpty:"",filteredTags:[],currentTag:"",isFetchingTags:!1}},props:{value:Object,allowTags:Object,tagsFetch:Function,isVisible:{type:Boolean,default:!0},selected:Object,disabled:Boolean,withDropdown:{type:Boolean,default:!1},withQuery:{type:Boolean,default:!0},withFilters:{type:Boolean,default:!1},withButtons:{type:Boolean,default:!1},mode:{type:String,default:"table"},showToolbar:Boolean},mounted:function(){this.hashEmpty=this.hash=this.flatten(this.value)},computed:{hasFilter:function(){return this.hashEmpty!=this.hash},placeholder:function(){return this.currentTag?this.$gettext("Значение"):this.$gettext("Поиск")},tagAllowNew:function(){return!!this.currentTag},inputIcon:function(){return this.currentTag?"equals":"search"},tagsKeys:function(){return _.map(this.value.tags,function(e){return e.split(":")[0]})}},watch:{value:{handler:_.debounce(function(){var e=this.flatten(this.value);this.currentTag||(this.$emit("input",this.value),this.$emit("filter",this.value)),this.hash=e},500),deep:!0}},methods:{flatten:function(e){var i=this;return _.map(e,function(e,t){return null===e&&(e=""),_.isObject(e)&&_.isPlainObject(e)?i.flatten(e):"query"==t?"":e.toString()}).join("|")},onDropdown:function(){var e=this;this.dropdown&&(this.$emit("dropdown",this.dropdown),Vue.nextTick(function(){e.dropdown=null}))},onAction:function(){var e=this;this.action&&(this.$emit("action",this.action),Vue.nextTick(function(){e.action=null}))},tagTyping:function(t){var i=this;this.currentTag?this.tagsFetch&&(this.isFetchingTags=!0,this.tagsFetch(this.currentTag,t,function(e){i.filteredTags=e,i.isFetchingTags=!1})):(this.filteredTags=this.allowTags.filter(function(e){return 0<=e.toString().toLowerCase().indexOf(t.toLowerCase())&&-1==i.tagsKeys.indexOf(e)}),this.filteredTags.length&&""!=t.trim()||(this.value.query=t))},tagInput:function(){return!1},tagBeforeAdding:function(e){var t=this;return this.currentTag?(this.currentTag="",this.value.tags.push(this.value.tags.pop()+" : "+e),!(this.filteredTags=[])):0<=this.allowTags.indexOf(e)&&(this.currentTag=e,this.filteredTags=[],this.$nextTick(function(){t.value.query=""}),!0)},tagRemove:function(e){e.split(":")[0]==this.currentTag&&(this.currentTag="",this.filteredTags=[])}},template:'<div class="table-toolbar-container" :class="{\'is-mode-standalone\': mode== \'standalone\', \'is-mode-table\': mode== \'table\'}"> <div class="table-toolbar container" :class="{disabled: disabled}"> <div v-if="showToolbar" class="is-action-row"> <slot name="toolbar"></slot> </div> <div v-else> <div v-if="selected && selected.length && !showToolbar"> <div class="row row-small is-action-row" v-if="isVisible || hasFilter || value"> <div class="col-md-2 col-sm-3 col-xs"> <b-dropdown class="is-fullwidth" v-model="action" @input="onAction"> <button class="button is-dark is-fullwidth" slot="trigger" style="justify-content: space-between"> <span>{{\'Действие\'|gettext}}</span> <b-icon icon="angle-down"></b-icon> </button> <slot name="actions"></slot> </b-dropdown> </div> <div class="col-xs has-text-grey-light" style="align-self: center" v-if="selected"> {{\'Выбрано всего\'|gettext}}: {{selected.length|number}} </div> </div> </div> <div class="row row-small is-query-row" v-if="!(selected && selected.length) && !showToolbar && (isVisible || hasFilter || value)"> <div class="col-xs" v-if="withQuery"> <b-taginput v-if="allowTags" v-model="value.tags" class="is-query" :class="{\'is-editing\': currentTag}" attached expanded autocomplete slot="trigger" role="button" :data="filteredTags" :allow-new="tagAllowNew" :icon="inputIcon" :placeholder="placeholder" @typing="tagTyping" @input="tagInput" @remove="tagRemove" :before-adding="tagBeforeAdding" :loading="isFetchingTags"></b-taginput> <b-input v-else type="search" icon="search" v-model="value.query" class="is-query" :placeholder="placeholder" expanded slot="trigger" role="button"></b-input> </div> <div class="col-xs col-shrink" v-if="withFilters"> <a class="button is-clear is-fullwidth" style="border:0" @click="isFilterVisible = !isFilterVisible"><i class="fa-filter" :class="{fas: isFilterVisible, fa: !isFilterVisible, \'has-text-grey-light\': !hasFilter, \'has-text-primary\': hasFilter}"></i></a> </div> <div class="col-xs col-shrink" v-if="withDropdown"> <b-dropdown v-model="dropdown" @input="onDropdown" position="is-bottom-left"> <button class="button is-light is-fullwidth" slot="trigger"><i class="fa fa-ellipsis-h"></i></button> <slot name="dropdown"></slot> </b-dropdown> </div> <div class="col-xs" :class="{\'col-shrink\': withQuery}" v-if="withButtons"> <slot name="buttons"></slot> </div> </div> </div> </div> <div class="container is-filters" v-if="isFilterVisible && (!selected || !selected.length) && !showToolbar" :class="{disabled: disabled}"> <div> <slot name="filters"></slot> </div> </div> </div>'}),window.$app.defineComponent("component","vue-component-font-chooser",{data:function(){return{fonts:_.sortBy(_.map(globalFonts,function(e,t){return{i:t,f:e}}),"f"),globalFonts:globalFonts}},props:{value:Number,view:{type:String,default:"letter"},fullwidth:Boolean},methods:{onAction:function(e){this.value=e,this.$emit("input",this.value)},activeChange:function(e){$mx("html").toggleClass("is-dropdown-opened",e)}},template:'<b-dropdown v-model="value" @input="onAction" @active-change="activeChange" position="is-bottom-left" :class="{\'is-fullwidth\': fullwidth}"> <button class="button is-default is-fullwidth" style="justify-content:space-between" slot="trigger"><span :style="{\'font-family\': globalFonts[value]}"><span v-if="view == \'letter\'">Aa</span><span v-if="view == \'name\'">{{globalFonts[value]}}</span></span><i class="fal fa-chevron-down has-ml-1"></i></button> <b-dropdown-item :value="v.i" v-for="v in fonts"><span :style="{\'font-family\': v.f}"><span style="width:2rem;display: inline-block;">Aa</span><span class="has-text-grey">{{v.f}}</span></span></b-dropdown-item> </b-dropdown>'}),window.$app.defineComponent("component","vue-component-form-blocks",{watch:{value:function(){this.$emit("input",this.value)}},props:{value:Object,variants:Object,disabled:{type:Boolean,default:!1}},methods:{onRemove:function(e){var t=this;this.$confirm(this.$gettext("Вы уверены что хотите удалить это поле?"),"is-danger").then(function(){t.value.splice(e,1)})},openBlock:function(e){this.$set(this.value[e],"opened",!this.value[e].opened)}},template:'<sortable-list class="form-fields-item-list" lockAxis="y" v-model="value" use-drag-handle> <sortable-item v-for="(f, index) in value" class="form-fields-item" :index="index" :key="index" :item="f" :disabled="disabled"> <div class="form-fields-item" :class="{in: f.opened}"> <div class="form-fields-item-title" @click="openBlock(index)"> <div v-sortable-handle class="form-fields-item-handle"></div> <a class="is-pulled-right has-text-danger" @click.stop="onRemove(index)" :class="{disabled: disabled}"><i class="fa fa-trash-alt"></i></a> <span><span v-if="f.title">{{ f.title }}</span><span v-else>{{\'Без названия\'|gettext}}</span><sup class="required" v-if="f.required">*</sup></span> </div> <div class="form-fields-item-options"> <div class="field"> <label>{{\'Название поля\'|gettext}}</label> <b-input type="text" v-model="f.title" :disabled="disabled"></b-input> </div> <div class="field"> <label>{{\'Описание поля\'|gettext}}</label> <b-input type="text" v-model="f.text" :disabled="disabled"></b-input> </div> <b-field :label="\'Варианты\'|gettext" v-if="f.type_id == 8 || f.type_id == 9"> <b-input type="textarea" v-model="f.variants" :disabled="disabled"></b-input> </b-field> <div class="level"> <div class="level-left"> <div class="level-item"><b-checkbox v-model="f.required" :disabled="disabled">{{\'Обязательное поле\'|gettext}}</b-checkbox></div> <div class="level-item" v-if="f.type_id == 10"><b-checkbox v-model="f.default" :disabled="disabled">{{\'Выбрано по умолчанию\'|gettext}}</b-checkbox></div> </div> <div class="level-right"> <div class="level-item has-text-grey-light">{{\'Тип\'|gettext}}: {{variants.fields_types[f.type_id]}}</div> </div> </div> </div> </div> </sortable-item> </sortable-list>'}),window.$app.defineComponent("component","vue-component-link-editor",{data:function(){return{isFetchingProduct:!1,isFetchingCollection:!1,autocompleteProducts:[],autocompleteCollections:[]}},props:["values","variants","info"],methods:{asyncAutocompleteProduct:_.debounce(function(){var t=this;this.values.product&&""!=this.values.product.trim()?(this.isFetchingProduct=!0,this.$api.get("products/search",{query:this.values.product}).then(function(e){t.autocompleteProducts=e.response.products.search,t.isFetchingProduct=!1})):this.autocompleteProducts=[]},500),asyncAutocompleteCollection:_.debounce(function(){var t=this;this.values.collection&&""!=this.values.collection.trim()?(this.isFetchingCollection=!0,this.$api.get("products/collections/search",{query:this.values.collection}).then(function(e){t.autocompleteCollections=e.response.collections.search,t.isFetchingCollection=!1})):this.autocompleteCollection=[]},500),onSelectProduct:function(e){this.values.product=e.title},onSelectCollection:function(e){this.values.collection=e.collection}},template:'<div> <label class="label" v-if="$account.tariff == \'business\'">{{\'Действие\'|gettext}}</label> <label class="label" v-else>{{\'Открыть сайт\'|gettext}}</label> <div class="row row-small"> <div class="col-xs-12 col-sm-4 has-xs-mb-3"> <b-select v-model="values.type" placeholder="-- Действие --" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.link_type" :value="k">{{v}}</option> </b-select> </div> <div class="col-xs-12 col-sm link-editor-place"> <div v-if="values.type == \'link\'"><input type=\'text\' v-model="values.link" class=\'input\' placeholder=\'http://\' autocorrect="off" autocapitalize="none" :disabled="info.is_readonly"></div> <mx-phone v-if="values.type == \'phone\'" v-model="values.phone" :disabled="info.is_readonly"></mx-phone> <div v-if="values.type == \'sms\'"> <mx-phone v-model="values.sms" :disabled="info.is_readonly" class="has-mb-1"></mx-phone> <input type="text" maxlength="140" :disabled="info.is_readonly" class="input" v-model="values.sms_text" :placeholder="\'Текст-шаблон сообщения\'|gettext"> </div> <div v-if="values.type == \'email\'"> <input type=\'text\' v-model="values.email" class=\'input has-mb-1\' placeholder=\'example@email.com\' autocorrect="off" autocapitalize="off" spellcheck="false" :disabled="info.is_readonly"> <input type="text" maxlength="140" :disabled="info.is_readonly" class="input" v-model="values.email_subject" :placeholder="\'Тема письма\'|gettext"> </div> <div v-if="values.type == \'product\'"><b-autocomplete v-model="values.product" :data="autocompleteProducts" :placeholder="\'Начните вводить название товара\'|gettext" field="product" :loading="isFetchingProduct" @input="asyncAutocompleteProduct" @select="onSelectProduct" :disabled="info.is_readonly"></b-autocomplete></div> <div v-if="values.type == \'collection\'"><b-autocomplete v-model="values.collection" :data="autocompleteCollections" :placeholder="\'Начните вводить название коллекции\'|gettext" field="collection" :loading="isFetchingCollection" @input="asyncAutocompleteCollection" @select="onSelectCollection" :disabled="info.is_readonly"></b-autocomplete></div> <div v-if="values.type == \'page\'"> <b-select v-model="values.link_page_id" :disabled="info.is_readonly" expanded> <option :value="null">{{\'-- Нет страницы --\'|gettext}}</option> <option v-for="(v, k) in variants.link_page_id" :value="k" :key="k">{{v}}</option> </b-select> </div> </div> </div> </div>'}),window.$app.defineComponent("component","vue-component-locale-change",{computed:{currentLocale:function(){return window.locales[window.i18n.locale]}},template:'<div> <a class=\'langs langs-button\' href=\'#\' data-toggle="tooltip" data-placement="top" data-trigger=\'click\' data-html=\'#langsMenu\' data-arrow=\'true\' data-theme=\'light\'><div class="iti__flag iti__flag-box" :class="\'iti__\'+currentLocale.flag"></div> {{currentLocale.title}}</a> <div id=\'langsMenu\' class="is-hidden"> <a v-for="(f, lang) in window.locales" class=\'langs tooltip-menu\' :class="{\'is-active\': i18n.locale == lang}" onclick="changeLocaleApp(event)" :data-multilanguage="f.multilanguage" :data-current-locale="i18n.locale" :data-lang="lang" :data-zone="f.zone"><div class="iti__flag iti__flag-box" :class="\'iti__\'+f.flag"></div> {{f.title}}</a> </div> </div>'}),window.$app.defineComponent("component","vue-component-pictures",{data:function(){return{uploading:0,uploadUrl:"/pictures/upload",maxFilesize:this.$account.limits.upload_max_filesize,dropFiles:[]}},computed:{maxSizeBytes:function(){if(this.maxSize){var e=this.maxFilesize.match(/([0-9]+)([MK])/);return e[1]*("M"==e[2]?1048576:1024)}return this.maxFilesize}},props:{value:Object,disabled:{type:Boolean,default:!1},updatable:Boolean,multiple:Boolean,buttonTitle:{type:String,default:"Добавить"},buttonIcon:{type:String,default:"fa fas fa-camera"},alwaysDeleteButton:Boolean,classContainer:{type:String,default:""},styleContainer:String,styleOuterContainer:String,maxSize:{type:Number,defaiult:1080}},watch:{value:function(){this.$emit("input",this.value)}},methods:{prepareStyle:function(e){return"background-image:"+(null==e||null!=e.progress||null==e.link?"none;":"url("+e.link+");")+this.styleContainer},deletePicture:function(e){var t=this;this.value?this.$confirm(this.$gettext("Вы уверены что хотите удалить эту картинку?"),"is-danger").then(function(){t.multiple?t.value.splice(e,1):t.value=null,t.$emit("delete",{index:e,empty:!1})}):this.$emit("delete",{index:e,empty:!0})},dropFilesChanged:function(a){var o=this;if(window.File&&window.FormData){var r=[],e=Array.isArray(this.dropFiles)?this.dropFiles:[this.dropFiles];_.each(e,function(e,t){if(o.maxSizeBytes&&e.size>o.maxSizeBytes)r.push(o.$gettext("Максимальный размер файла: %s").replace("%s",o.maxFilesize));else if(/\.(jpe?g|png|gif)$/i.test(e.name)){var i=new FormData;i.append("file",e),a&&null!=o.value.picture_id&&i.append("picture_id",o.value.picture_id);var n={progress:0},s=o.multiple?o.value.length:0;o.multiple?o.value.push(n):o.value=n,o.uploading++,o.$emit("startUploading",o.uploading),$mx.request({url:o.uploadUrl+(o.maxSize?"?size="+o.maxSize:""),method:"post",data:i}).then(function(e){var t=e.data;o.uploading--,o.$emit("stopUploading",o.uploading),"success"==t.result?(t.response.link="//"+o.$account.storage_domain+"/p/"+t.response.filename,o.multiple?o.$set(o.value,s,t.response):o.value=t.response,o.$emit("upload")):"error"==t.result&&o.$alert(t.error,"is-danger")}).catch(function(){o.uploading--,o.$emit("stopUploading",o.uploading),o.multiple?o.value.splice(s,1):o.value=null,r.push(o.$gettext("Во время загрузки картинки возникла ошибка"))})}else r.push(o.$gettext("Недопустимый формат файла"))}),this.dropFiles=[],r.length&&this.$alert(_.uniq(r).join("<br>"),"is-danger")}else alert("The File APIs are not fully supported in this browser")}},template:'<div :class="{\'pictures-sortable-list\': multiple}"> <sortable-list v-model="value" style="position: relative;line-height: 0" axis="xy" use-drag-handle v-if="multiple"> <sortable-item v-for="(p, i) in value" class="upload-picture upload-picture-multiple" :index="i" :key="i" :item="p" :disabled="disabled || (uploading> 0)"> <div v-sortable-handle :style="prepareStyle(p)"> <b-loading :is-full-page="false" active="true" v-if="p.progress != undefined"></b-loading> </div> <button type="button" class="button is-danger is-small" @click.prevent.stop="deletePicture(i)" v-if="!disabled" :disabled="uploading> 0"><i class="fa fa-trash-alt"></i></button> </sortable-item><b-upload v-model="dropFiles" @input="dropFilesChanged(false)" class="upload-place" :class="{\'upload-picture-multiple\': multiple}" :multiple="multiple" drag-drop><span><i class="fa fas fa-camera"></i>{{\'Добавить\'|gettext}}</span></b-upload> </sortable-list> <div style="line-height: 0" v-else> <div class="upload-picture" v-if="value" @click="$emit(\'click\')"> <div class="upload-picture-inner" :style="styleOuterContainer"> <div class="picture-container" :class="classContainer" :style="prepareStyle(value)"> <b-loading :is-full-page="false" active="true" v-if="value.progress != undefined"></b-loading> </div> </div> <button type="button" class="button is-danger is-small" @click.prevent.stop="deletePicture" v-if="!disabled && (value || alwaysDeleteButton)"><i class="fa fa-trash-alt"></i></button> <b-upload v-model="dropFiles" @input="dropFilesChanged(true)" class="button is-small is-primary upload-place-update" :multiple="multiple" drag-drop v-if="updatable"> <span v-if="maxSize> 120"><i class="fa fas fa-arrow-up"></i>{{buttonTitle}}</span> <span v-else><i class="fa fas fa-arrow-up is-marginless"></i></span> </b-upload> </div> <div class="upload-picture" v-if="!value"> <b-upload v-model="dropFiles" @input="dropFilesChanged(false)" class="upload-place" :class="{\'upload-picture-multiple\': multiple}" :multiple="multiple" drag-drop> <span><i :class="buttonIcon"></i>{{buttonTitle}}</span> </b-upload> <button type="button" class="button is-danger is-small" @click.prevent.stop="deletePicture" v-if="!disabled && alwaysDeleteButton"><i class="fa fa-trash-alt"></i></button> </div> </div> </div>'}),window.$app.defineComponent("component","vue-component-qrcode",{data:function(){return{isLoading:!0}},props:["value"],mounted:function(){$mx.lazy("qrcode.js")},template:'<center> <div class="qrcode-init has-mb-2" :data-link=\'value\' data-target-link="#qrDownloadLink"> <div class="loading-overlay is-active"><div class="loading-icon"></div></div> </div> <a id=\'qrDownloadLink\' target=\'_blank\' download=\'taplink.png\' class="button is-primary disabled"><i class="fa fa-download"></i> {{\'Скачать файл\'|gettext}}</a> </center>'}),window.$app.defineComponent("component","vue-component-sortable-form-fields",{props:{value:{type:Object,default:[]},current:{type:Number,default:0}},methods:{updated:function(e){this.$emit("input",e)},sortStart:function(e){this.$emit("sortStart",e)},sortEnd:function(e){-1!=this.current&&(e.oldIndex>this.current?e.newIndex<=this.current&&this.current++:e.oldIndex<this.current?e.newIndex>=this.current&&this.current--:e.oldIndex==this.current&&(this.current=e.newIndex),this.$emit("update:current",this.current)),this.$emit("sortEnd",e)},openBlock:function(e){this.current=this.current==e?-1:e,this.$emit("update:current",this.current)}},template:'<sortable-list class="form-fields-item-list" lockAxis="y" v-model="value" use-drag-handle @sortEnd="sortEnd" @sortStart="sortStart" @input="updated"> <sortable-item v-for="(item, index) in value" class="form-fields-item" :index="index" :key="index" :item="item"> <div class="form-fields-item" :class="{in: current== index}"> <div class="form-fields-item-title" @click="openBlock(index)"> <div v-sortable-handle class="form-fields-item-handle"></div> <slot name="action" :index="index" :item="item"></slot> <slot name="title" :index="index" :item="item"></slot> </div> <div class="form-fields-item-options"> <slot name="form" :index="index" :item="item"></slot> </div> </div> </sortable-item> </sortable-list>'}),window.$app.defineComponent("component","vue-component-statistics",{data:function(){return{chart:null}},props:{data:Object,lineShow:Boolean,isFetching:Boolean,paddingTop:{type:Number,default:55},valueName:{type:String,default:"hits"},valueType:{type:String,default:"number"},period:String,period_back:Number,disabled:Boolean,title:String,titleSize:{type:Number,default:3},color:{type:String,default:"#94a7ff"}},mounted:function(){var a=this;$mx.lazy("charts.js",function(){var s=a.$getMonthsNames(),e={type:"line",data:{labels:_.map(a.data,function(e){return e.date}),datasets:[{fill:!0,backgroundColor:"rgba(255, 255, 255, .4)",borderColor:"rgba(255, 255, 255, .5)",pointRadius:0,borderWidth:2,data:_.map(a.data,function(e){return e[a.valueName]})}]},options:{line:{show:a.lineShow,value:a.period_back},aspectRatio:2.5,animation:{duration:0},legend:{display:!1},layout:{padding:{top:a.paddingTop}},tooltips:{mode:"index",intersect:!1,callbacks:{title:function(e,t){var i=t.labels[e[0].index];switch(a.period){case"day":return a.$date(i);case"week":return(n=i.split("-"))[1]+", "+n[0];default:var n=i.split("-");return s[n[1]-1]+", "+n[0]}},label:function(){return null},beforeBody:function(e){var t=e[0].yLabel;switch(a.valueType){case"decimal":return a.$decimal(t);case"currency":return a.$currency(t);default:return a.$number(t)}}}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}},t=a.$refs.chart.getContext("2d");a.chart=new Chart(t,e)})},destroyed:function(){this.chart&&this.chart.destroy()},watch:{period_back:function(){var e=this;this.chart&&this.lineShow&&this.$nextTick(function(){e.chart.options.line.value=e.period_back,e.chart.chart.update()})},data:function(){var t=this;this.chart&&this.$nextTick(function(){t.chart.options.line.value=t.period_back,t.chart.data.labels=_.map(t.data,function(e){return e.date}),t.chart.data.datasets[0].data=_.map(t.data,function(e){return e[t.valueName]}),t.chart.chart.update()})}},template:'<div class="chart vue-statistics-chart" :class="{disabled: disabled}" :style="{background: color}"> <div class="vue-statistics-title"> <h3 class="has-text-white has-text-centered" v-if="title && titleSize== 3">{{title}}</h3> <h4 class="has-text-white has-text-centered" v-if="title && titleSize== 4">{{title}}</h4> </div> <canvas ref=\'chart\' v-show="data && data.length"></canvas> <div class=\'chart-empty\' v-if="data.length == 0 "> <span v-if="isFetching"> <div class="has-mt-2">{{\'Загрузка данных\'|gettext}}</div> </span> <span v-else> <div class="has-mt-2">{{\'Недостаточно данных\'|gettext}}</div> </span> </div> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("component","vue-component-subdomain-field",{props:["value","domain","error","label","disabled","domains"],watch:{value:function(){this.$emit("input",this.value)},domain:function(){this.$emit("update:domain",this.domain)}},template:'<div class="field" :class="{\'has-error\': error}"> <label class="label" v-if="label">{{label}}</label> <div class="field has-addons is-marginless"> <b-input type="input" v-model="value" expanded placeholder="subdomain" :disabled="disabled"></b-input> <b-dropdown v-model="domain" position="is-bottom-left" aria-role="list" :disabled="disabled" v-if="domains"> <button class="button" slot="trigger">.{{domain}}<i class="fal fa-angle-down has-ml-1"></i></button> <b-dropdown-item aria-role="listitem" v-for="d in domains" :value="d">{{d}}</b-dropdown-item> </b-dropdown> <div class="control" v-else><span class="button is-static">.{{domain}}</span></div> </div> <p class="help" v-if="error">{{error}}</p> </div>'}),window.$app.defineComponent("component","vue-component-tariff-badge",{props:["value","theme"],template:'<span> <span class="tag is-danger" v-if="value == \'pro\'" style="background:#9d82da">pro</span> <span class="tag is-danger" v-if="value == \'business\'">business</span> <span class="tag" :class="{\'is-dark\': theme== \'dark\', \'is-default\': theme != \'dark\'}" v-if="value == \'basic\'">basic</span> </span>'}),window.$app.defineComponent("component","vue-component-vbar",{data:function(){return{dragging:{enable:!1,axis:"",offset:""},bars:{horizontal:{elm:"",parent:"",size:0},vertical:{elm:"",parent:"",size:0}},wrapperObj:{elm:"",scrollHeight:"",scrollWidth:"",scrollLeft:"",scrollTop:""},container:{elm:"",scrollHeight:"",scrollWidth:""}}},mounted:function(){addResizeListener(this.$refs.container,this.resize),addResizeListener(this.$refs.wrapperRef.children[0],this.resize),document.addEventListener("mousemove",this.onDrag),document.addEventListener("touchmove",this.onDrag),document.addEventListener("mouseup",this.stopDrag),document.addEventListener("touchend",this.stopDrag),this.getSizes()},beforeDestroy:function(){removeResizeListener(this.$refs.container,this.resize),removeResizeListener(this.$refs.wrapperRef.children[0],this.resize),document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("touchmove",this.onDrag),document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("touchend",this.stopDrag)},computed:{propWrapperSize:function(){return this.wrapper?this.wrapper:""},propBarVertical:function(){return this.vBar?this.vBar:""},propBarInternalVertical:function(){return this.vBarInternal?this.vBarInternal:""},propBarHorizontal:function(){return this.hBar?this.hBar:""},propBarInternalHorizontal:function(){return this.hBarInternal?this.hBarInternal:""},barSizeVertical:function(){if(this.bars.horizontal.size&&this.bars.vertical.size)return{height:"calc(100% - 16px)"}},barSizeHorizontal:function(){if(this.bars.horizontal.size&&this.bars.vertical.size)return{width:"calc(100% - 16px)"}},barInternalVertical:function(){var e=this.getBarInternal("Y");return{height:this.bars.vertical.size+"px",top:e+"px"}},barInternalHorizontal:function(){var e=this.getBarInternal("X");return{width:this.bars.horizontal.size+"px",left:e+"px"}},validationScrolls:function(){return this.bars.horizontal.size?this.bars.vertical.size?void 0:"overflowY: hidden":"overflowX: hidden"}},methods:{startScroll:function(){$mx("html").addClass("is-dragging")},stopScroll:function(){$mx("html").removeClass("is-dragging")},shadowStyle:function(e){return"background: linear-gradient(to "+("start"==e?"right":"left")+", "+this.shadowColor+" 0%, "+(this.shadowColorTransparent?this.shadowColorTransparent:this.shadowColor+"00")+" 100%)"},scroll:function(){this.getSizes(0,0)},resize:function(){this.getSizes()},getBarInternal:function(e){var t=void 0,i=void 0,n=void 0,s=void 0,a=void 0;return a=this.bars.horizontal.size&&this.bars.vertical.size?40:0,"X"===e?(t=this.wrapperObj.scrollLeft,i=this.wrapperObj.scrollWidth,n=this.bars.horizontal.size+a,s=this.container.scrollWidth):"Y"===e&&(t=this.wrapperObj.scrollTop,i=this.wrapperObj.scrollHeight,n=this.bars.vertical.size+a,s=this.container.scrollHeight),t/(i-s)*(s-n)},getCoordinates:function(e,t){var i=void 0,n=void 0,s=void 0,a=void 0,o=void 0;return"X"===t?(i=this.wrapperObj.scrollWidth,n=this.bars.horizontal.size,s=this.container.scrollWidth,a=this.container.elm.offsetLeft,o=e.clientX-this.dragging.offset):"Y"===t&&(i=this.wrapperObj.scrollHeight,n=this.bars.vertical.size,s=this.container.scrollHeight,a=this.container.elm.offsetTop-1.4*this.bars.vertical.size,o=e.clientY-this.dragging.offset),(i-s)*(o-a)/(s-n)},startDrag:function(e){$mx("html").addClass("is-dragging"),e.preventDefault(),e.stopPropagation();var t,i=(e=e.changedTouches?e.changedTouches[0]:e).target.getAttribute("data-axis"),n=e.target.getAttribute("data-drag-source"),s=void 0;"Y"===i?"bar"===n?s=e.explicitOriginalTarget.offsetTop+1.4*this.bars.vertical.size:"internal"===n&&(s=e.clientY-this.bars.vertical.elm.offsetTop):"X"===i&&("bar"===n?s=e.explicitOriginalTarget.offsetLeft+1.4*this.bars.horizontal.size:"internal"===n&&(s=e.clientX-this.bars.horizontal.elm.offsetLeft)),t=s,this.dragging={enable:!0,axis:i,offset:t}},scrollTo:function(e,t){var i=this.$refs.wrapperRef;i.scrollLeft=e+"px",i.scrollTop=t+"px",this.getSizes()},onDrag:function(e){if(this.dragging.enable){e.preventDefault(),e.stopPropagation(),e=e.changedTouches?e.changedTouches[0]:e;var t=this.$refs.wrapperRef;"X"===this.dragging.axis?t.scrollLeft=this.getCoordinates(e,"X"):"Y"===this.dragging.axis&&(t.scrollTop=this.getCoordinates(e,"Y")),this.getSizes()}},stopDrag:function(){this.dragging.enable&&($mx("html").removeClass("is-dragging"),this.dragging={enable:!1,axis:""})},getSizes:function(){var e=this.$refs.wrapperRef,t=this.$refs.container,i=this.$refs.verticalBar,n=this.$refs.verticalInternalBar,s=this.$refs.horizontalBar,a=this.$refs.horizontalInternalBar;this.wrapperObj={elm:e,scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},this.container={elm:t,scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth},this.bars.horizontal.elm=a,this.bars.horizontal.parent=s,this.bars.horizontal.size=24<this.wrapperObj.scrollWidth-this.container.scrollWidth&&this.wrapperObj.scrollWidth-this.container.scrollWidth!=0?this.container.scrollWidth/this.wrapperObj.scrollWidth*this.container.scrollWidth:0,this.bars.vertical.elm=n,this.bars.vertical.parent=i,this.bars.vertical.size=24<this.wrapperObj.scrollHeight-this.container.scrollHeight&&this.wrapperObj.scrollHeight-this.container.scrollHeight!=0?this.container.scrollHeight/this.wrapperObj.scrollHeight*this.container.scrollHeight:0}},props:["wrapper","vBar","vBarInternal","hBar","hBarInternal","shadow","shadowColor","shadowColorTransparent"],template:'<div id="vbar" :class="propWrapperSize"> <div class="bar--container" ref="container" @wheel="scroll" @touchmove="scroll" @touchstart="startScroll" @touchend="stopScroll"> <div class="bar--shadow bar--shadow-start" :style="shadowStyle(\'start\')" :data-axis="shadow" v-show="wrapperObj.scrollLeft> 0"></div> <div class="bar--shadow bar--shadow-end" :style="shadowStyle(\'end\')" :data-axis="shadow" v-show="wrapperObj.scrollLeft + container.scrollWidth != wrapperObj.scrollWidth"></div> <div class="bar--vertical" ref="verticalBar" v-show="bars.vertical.size" :style="barSizeVertical" :class="propBarVertical" @touchstart="startDrag" @mousedown="startDrag" data-axis="Y" data-drag-source="bar"> <div class="bar--vertical-internal" ref="verticalInternalBar" :style="barInternalVertical" :class="propBarInternalVertical" @touchstart="startDrag" @mousedown="startDrag" data-axis="Y" data-drag-source="internal"></div> </div> <div class="bar--horizontal" ref="horizontalBar" v-show="bars.horizontal.size" :style="barSizeHorizontal" :class="propBarHorizontal" @touchstart="startDrag" @mousedown="startDrag" data-axis="X" data-drag-source="bar"> <div class="bar--horizontal-internal" ref="horizontalInternalBar" :style="barInternalHorizontal" :class="propBarInternalHorizontal" @touchstart="startDrag" @mousedown="startDrag" data-axis="X" data-drag-source="internal"></div> </div> <div class="bar--wrapper" ref="wrapperRef" :style="validationScrolls"> <slot></slot> </div> </div> </div>'}),window.$app.defineComponent("component","vue-component-video",{data:function(){return{player:null,handlerDOM:null}},props:["options"],watch:{handler:function(){this.init()},options:{handler:function(){this.init()},deep:!0}},computed:{handler:function(){return null!=this.options.handler?this.options.handler:"embeded"},link:function(){return new RegExp("[?|&]static=1","i").test(location.search)?this.options.embeded.replace("autoplay=1",""):this.options.embeded},sources:function(){return[{src:this.options.url,type:this.options.type}]}},beforeDestroy:function(){this.player&&this.player.dispose()},mounted:function(){this.init()},methods:{init:function(){var n=this,s=VideoHelper.getProvider(this.options,!1);if(s&&(null!=s.t?this.options.handler="player":(this.options.embeded=s.embeded(s.match),this.options.handler="embeded")),"player"==this.handler){var e=[];s.s&&e.push(s.s),$mx.lazy("//cdn.jsdelivr.net/npm/video.js@7.1.0/dist/video.min.js","videoplayer.css",function(){$mx.lazy(e,[],function(){n.handlerDOM=n.handler;var i=null;n.options.poster&&(i="//"+n.$account.storage_domain+"/p/"+n.options.poster.filename),n.$nextTick(function(){if(n.player)n.player.src(n.sources),n.player.poster(i);else{var e=[{src:n.options.url,type:"function"==typeof s.t?s.t(s.match[1]):s.t}],t={poster:i,controls:!0,autoplay:!1,controlBar:{volumePanel:{inline:!1}},sources:e};null!=s.techOrder&&(t.techOrder=s.techOrder),n.player=videojs(n.$refs.videoPlayer,t)}})})})}else this.handlerDOM=this.handler}},template:'<div> <div class="video-container" v-show="handlerDOM == \'embeded\'"> <iframe frameborder="0" :src="link" allowfullscreen="1" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" v-if="handlerDOM == \'embeded\'"></iframe> </div> <div class="video-container" v-show="handlerDOM == \'player\'"> <video ref="videoPlayer" class="video-js vjs-fill" v-if="handlerDOM == \'player\' || player"></video> </div> </div>'}),window.$app.defineComponent("pages","vue-pages-blocks-form-addons",{props:{disabled:{type:Boolean,default:!1},values:Object,variants:{type:Object,default:[]},block_id:Number,block_type_id:Number,loading:{type:Boolean,default:!1},addons:{type:Object,default:null},addonsLoadingEndpoint:{type:String,default:"pages/blocks/addons"},addons_values:Object,parent:Object},created:function(){var i=this;this.addonsLoadingEndpoint&&null==this.addons&&(this.loading=!0,this.$api.get(this.addonsLoadingEndpoint,{block_id:this.block_id,block_type_id:this.block_type_id}).then(function(e){if("success"==e.result){var t=e.response.pages.block;i.addons=t.addons,i.addons_values=t.addons_values,i.variants=t.variants,t.addons.phrases&&window.i18n.extend(t.addons.phrases),i.$emit("update:addons_values",i.addons_values)}i.loading=!1}).catch(function(){i.loading=!1}))},computed:{link:function(){return"/"+this.$router.currentRoute.params.page_id+"/addons/all/"}},methods:{loadEntry:function(e){return e="vue-addons-addon-"+e+"-entry",window.$app.loadComponent(e),e},getVariants:function(e){return null!=this.variants&&null!=this.variants.addons&&null!=this.variants.addons[e]?this.variants.addons[e]:{}}},template:'<section> <div v-if="addons && addons.addons_amount"> <div class="message is-info"> <div class="message-body"><slot name="message"></slot></div> </div> <div class="label-pro-container"> <div v-for="(f, addon_id) in addons.addons" v-if="f.addon_id != undefined" class="form-fields-item" :class="{in: (addons_values[addon_id] != undefined) && addons_values[addon_id].on, disabled: f.is_active == 0 || disabled}"> <div class="form-fields-item-title"> <span style="margin-left: 0"> <b-checkbox v-model="addons_values[addon_id].on" :disabled="f.is_active == 0 || disabled"><b>{{f.addon_title}}</b></b-checkbox> </span> </div> <div class="form-fields-item-options" v-if="f.is_has_options && (addons_values[addon_id] != undefined) && addons_values[addon_id].on && f.is_active != 0"> <component v-bind:is="loadEntry(f.addon_name)" :values="values" :addons="addons" :addon="f" :variants="getVariants(f.addon_name)" :options="addons_values[addon_id].options"></component> </div> </div> </div> </div> <div v-else class="has-pt-4 has-pb-4 has-text-centered" :class="{disabled: disabled}"> <div class="has-mb-2"><i class="fa fal fa-cog fa-5x has-text-grey-light" :class="{\'is-invisible\': loading}"></i></div> <div v-if="loading" class="has-text-grey">{{\'Загрузка данных\'|gettext}}</div> <div v-else><slot name="empty"></slot></div> <router-link v-if="!loading" :to="{path: link}" @click.native="parent.close()">{{\'Посмотреть доступные модули\'|gettext}}</router-link> </div> <b-loading :is-full-page="false" :active.sync="loading"></b-loading> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-form-background",{props:{value:Object,disabled:Boolean},watch:{value:function(e){this.checkValue(e)}},created:function(){this.checkValue(this.value)},methods:{checkValue:function(e){e.on||1!=_.size(e)||(this.value=Object.assign(this.$clone(e),this.getDefault()),this.$emit("input",this.value))},getDefault:function(){return{type:"solid",color1:this.$account.theme.bg.color1,color2:"",picture:null,size:"tile",repeat:"repeat",position:"0% 0%"}},prepareValues:function(){var e=this.$clone(this.value);return delete e.on,_.isEqual(e,this.getDefault())?{on:!1}:this.value}},template:'<div class="label-pro-container"> <div class="tag is-pro" v-if="!$auth.isAllowTariff(\'pro\')" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна<br>на pro тарифе\'|gettext">pro</div> <div :class="{disabled: disabled || !$auth.isAllowTariff(\'pro\')}"> <div class="has-mb-2"><mx-toggle v-model=\'value.on\' :title="\'Добавить фон к блоку\'|gettext" :disabled="disabled"></mx-toggle></div> <vue-component-background-editor v-model="value" :disabled="disabled || !value.on"></vue-component-background-editor> </div> </div>'}),window.$app.defineComponent("pages","vue-pages-blocks-form-design",{props:["values","info"],created:function(){var e=this.$account.theme;this.values.text||(this.values.text=e.link.color),this.values.bg||(this.values.bg=e.link.bg)},template:'<div class="label-pro-container"> <div class="tag is-pro" v-if="!$auth.isAllowTariff(\'pro\')" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна<br>на pro тарифе\'|gettext">pro</div> <div :class="{disabled: !$auth.isAllowTariff(\'pro\')}"> <div class="has-mb-2"><mx-toggle v-model=\'values.on\' :title="\'Свои настройки дизайна\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div v-if="values.on"> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.bg" :label="\'Цвет фона кнопки\'|gettext" :disabled="info.is_readonly" :colors="[$account.theme.link.bg]"></vue-component-colorpicker> </div> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.text" :label="\'Цвет текста кнопки\'|gettext" :disabled="info.is_readonly" :colors="[$account.theme.link.color]"></vue-component-colorpicker> </div> <slot></slot> </div> </div> </div>'}),window.$app.defineComponent("pages","vue-pages-blocks-form-modal",{data:function(){return{isUpdating:!1,isDeleting:!1,isFetching:!1,isFetchingBlockType:null,canDelete:!1,tabs:[],defaultsTabs:[],currentTab:"common",currentBlock:null,tariff:null,values:{},options:{},variants:{},bg:{on:!1},block:{title:null},permit:{},archives:[],info:{},types:[],typesKeys:[],isAnimatedTariff:!1,allowSave:!0,block_type_id:null}},created:function(){var t=this;if(this.block_id)this.fetchData(!0);else{this.isFetching=!0;for(var e=0;e<15;e++)this.types.push({icon:"<svg></svg>"});this.$api.get(["pages/blocks/types","pages/blocks/archives"]).then(function(e){t.types=e.response.pages.blocks.types,t.archives=e.response.pages.blocks.archives,t.isFetching=!1,t.defaultsTabs=t.tabs=t.archives.length?[{name:"common",title:t.$gettext("Стандартные блоки")},{name:"archives",title:t.$gettext("Из архива")}]:[],t.typesKeys=[],_.each(t.types,function(e){t.typesKeys[e.block_type_id]=e})})}},computed:{ratePlanLink:function(){return window.base_path_prefix+"/tariffs/"},isAllowTariff:function(){return this.$auth.isAllowTariff(this.tariff)}},props:["block_id","page_id"],mixins:[FormModel],methods:{fetchData:function(e){var i=this;this.isFetching=e,this.$api.get("pages/blocks/get",{block_id:this.block_id}).then(function(e){i.isFetching=!1;var t=e.response.pages.block;i.permit=t.permit,i.values=t.values,i.bg=t.bg,i.options=t.options,i.variants=t.variants,i.tariff=t.tariff,i.info=t.info,i.page_id=t.page_id,i.block_type_id=t.block_type_id,i.$auth.isAllowTariff(t.tariff)||(i.info.is_readonly=!0,i.canDelete=!0),i.currentBlock="vue-pages-blocks-"+t.block_type_name})},close:function(){this.$parent.close()},action:function(e,t){return this.$api.get("pages/blocks/action",{block_id:this.block_id,name:e,params:t},this)},chooseType:function(e){var i=this;this.isFetchingBlockType=e.block_type_id,this.$api.get("pages/blocks/info",{block_type_id:e.block_type_id}).then(function(e){i.isFetchingBlockType=null;var t=e.response.pages.block;i.variants=t.variants,i.values=t.defaults.values,i.bg={on:!1},i.options=t.defaults.options,i.block_type_id=t.block_type_id,i.info=t.info,i.tariff=t.tariff,i.$auth.isAllowTariff(t.tariff)||(i.info.is_readonly=!0),i.currentBlock="vue-pages-blocks-"+t.block_type_name})},back:function(){this.currentBlock=null,this.currentTab="common",this.tariff=null,this.tabs=this.defaultsTabs,this.info=[],this.values=[],this.variants={}},restoreBlock:function(e){var t=this;this.isUpdating=!0,this.$api.get("pages/blocks/restore",{block_id:e,page_id:this.page_id},this).then(function(e){t.isUpdating=!1,"success"==e.result&&t.$parent.close()}).catch(function(){t.isUpdating=!1})},onAction:function(e){switch(e){case"delete":this.deleteBlock("delete");break;case"archive":this.deleteBlock("archive");break;case"clone":this.cloneBlock()}},cloneBlock:function(){var t=this;this.isUpdating=!0,this.$api.get("pages/blocks/clone",{block_id:this.block_id},this.$refs.model).then(function(e){t.isUpdating=!1,"success"==e.result&&t.$parent.close()})},deleteBlock:function(e){var t=this;this.$confirm("delete"==e?this.$gettext("Вы уверены что хотите удалить этот блок?"):this.$gettext("Вы уверены что хотите отправить этот блок в архив?"),"delete"==e?"is-danger":"is-warning").then(function(){t.isDeleting=!0,t.$api.get("pages/blocks/"+e,{block_id:t.block_id},t.$refs.model).then(function(e){t.isDeleting=!1,"success"==e.result&&t.$parent.close()}).catch(function(){t.isDeleting=!1})})},save:function(){var t=this;this.isUpdating=!0;var e=this.$refs.model.prepareValues(),i=e.addons_values,n=this.$refs.bg.prepareValues();delete e.addons_values,this.$api.post("pages/blocks/set",{block_id:this.block_id,page_id:this.page_id,block_type_id:this.block_type_id,values:e,options:this.options,addons_values:i,bg:n},this.$refs.model).then(function(e){t.isUpdating=!1,"success"==e.result?t.$parent.close():null!=t.$refs.model.showErrors&&t.$refs.model.showErrors(e)}).catch(function(){t.isUpdating=!1})},scrollToTariff:function(){var e=this;if(!this.isAllowTariff){var t=this.$refs.tariffMessage;scrollIt(0,"y",$mx(t).closest(".modal")[0],400),this.isAnimatedTariff=!0,setTimeout(function(){e.isAnimatedTariff=!1},1e3)}}},template:'<div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title" v-if="block.title">{{block.title}}</p> <p class="modal-card-title" v-else-if="isFetching">{{\'Загрузка\'|gettext}}</p> <p class="modal-card-title" v-else>{{\'Добавить новый блок\'|gettext}}</p> <button class="modal-close is-large" @click="$parent.close()"></button> </header> <ul class="nav nav-tabs nav-tabs-scroll has-text-left" v-if="tabs.length"> <li v-for="(tab, index) in tabs" :class="{active: currentTab== tab.name}"><a @click="currentTab = tab.name">{{tab.title|gettext}}</a></li> </ul> <section class="message is-danger" style="flex-shrink: 0;flex-grow: 0" v-if="!isAllowTariff"> <div class="message-body" :class="{\'shake animated\': isAnimatedTariff}" ref="tariffMessage"><span v-if="tariff == \'pro\' || tariff== \'plus\'">{{\'Доступно на pro-тарифе\'|gettext}}</span><span v-if="tariff == \'business\'">{{\'Доступно на business-тарифе\'|gettext}}</span> <a :href=\'ratePlanLink\' target="_blank" class=\'is-pulled-right\'>{{\'Подробнее\'|gettext}} <i class="fa fa-angle-right" style="margin-left: 5px"></i></a></div> </section> <component v-bind:is="currentBlock" ref=\'model\' :values="values" :options="options" :variants="variants" :info="info" :block_id="block_id" :block_type_id="block_type_id" :block="block" :current-tab="currentTab" :tabs.sync="tabs" v-if="currentBlock" :parent="$parent" :allowSave.sync="allowSave"> <template> <section v-show="currentTab == \'system:background\'"> <vue-pages-blocks-form-background v-model="bg" ref="bg" :disabled="info.is_readonly"></vue-pages-blocks-form-background> </section> </template> </component> <section class="modal-card-body" v-if="!currentBlock && currentTab== \'common\'"> <div class="row row-small" style="margin-bottom: -1rem"> <div class="col-sm-4 col-xs-6 has-mb-2" v-for="f in types"><button @click="chooseType(f)" class="button is-block-button is-default btn-block" :class="{\'is-loading\': isFetchingBlockType && isFetchingBlockType== f.block_type_id}" :disabled="isFetching || isFetchingBlockType"> <div v-if="!$auth.isAllowTariff(f.tariff) && (f.tariff == \'pro\' || f.tariff == \'plus\')" class="tag is-pro" data-toggle="tooltip" data-placement="top" :data-original-title="\'Этот блок доступен<br>на pro-тарифе\'|gettext">pro</div> <div v-if="!$auth.isAllowTariff(f.tariff) && (f.tariff == \'business\')" class="tag is-danger is-business" data-toggle="tooltip" data-placement="top" :data-original-title="\'Этот блок доступен<br>на business-тарифе\'|gettext">biz</div> <div v-html="f.icon"></div> <div>{{f.block_type_title|gettext}}</div> </button></div> </div> </section> <section class="modal-card-body" v-if="!currentBlock && currentTab== \'archives\'"> <button class="button is-light btn-block is-fullwidth has-p-2" :class="{\'has-mt-2\': i}" style="justify-content: space-between" v-for="(f, i) in archives" @click="restoreBlock(f.block_id)"> <span class="has-mr-1" style="display: flex;align-items: center;overflow:hidden"> <span v-html="typesKeys[f.block_type_id].icon" class="is-block-button is-archive"></span> {{typesKeys[f.block_type_id].block_type_title|gettext}}<span class="has-ml-1" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;opacity:.4" v-if="f.title">— {{f.title}}</span></span> <span class="has-text-grey">{{f.tms_archived|date}}</span> </button> </section> <footer class="modal-card-foot level" v-if="currentBlock"> <div class="level-left"> <vue-component-action-button v-if="block_id && (!info.is_readonly || canDelete)" @action="onAction" :title="\'Действие\'|gettext"> <template slot="actions"> <b-dropdown-item value="clone"><i class="fa fa-clone"></i> {{\'Дублировать\'|gettext}}</b-dropdown-item> <hr class="dropdown-divider" aria-role="menuitem"> <b-dropdown-item value="archive" v-if="info.permit.can_archive && $auth.isAllowTariff(\'pro\')"><i class="fa fa-archive"></i> {{\'В архив\'|gettext}}</b-dropdown-item> <hr class="dropdown-divider" aria-role="menuitem" v-if="info.permit.can_archive && $auth.isAllowTariff(\'pro\')"> <b-dropdown-item value="delete" class="has-text-danger" :class="{disabled: !info.permit.can_delete}"><i class="fa fa-trash-alt"></i> {{\'Удалить\'|gettext}}</b-dropdown-item> </template> </vue-component-action-button> <button v-if="currentBlock && !block_id" class="button is-default is-pulled-left" @click="back"><i class="fa fa-angle-left has-mr-2"></i>{{\'Назад\'|gettext}}</button> </div> <div class="level-right"> <button class="button is-primary" :class="{\'is-loading\': isUpdating}" @click="save" :disabled="info.is_readonly || !allowSave">{{\'Сохранить\'|gettext}}</button> </div> </footer> <footer class="modal-card-foot" v-if="!currentBlock"> <button class="button is-dark" type="button" @click="$parent.close()">{{\'Закрыть\'|gettext}}</button> </footer> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("pages","vue-pages-blocks-form-options",{data:function(){return{schedule_days:[],date_from:null,date_until:null,time_from:null,time_until:null,allowPro:!1,first_day_week:this.$getFirstDayWeek(),weekdays:this.$getDaysNames()}},props:["values","info","variants"],computed:{weekdays_schedule:function(){var e=[];this.first_day_week||e.push({index:6,weekday:this.weekdays[0]});for(var t=1;t<7;t++)e.push({index:t-1,weekday:this.weekdays[t]});return this.first_day_week&&e.push({index:6,weekday:this.weekdays[0]}),e},daysSummary:function(){var e=this.schedule_days;return 7==e.length?this.$gettext("Каждый день"):5==e.length&&-1==e.indexOf(5)&&-1==e.indexOf(6)?this.$gettext("Будние дни"):2==e.length&&-1!=e.indexOf(5)&&-1!=e.indexOf(6)?this.$gettext("Выходные дни"):""}},watch:{time_from:function(){this.onInputDates()},time_until:function(){this.onInputDates()}},created:function(){function e(e){return e=e.split("-"),new Date(e[0],e[1]-1,e[2])}if(this.allowPro=this.$auth.isAllowTariff("pro"),this.date_from=this.values.date_from?e(this.values.date_from):null,this.date_until=this.values.date_until?e(this.values.date_until):null,this.values.time_from){var t=this.values.time_from.split(":");this.time_from=new Date(0,0,0,t[0],t[1])}if(this.values.time_until){var i=this.values.time_until.split(":");this.time_until=new Date(0,0,0,i[0],i[1])}for(var n=0;n<7;n++)this.values.schedule_days&Math.pow(2,n)&&this.schedule_days.push(n)},methods:{onInputDates:function(){this.values.date_from=this.date_from?date_format("Y-m-d",this.date_from):null,this.values.date_until=this.date_until?date_format("Y-m-d",this.date_until):null,this.values.time_from=this.time_from?date_format("H:i",this.time_from):null,this.values.time_until=this.time_until?date_format("H:i",this.time_until):null,this.values.schedule_days=_.reduce(this.schedule_days,function(e,t){return e+Math.pow(2,t)},0)}},template:'<div> <div class="has-mb-2"> <mx-toggle v-model="values.is_visible" :title="\'Скрыть блок\'|gettext" :disabled="info.is_readonly" :invert="true"></mx-toggle> </div> <div class="label-pro-container"> <div v-if="!allowPro" class="tag is-pro" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна<br>на pro тарифе\'|gettext">pro</div> <div :class="{disabled: !values.is_visible}"> <div class="has-mb-2"> <mx-toggle v-model="values.is_schedule" :title="\'Показывать по расписанию\'|gettext" :disabled="info.is_readonly || !allowPro"></mx-toggle> </div> <div class="has-mb-2" v-if="values.is_schedule"> <div class="row row-small has-mb-1"> <label class="label col-xs-2 col-sm-1"><p class="form-control-static">{{\'От\'|gettext}}:</p></label> <div class="col-xs-7 col-sm-8"> <vue-component-datepicker v-model="date_from" icon="calendar-alt" @input="onInputDates" :disabled="!values.is_schedule || info.is_readonly"></vue-component-datepicker> </div> <div class="col-xs-3"> <div class="has-feedback"> <b-clockpicker icon="clock" v-model="time_from" :disabled="!values.is_schedule || info.is_readonly" hour-format="24"></b-clockpicker> <a class="form-control-feedback has-text-grey-light" @click="time_from = null" :class="{disabled: info.is_readonly}" v-if="time_from"><i class="fal fa-times"></i></a> </div> </div> </div> <div class="row row-small"> <label class="label col-xs-2 col-sm-1"><p class="form-control-static">{{\'До\'|gettext}}:</p></label> <div class="col-xs-7 col-sm-8"> <vue-component-datepicker v-model="date_until" @input="onInputDates" :disabled="!values.is_schedule || info.is_readonly"></vue-component-datepicker> </div> <div class="col-xs-3"> <div class="has-feedback"> <b-clockpicker icon="clock" v-model="time_until" :disabled="!values.is_schedule || info.is_readonly" hour-format="24"></b-clockpicker> <a class="form-control-feedback has-text-grey-light" @click="time_until = null" :class="{disabled: info.is_readonly}" v-if="time_until"><i class="fal fa-times"></i></a> </div> </div> </div> </div> <div> <mx-toggle v-model="values.is_schedule_days" :title="\'Показывать по дням недели\'|gettext" :disabled="info.is_readonly || !allowPro"></mx-toggle> </div> <div class="has-mt-2 form-horizontal" v-if="values.is_schedule_days"> <div class="row row-small"> <label class="label col-xs-2 col-sm-1 is-hidden-mobile"><p class="form-control-static">{{\'Дни\'|gettext}}:</p></label> <div class="col-xs-12 col-sm is-flex schedule-days-chooser"> <b-field :class="[\'is-marginless\', {disabled: !values.is_schedule_days}]"> <b-checkbox-button v-for="w in weekdays_schedule" v-model="schedule_days" :native-value="w.index" type="is-dark" @input="onInputDates" class="choose-days">{{w.weekday|gettext}}</b-checkbox-button> </b-field> <p class="form-control-static has-text-grey has-sm-ml-1">{{daysSummary}}</p> </div> </div> </div> </div> </div> </div>'}),window.$app.defineComponent("pages","vue-pages-blocks-form-statistics",{data:function(){return{period_title:"",clicks:[],chart:[],isFetching:!1}},props:{page_id:Number,block_id:Number,period:{type:String,default:"day"},period_back:{type:Number,default:0},disabled:{type:Boolean,default:!1}},watch:{period:function(){this.fetchData(["chart","clicks"]),this.period_back=0},period_back:function(){this.fetchData(["clicks"])}},created:function(){this.fetchData(["chart","clicks"])},methods:{fetchData:function(t){var i=this;this.isFetching=!0,this.$api.get("statistics/get",{page_id:this.page_id,block_id:this.block_id,period:this.period,period_back:this.period_back,scope:t}).then(function(e){-1!=t.indexOf("chart")&&(i.chart=_.map(e.response.statistics.chart,function(e,t){return{date:t,hits:e}})),i.clicks=e.response.statistics.clicks,i.period_title=e.response.statistics.period.title,i.isFetching=!1})}},template:'<section> <b-field class="has-tabs-style" :class="{disabled: disabled}"> <b-radio-button v-model="period" type="active" class="is-expanded" native-value="day">{{\'День\'|gettext}}</b-radio-button> <b-radio-button v-model="period" type="active" class="is-expanded" native-value="week">{{\'Неделя\'|gettext}}</b-radio-button> <b-radio-button v-model="period" type="active" class="is-expanded" native-value="month">{{\'Месяц\'|gettext}}</b-radio-button> </b-field> <vue-component-statistics :data="chart" :period="period" :period_back="period_back" :line-show="true" :padding-top="30" class="has-mb-3 is-small" :disabled="disabled"></vue-component-statistics> <div class="field has-addons" :class="{disabled: disabled}"> <p class="control"><button class="button" @click="period_back++"><i class="fas fa-caret-left"></i></button></p> <p class="control is-expanded"><span class="button is-static has-background-white is-fullwidth">{{ period_title }}</span></p> <p class="control"><button class="button" :disabled="period_back == 0" @click="period_back--"><i class="fas fa-caret-right"></i></button></p> </div> <b-table :data="clicks" :loading="isFetching" :disabled="disabled"> <template slot-scope="props"> <b-table-column field="title" :label="\'Заголовок\'|gettext"> {{ props.row.type }} </b-table-column> <b-table-column field="clics" :label="\'Клики\'|gettext" :class=\'{"has-text-grey-light": props.row.clicks == 0}\' numeric>{{ props.row.clicks | number }}</b-table-column> </template> <template slot="empty"> <section class="has-mb-4 has-mt-4 content has-text-grey has-text-centered" v-if="!isFetching"> <p>{{\'Недостаточно данных\'|gettext}}</p> </section> <section class="has-mb-4 has-mt-4 content has-text-grey has-text-centered" v-if="isFetching"> <p>{{\'Загрузка данных\'|gettext}}</p> </section> </template> </b-table> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-avatar",{data:function(){return{isUpdating:!1,isUploading:!1,instagramUpdated:!1,file:null}},props:["values","variants","block","block_id","info","tabs","currentTab"],mixins:[FormModel],created:function(){this.block.title=this.$gettext("Аватар"),this.$emit("update:tabs",[])},methods:{dropFilesChanged:function(){var t=this;if(/\.(jpe?g|png|gif)$/i.test(this.file.name)){var e=new FormData;e.append("file",this.file),e.append("picture_id",this.$account.profile_id),this.isUploading=!0,this.$http.request({url:"/pictures/upload?target=avatar",method:"post",data:e}).then(function(e){"success"==e.result||"error"==e.result&&t.$alert(e.error,"is-danger"),t.isUploading=!1,t.file=null}).catch(function(){t.isUploading=!1,t.$alert(t.$gettext("Во время загрузки картинки возникла ошибка"))})}else this.isUploading=!1,this.$alert(this.$gettext("Недопустимый формат файла"))},updateAvatar:function(){var t=this;this.isUpdating=!0,this.instagramUpdated=!0,this.$parent.action("update").then(function(e){t.isUpdating=!1})},prepareValues:function(){return this.values}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="currentTab == \'common\'"> <div class="media" style="align-items: center"> <img :src="$account.avatar.url" class="is-pulled-left has-mr-3" :class="$account.avatar.size|sprintf(\'profile-avatar profile-avatar-%s\')"> <div class="media-content"> <div> <b-upload v-model="file" @input="dropFilesChanged(false)"> <a class="button is-fullwidth-mobile is-success" :class="{\'is-loading\': isUploading}"><span><i class="fa fas fa-arrow-from-top fa-rotate-180 has-mr-2" :disabled="info.is_readonly"></i>{{\'Загрузить картинку\'|gettext}}</span></a> </b-upload> <button class="button is-fullwidth-mobile is-light has-xs-mt-1" @click="updateAvatar()" :class="{\'is-loading\': isUpdating}" :disabled="info.is_readonly || instagramUpdated" v-if="info.has_connected_account && block_id">{{\'Импортировать из Instagram\'|gettext}}</button> </div> </div> </div> </section> <section :class="{disabled: info.is_readonly}"> <label class="label">{{\'Размер аватара\'|gettext}}</label> <div class="tabs is-toggle is-fullwidth is-avatar-size-chooser has-mb-1"> <ul> <li :class="{\'is-active\': values.avatar_size == k}" v-for="(v, k) in variants.avatar_size"><a @click="values.avatar_size = k"><em></em></a></li> </ul> </div> <p class="has-text-grey">{{variants.avatar_size[values.avatar_size]}}</p> </section> <section v-if="info.has_connected_account"> <mx-toggle v-model="values.is_avatar_hide_text" :title="\'Скрыть имя профиля под аватаром\'|gettext" :disabled="info.is_readonly"></mx-toggle> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-banner",{props:["values","options","info","variants","block","block_id","block_type_id","tabs","currentTab","allowSave"],mixins:[FormModel],data:function(){return{addons_values:null}},created:function(){this.block.title=this.$gettext("Баннер");var e=[{name:"common",title:this.$gettext("Картинка")},{name:"options",title:this.$gettext("Настройки")},{name:"addons",title:this.$gettext("Модули")}];this.block_id&&this.info.is_allow_statistics&&e.push({name:"statistics",title:this.$gettext("Статистика")}),this.$emit("update:tabs",e)},computed:{pictureSizeStyle:function(){return"padding-top: "+(this.values.p?this.values.p.height/this.values.p.width*100:50)+"%"},styleOuterContainer:function(){return this.values.is_scale&&this.values.width?"width: "+this.values.width+"px !important;":""}},methods:{prepareValues:function(){console.log(this.values);var e=this.$clone(this.values);return console.log(e),e.addons_values=this.addons_values,e.p&&(e.p=e.p.picture_id),e},startUploading:function(){this.allowSave=!1},stopUploading:function(){this.allowSave=!0}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Добавьте изображение любого размера и укажите действие при клике\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <div class="device-pictures-form"> <center> <div class="device has-shadow is-large is-hide-mobile" :class="{disabled: info.is_readonly}"> <div class="notch"></div> <div class="screen page-font"> <div class="has-sm-p-1"> <vue-component-pictures v-model="values.p" class="pictures-form-banner" class-container="picture-container picture-container-upload" :button-title="\'Загрузить картинку\'|gettext" :style-container="pictureSizeStyle" :style-outer-container="styleOuterContainer" button-icon="fa fal fa-cloud-upload" @startUploading="startUploading" @stopUploading="stopUploading" updatable></vue-component-pictures> </div> </div> </div> </center> <div class=\'form-shadow form-shadow-bottom is-hidden-mobile\' style="height: 20px"></div> </div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <mx-toggle v-model="values.is_scale" :title="\'Установить максимальную ширину\'|gettext" :disabled="info.is_readonly || !values.p"></mx-toggle> <div class="row row-small has-mt-2" v-if="values.is_scale && values.p"> <div class="col-xs-12 col-sm-4"> <b-field> <p class="control is-expanded"><number v-model="values.width" precision="0" :disabled="info.is_readonly" class="input has-text-right" :placeholder="values.p?values.p.width:\'\'"/></p> <p class="control"> <a class="button is-static">px</a> </p> </b-field> </div> </div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <mx-toggle v-model="values.is_link" :title="\'Сделать баннер ссылкой\'|gettext" :disabled="info.is_readonly"></mx-toggle> <div v-if="values.is_link"> <vue-component-link-editor :values.sync="values.link" :variants="variants" :info="info" class="has-mt-2"></vue-component-link-editor> </div> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <keep-alive> <vue-pages-blocks-form-addons :block_id="block_id" :block_type_id="block_type_id" :addons_values.sync="addons_values" :disabled="info.is_readonly" :parent="parent" v-if="currentTab == \'addons\'"> <template slot="message">{{\'Вы можете выбрать модули которые будут срабатывать для данной ссылки\'|gettext}}</template> <template slot="empty">{{\'Модули для данного блока еще не подключены\'|gettext}}</template> </vue-pages-blocks-form-addons> </keep-alive> <keep-alive> <vue-pages-blocks-form-statistics :page_id="values.page_id" :block_id="block_id" v-if="currentTab == \'statistics\'"></vue-pages-blocks-form-statistics> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-break",{props:["values","options","variants","info","block","block_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{icons:[-1,0,1,2,3,4,5,6,7]}},created:function(){this.block.title=this.$gettext("Разделитель");var e=this.$account.theme;this.values.design.color||(this.values.design.color=e.screen.color),this.$emit("update:tabs",[{name:"common",title:this.$gettext("Разделитель")},{name:"options",title:this.$gettext("Настройки")}])},methods:{prepareValues:function(){var e=this.$clone(this.values),t=this.$account.theme;return e.design.color==t.screen.color&&(e.design.color=""),e.design.color||(e.design={on:!1}),e}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="currentTab == \'common\'"> <b-field :label="\'Размер отступа\'|gettext"> <b-select v-model="values.break_size" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.break_size" :value="k">{{v}}</option> </b-select> </b-field> <label class="label">{{\'Тип разделителя\'|gettext}}</label> <div class="break-form-type-list has-mb-2 row row-small"> <div v-for="i in icons" class="col-xs-4 col-sm-2 col-md-2"> <div class="break-form-type block-break" @click="values.icon = i" :class="{in: values.icon == i}"><div class="block-break-inner" :class="{\'has-icon\': i, \'is-invisible\': i < 0, \'is-fullwidth\': values.fullwidth && i== 0, \'has-fading\': values.fading}"><span><i :class="[\'fa fai\', \'fa-\'+i]" v-if="i> 0"></i></span></div></div> </div> </div> <div :class="{disabled: values.icon < 0}"> <label class="label">{{\'Настройки линии\'|gettext}}</label> <mx-toggle v-model="values.fullwidth" class="has-mb-2" :title="\'Линия на всю ширину\'|gettext" :disabled="info.is_readonly"></mx-toggle> <mx-toggle v-model="values.fading" :title="\'Линия с полупрозрачными краями\'|gettext" :disabled="info.is_readonly"></mx-toggle> </div> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <div class="label-pro-container"> <div class="tag is-pro" v-if="!$auth.isAllowTariff(\'pro\')" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна<br>на pro тарифе\'|gettext">pro</div> <div :class="{disabled: !$auth.isAllowTariff(\'pro\')}"> <div class="has-mb-2"><mx-toggle v-model=\'values.design.on\' :title="\'Свои настройки дизайна\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div v-if="values.design.on"> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.design.color" :label="\'Цвет\'|gettext" :disabled="info.is_readonly" :colors="[$account.theme.screen.color]"></vue-component-colorpicker> </div> </div> </div> </div> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-collapse",{props:["values","options","variants","info","block","block_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{current:0}},created:function(){this.block.title=this.$gettext("Вопросы и ответы");var e=this.$account.theme;this.values.design.color||(this.values.design.color=e.screen.color),this.values.design.font||(this.values.design.font=e.screen.font),this.$emit("update:tabs",[{name:"common",title:this.block.title},{name:"options",title:this.$gettext("Настройки")}])},methods:{prepareValues:function(){var e=this.$clone(this.values),t=this.$account.theme;return e.design.color==t.screen.color&&(e.design.color=""),e.design.font==t.screen.font&&(e.design.font=""),e.design.color||e.design.font||(e.design={on:!1}),e},onRemove:function(e){var t=this;this.$confirm(this.$gettext("Вы уверены что хотите удалить этот вопрос?"),"is-danger").then(function(){t.values.fields.splice(e,1)})},onAdd:function(){var e=this;this.values.fields.push({title:"",text:"",opened:!0}),this.current=this.values.fields.length-1,this.$nextTick(function(){e.$refs.fields.querySelector(".in input").focus()})}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="currentTab == \'common\'"> <div ref="fields"> <vue-component-sortable-form-fields v-model="values.fields" :current.sync="current"> <template v-slot:title="{ item }"> <span><span v-if="item.title">{{ item.title }}</span><span v-else>{{\'Заголовок\'|gettext}}</span></span> </template> <template v-slot:action="{ index }"> <a class="is-pulled-right has-text-danger" @click.stop="onRemove(index)" :class="{disabled: info.is_readonly}"><i class="fa fa-trash-alt"></i></a> </template> <template v-slot:form="{ item, index }"> <div class="field"> <label>{{\'Заголовок\'|gettext}}</label> <b-input type="text" v-model="item.title" :disabled="info.is_readonly"></b-input> </div> <div class="field"> <label>{{\'Текст\'|gettext}}</label> <vue-component-emoji-picker v-model="item.text"> <textarea class="input" v-model="item.text" :disabled="info.is_readonly" v-emoji rows="6"></textarea> </vue-component-emoji-picker> </div> </template> </vue-component-sortable-form-fields> </div> </section> <section v-if="currentTab == \'common\'"> <button type="button" @click="onAdd" class="button is-success" :class="{disabled: info.is_readonly}"><i class="fas fa-plus has-mr-1"></i>{{\'Добавить новый пункт\'|gettext}}</button> </section> <section v-if="currentTab == \'options\'"> <div class="label-pro-container"> <div class="tag is-pro" v-if="!$auth.isAllowTariff(\'pro\')" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна<br>на pro тарифе\'|gettext">pro</div> <div :class="{disabled: !$auth.isAllowTariff(\'pro\')}"> <div class="has-mb-2"><mx-toggle v-model=\'values.design.on\' :title="\'Свои настройки дизайна\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div v-if="values.design.on"> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.design.color" :label="\'Цвет текста\'|gettext" :disabled="info.is_readonly" :colors="[$account.theme.screen.color]"></vue-component-colorpicker> </div> <div class="has-mb-2 link-styles-container"> <label class="form-control-static">{{\'Шрифт\'|gettext}}</label> <vue-component-font-chooser v-model="values.design.font" view="name"></vue-component-font-chooser> </div> </div> </div> </div> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-form",{props:["values","options","parent","info","variants","block_type_id","info","block","block_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{addons_values:null,action:null}},created:function(){this.block.title=this.$gettext("Форма");var e=[{name:"common",title:this.$gettext("Поля")},{name:"options",title:this.$gettext("Настройки")}];-1!=this.$account.features.indexOf("payments")&&e.push({name:"pays",title:this.$gettext("Оплаты")}),-1!=this.$account.features.indexOf("addons")&&e.push({name:"addons",title:this.$gettext("Модули")}),this.$emit("update:tabs",e)},computed:{currentPaidStatus:function(){for(var e="",t=0;t<this.variants.paid_status_id.length;t++)if(this.variants.paid_status_id[t].status_id==this.values.paid_status_id){e=this.variants.paid_status_id[t].status;break}return e}},methods:{prepareValues:function(){var e=this.$clone(this.values);e.addons_values=this.addons_values,e.fields=_.map(e.fields,function(e){return _.pick(e,["default","required","text","title","type_id","variants","idx"])});var t=this.$account.theme;return e.design.text==t.link.color&&e.design.bg==t.link.bg&&(e.design={on:!1}),e},onAction:function(e){var t=this;e&&(this.values.fields_idx.toString(16),this.values.fields.push({title:this.variants.fields_types[e],text:"",type_id:e,required:!1,default:0,variants:"",opened:!0,idx:this.values.fields_idx.toString(16)}),this.values.fields_idx++,Vue.nextTick(function(){t.action=null}))}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'С помощью этого блока, вы сможете создать форму для сбора контактных данных и добавить прием оплаты\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <b-select :placeholder="\'-- Добавить поле --\'|gettext" v-model="action" @input="onAction" :disabled="info.is_readonly" expanded> <option v-for="(f, i) in variants.fields_types" :value="i">{{ f }}</option> </b-select> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <vue-component-form-blocks v-model="values.fields" :variants="variants" :disabled="info.is_readonly"></vue-component-form-blocks> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <b-field :label="\'Текст на кнопке\'|gettext"> <input type="text" v-model="values.form_btn" class="input" :disabled="info.is_readonly" :placeholder="\'Отправить\'|gettext"> </b-field> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <b-field :label="\'Действие после заполнения формы\'|gettext"> <b-select v-model="values.form_type" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.form_type" :value="k">{{v}}</option> </b-select> </b-field> <b-field v-if="values.form_type == \'link\'" :class="{\'has-error\': errors.link}" :message="errors.link"> <input type=\'text\' v-model=\'values.link\' class=\'input\' placeholder=\'http://\' autocorrect="off" autocapitalize="none" :disabled="info.is_readonly"> </b-field> <b-field v-if="values.form_type == \'page\'" :class="{\'has-error\': errors.link_page_id}" :message="errors.link_page_id"> <b-select v-model="values.link_page_id" :placeholder="\'-- Не выбрано --\'|gettext" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.link_page_id" :value="k">{{v}}</option> </b-select> </b-field> <b-field v-if="values.form_type == \'text\'" :class="{\'has-error\': errors.form_text}" :message="errors.form_text"> <textarea v-model=\'values.form_text\' class=\'input\' style="min-height: 100px" :disabled="info.is_readonly" :placeholder="\'Спасибо за вашу заявку\'|gettext"></textarea> </b-field> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-design :values.sync="values.design" :info="info"></vue-pages-blocks-form-design> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <section v-if="currentTab == \'pays\'" @click="$parent.scrollToTariff"> <div v-if="$auth.isAllowTariff(\'business\') && !info.amount_payments_providers" class=\'message is-danger\'><div class="message-body">{{\'Чтобы принимать оплату, вам необходимо настроить платежные системы в разделе\'|gettext}} "<a href="/profile/settings/payments/" target="_blank">{{\'Настройки\'|gettext}}</a>".</div></div> <div class="has-mb-2"><mx-toggle v-model=\'values.is_order\' :title="\'Принимать оплату\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div class="row" :class="{disabled: !values.is_order}"> <div class="col-sm-4 col-xs-12 has-mb-2" :class="{\'has-error\': errors.order_budget}"><label class="label">{{\'Цена\'|gettext}}</label> <div class="field has-addons"> <div class="control is-expanded"> <number v-model="values.order_budget" :precision="$account.currency.precision" class="input has-text-right" :disabled="info.is_readonly"> </div> <div class="control"><div class="button is-static">{{$account.currency.title}}</div></div> </div> </div> <div class="col-sm-8 col-xs-12" :class="{\'has-error\': errors.order_purpose}"> <div class="field"> <label class="label">{{\'Назначение платежа\'|gettext}}</label> <div class="row row-small"> <div class="col-xs-12 col-sm-4 has-mb-2"> <b-select v-model="values.payment_object_id" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.payment_object_id" :value="k">{{v}}</option> </b-select> </div> <div class="col-xs-12 col-sm-8 has-mb-2"><input type=\'text\' v-model=\'values.order_purpose\' class=\'input\' :disabled="info.is_readonly"></div> </div> </div> </div> </div> <div :class="{disabled: !values.is_order}"> <b-checkbox v-model="values.paid_change_status" :disabled="info.is_readonly">{{\'После успешной оплаты менять статус\'|gettext}}:</b-checkbox> <b-dropdown aria-role="list" position="is-top-right" :disabled="!values.paid_change_status || info.is_readonly"><label :disabled="!values.paid_change_status || info.is_readonly" :class="{\'has-text-primary\': values.paid_change_status}" class="b-checkbox checkbox is-marginless" slot="trigger" aria-role="listitem">{{currentPaidStatus}}</label> <b-dropdown-item @click="values.paid_status_id = s.status_id;" v-for="s in variants.paid_status_id"><i class="fas fa-circle has-mr-1" :style=\'"color:#{1}"|format(s.color)\'></i> {{s.status}}</b-dropdown-item> </b-dropdown> </div> </section> <keep-alive> <vue-pages-blocks-form-addons :block_id="block_id" :block_type_id="block_type_id" :values="values" :addons_values.sync="addons_values" :disabled="info.is_readonly" :parent="parent" v-if="currentTab == \'addons\'" @click="$parent.scrollToTariff"> <template slot="message">{{\'Вы можете выбрать модули которые будут срабатывать для данной формы\'|gettext}}</template> <template slot="empty">{{\'Модули для данного блока еще не подключены\'|gettext}}</template> </vue-pages-blocks-form-addons> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-html",{props:["values","options","variants","info","block","block_id","tabs","currentTab"],mixins:[FormModel],created:function(){this.block.title=this.$gettext("HTML код"),this.$emit("update:tabs",[{name:"common",title:this.$gettext("HTML")},{name:"options",title:this.$gettext("Настройки")}])},methods:{prepareValues:function(){return this.values}},template:'<section class="modal-card-body modal-card-body-block-html modal-card-body-blocks"> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <div class="panel panel-default"> <vue-component-codemirror v-model="values.html" :disabled="info.is_readonly" style="min-height: 100px"></vue-component-codemirror> </div> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-link",{props:["values","options","parent","variants","info","block","block_id","block_type_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{addons_values:null}},created:function(){var e=[{name:"common",title:this.$gettext("Ссылка")},{name:"options",title:this.$gettext("Настройки")},{name:"addons",title:this.$gettext("Модули")}];this.block_id&&this.info.is_allow_statistics&&e.push({name:"statistics",title:this.$gettext("Статистика")}),this.block.title=this.$gettext("Ссылка"),this.$emit("update:tabs",e)},computed:{error:function(){return this.errors.link||this.errors.email||this.errors.phone||this.errors.product||this.errors.link_page_id||this.errors.collection}},methods:{prepareValues:function(){var e=this.$clone(this.values);e.addons_values=this.addons_values;var t=this.$account.theme;return e.design.text==t.link.color&&e.design.bg==t.link.bg&&(e.design={on:!1}),e}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="currentTab == \'common\'"> <b-field :label="\'Текст ссылки\'|gettext" :class="{\'has-error\': errors.title}" :message="errors.title"> <div> <input class="input has-mb-1" v-model="values.title" :disabled="info.is_readonly" :placeholder="\'Заголовок\'|gettext"></input> <input class="input" v-model="values.subtitle" :disabled="info.is_readonly" :placeholder="\'Подзаголовок\'|gettext"></input> </div> </b-field> <b-field :class="{\'has-error\': error}" :message="error"> <vue-component-link-editor :values.sync="values" :variants="variants" :info="info"></vue-component-link-editor> </b-field> </section> <section v-if="currentTab == \'options\'"> <vue-pages-blocks-form-design :values.sync="values.design" :info="info"></vue-pages-blocks-form-design> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <keep-alive> <vue-pages-blocks-form-addons v-if="currentTab == \'addons\'" :block_id="block_id" :block_type_id="block_type_id" :addons_values.sync="addons_values" :disabled="info.is_readonly" :parent="parent"> <template slot="message">{{\'Вы можете выбрать модули которые будут срабатывать для данной ссылки\'|gettext}}</template> <template slot="empty">{{\'Модули для данного блока еще не подключены\'|gettext}}</template> </vue-pages-blocks-form-addons> </keep-alive> <keep-alive> <vue-pages-blocks-form-statistics v-if="currentTab == \'statistics\'" :page_id="values.page_id" :block_id="block_id"></vue-pages-blocks-form-statistics> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-map",{props:["values","options","variants","info","block","block_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{query:"",isGeocoding:!1,current:0,map:null,markers:[]}},created:function(){this.block.title=this.$gettext("Карта");var e=[{name:"common",title:this.$gettext("Карта и метки")},{name:"extended",title:this.$gettext("Опции карты")},{name:"options",title:this.$gettext("Настройки")}],t=this.$account.theme;this.values.link_color||(this.values.link_color=t.link.color),this.values.link_bg||(this.values.link_bg=t.link.bg),this.block_id&&e.push({name:"statistics",title:this.$gettext("Статистика")}),this.$emit("update:tabs",e)},mounted:function(){var n=this;$mx.lazy("map.js","map.css",function(){var e=n.$clone(n.values.bounds);0==e.length&&(e={zoom:4,center:{lat:55.5807481,lng:36.8251304}}),n.map=L.map(n.$refs.map,{attributionControl:!1}).setView([e.center.lat,e.center.lng],e.zoom),L.control.attribution({prefix:""}).addTo(n.map),L.tileLayer("/maps/{z}/{x}/{y}.png",{attribution:"",crossOrigin:!0}).addTo(n.map),n.icon=L.icon({iconUrl:"/s/i/marker.png",iconSize:[28,37],popupAnchor:[0,-10],shadowUrl:"/s/i/marker-shadow.png",shadowSize:[40,50],shadowAnchor:[12,31]});function i(){var e=n.map.getBounds();n.values.bounds={center:n.map.getCenter(),zoom:n.map.getZoom(),bounds:[[e.getNorth(),e.getEast()],[e.getSouth(),e.getWest()]]}}0==n.values.bounds.length&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};n.map.setView(t,10),i()}),n.map.on("moveend",i),n.map.on("zoomend",i),i(),_.each(n.values.markers,n.addMarkerInternal)})},methods:{addMarkerInternal:function(i){var e={lat:parseFloat(i.lat),lng:parseFloat(i.lng)},n=L.marker([e.lat,e.lng],{icon:this.icon,draggable:!0}).addTo(this.map);n.on("dragend",function(e){var t=n.getLatLng();i.lat=t.lat,i.lng=t.lng}),this.markers.push(n)},addMarker:function(){var a=this;""!=this.query.trim()&&(this.isGeocoding=!0,$mx.lazy("//maps.googleapis.com/maps/api/js?key=AIzaSyCsYkpOHG_vddnpHQJ8kamy4RGt81HCfCU&libraries=places",function(){(new google.maps.Geocoder).geocode({address:a.query},function(e,t){if("OK"==t&&e.length&&e[0].geometry){var i=e[0].geometry.location,n={lng:i.lng(),lat:i.lat(),text:"",title:a.query};if(a.values.markers.push(n),a.current=a.values.markers.length-1,a.addMarkerInternal(n),a.markers.length){var s=new L.featureGroup(a.markers);a.map.fitBounds(s.getBounds())}a.$nextTick(function(){1==a.markers.length&&a.$refs.markers.querySelector(".in textarea").focus()}),a.query=""}a.isGeocoding=!1})}))},deleteMarker:function(e){this.map.removeLayer(this.markers[e]),this.markers.splice(e,1),this.values.markers.splice(e,1)},prepareValues:function(){var e=this.$clone(this.values);e.markers=_.map(e.markers,function(e){return _.pick(e,["lng","lat","title","text"])});var t=this.$account.theme;return e.design.text==t.link.color&&e.design.bg==t.link.bg&&(e.design={on:!1}),e}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Здесь вы можете добавить карту и отметить ваши адреса\'|gettext}}</div> </section> <section :class="{\'is-hidden\': currentTab != \'common\'}" @click="$parent.scrollToTariff"> <div class="map-container map-view-with-zoom-control" :class="{disabled: info.is_readonly}"> <div class="map-form" ref=\'map\'></div> </div> </section> <section :class="{\'is-hidden\': currentTab != \'common\'}" @click="$parent.scrollToTariff"> <div class="has-mb-2"> <div class="row row-small"> <div class="col-xs"> <b-input v-model="query" autocorrect="off" autocapitalize="off" spellcheck="false" :placeholder="\'Введите адрес метки\'|gettext" @keyup.native.enter="addMarker" :loading="isGeocoding" :disabled="info.is_readonly"></b-input> </div> <div class="col-xs col-shrink"> <button type=\'button\' class="button is-success" @click="addMarker" :class="{\'is-loading\': isGeocoding}" :disabled="info.is_readonly">{{\'Добавить метку\'|gettext}}</button> </div> </div> </div> <div ref=\'markers\'> <vue-component-sortable-form-fields v-model="values.markers" :current.sync="current"> <template v-slot:title="{ item }"> <span v-if="item.title">{{item.title}}</span> <span v-else>{{\'Заголовок\'|gettext}}</span> </template> <template v-slot:action="{ index }"> <a class="has-text-danger is-pulled-right" @click.stop="deleteMarker(index)" :class="{disabled: info.is_readonly}"><i class="fa fa-trash-alt"></i></a> </template> <template v-slot:form="{ item, index }"> <div class="field"> <input type="text" v-model="item.title" class="input" :placeholder="\'Заголовок\'|gettext" :disabled="info.is_readonly"> </div> <div class="field"> <textarea class="input" v-model="item.text" :placeholder="\'Режим работы, этаж и другая полезная информация\'|gettext" :disabled="info.is_readonly"></textarea> </div> </template> </vue-component-sortable-form-fields> </div> </section> <section v-if="currentTab == \'extended\'" @click="$parent.scrollToTariff"> <div class="has-mb-2"><mx-toggle v-model="values.is_fixed" :title="\'Зафиксировать карту\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div class="has-mb-2"><mx-toggle v-model="values.show_buttons" :title="\'Добавить отдельные ссылки для каждой метки\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div><mx-toggle v-model="values.show_zoom" :title="\'Показывать ползунок масштабирования\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-design :values.sync="values.design" :info="info"></vue-pages-blocks-form-design> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <keep-alive> <vue-pages-blocks-form-statistics :page_id="values.page_id" :block_id="block_id" v-if="currentTab == \'statistics\'" @click="$parent.scrollToTariff"></vue-pages-blocks-form-statistics> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-messenger",{props:["values","options","parent","variants","info","block","block_id","block_type_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{addons_values:null,platforms:{telegram:{placeholder:"Например: Написать в {1}",types:{v:{label:"Имя пользователя",type:"input"}}},vk:{placeholder:"Например: Написать в {1}",types:{v:{label:"Имя пользователя",type:"input"}}},fb:{placeholder:"Например: Написать в {1}",types:{v:{label:"Имя пользователя",type:"input"}}},sk:{placeholder:"Например: Позвонить в {1}",types:{v:{label:"Имя пользователя",type:"input"}}},whatsapp:{placeholder:"Например: Написать в {1}",types:{v:{label:"Укажите ваш номер телефона",type:"phone",check:"Телефон"},c:{label:"Укажите ссылку на чат",type:"input",check:"Чат",placeholder:"https://chat.whatsapp.com/****************"}},inputs:{text:{label:"Текст-шаблон сообщения",placeholder:"Пример: Здравствуйте, как можно сделать заказ?",type:"textarea"}}},viber:{placeholder:"Например: Написать в {1}",types:{v:{label:"Укажите ваш номер телефона",type:"phone",check:"Телефон"},c:{label:"Укажите ссылку на канал",type:"input",check:"Канал",placeholder:"https://viber.com/****************"}}}}}},created:function(){this.block.title=this.$gettext("Мессенджеры");var e=[{name:"common",title:this.$gettext("Ссылки")},{name:"options",title:this.$gettext("Настройки")},{name:"addons",title:this.$gettext("Модули")}];this.block_id&&this.info.is_allow_statistics&&e.push({name:"statistics",title:this.$gettext("Статистика")}),this.$emit("update:tabs",e)},computed:{titles:function(){return{whatsapp:"WhatsApp",telegram:"Telegram",fb:"Facebook Messenger",vk:this.$gettext("ВКонтакте"),viber:"Viber",sk:"Skype",ln:"Line"}},textLine1:function(){return this.$gettext("Откройте Line@ > Выберите аккаунт > Найти новых друзей > Выберите URL-адрес > Копировать")},textLine2:function(){return this.$gettext("Откройте Line > Пригласить друзей > Пригласить > Поделиться > Выберите любой мессенджер или email > Скопируйте ссылку из сообщения")}},methods:{prepareValues:function(){var e=this.$clone(this.values);return e.addons_values=this.addons_values,e},getError:function(e,t){return this.errors[e]?this.errors[e][t]:null}},template:'<section class="modal-card-body modal-card-body-blocks"> <div slot="trigger"></div> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Клиенту больше не нужно будет запоминать ваш номер, сохранять, заходить в месенджер, искать вас и писать сообщение, ведь, чем сложнее с вами связаться, тем больше вероятность, что клиент отвлечется и уже забудет о вас или ему будет просто лень писать вам! Вы можете уже заранее ввести нужный текст-шаблон для клиента, чтобы ему не пришлось ничего писать!\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <b-select v-model="values.messenger_style" :disabled="info.is_readonly" expanded> <option v-for="(f, i) in variants.messenger_style" :value="i">{{ f }}</option> </b-select> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <sortable-list class="form-fields-item-list" lockAxis="y" v-model="values.items" use-drag-handle> <sortable-item v-for="(link, index) in values.items" class="form-fields-item" :class="{in: link.a}" :index="index" :key="index" :item="link" :disabled="info.is_readonly"> <div class="form-fields-item-title" @click="link.a = !link.a"> <div v-sortable-handle class="form-fields-item-handle"></div> <span>{{titles[link.n]}}</span> <mx-toggle v-model="link.a" class="pull-right"></mx-toggle> </div> <div class="form-fields-item-options" v-if="link.a"> <div v-if="platforms[link.n] != undefined"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="link.t" class="input" :placeholder="platforms[link.n].placeholder|gettext|format(titles[link.n])" :disabled="info.is_readonly"> </b-field> <div class="form-messengers-switch has-text-grey" v-if="Object.keys(platforms[link.n].types).length> 1"> <a href="#" v-for="(t, k) in platforms[link.n].types" :class="{\'has-text-black\': link.tp == k, \'has-text-grey\': link.tp != k}" @click="link.tp = k">{{t.check|gettext}}</a> </div> <b-field v-for="(t, k) in platforms[link.n].types" v-if="(Object.keys(platforms[link.n].types).length == 1) || (link.tp == k)" :label="t.label|gettext" :message="getError(link.n, k)" :class="{\'has-error\': getError(link.n, k)}"> <input v-model="link[k]" v-if="t.type == \'input\'" class="input" :disabled="info.is_readonly" :placeholder="t.placeholder|gettext"> <mx-phone v-model="link[k]" v-if="t.type == \'phone\'" :disabled="info.is_readonly"></mx-phone> </b-field> <b-field v-for="(ipt, inm) in platforms[link.n].inputs" :label="ipt.label|gettext"> <textarea v-if="ipt.type == \'textarea\'" v-model="link[inm]" :placeholder="ipt.placeholder|gettext" class="input" :disabled="info.is_readonly" style="min-height: 100px"></textarea> </b-field> </div> <div v-if="link.n == \'ln\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="link.t" class="input" :placeholder="\'Например: Напишите в Line\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Имя пользователя\'|gettext" :message="getError(\'ln\', \'v\')" :class="{\'has-error\': getError(\'ln\', \'v\')}" :disabled="info.is_readonly"> <input v-model="link.v" class="input"> </b-field> <div>{{\'Как получить ссылку\'|gettext}}: <b-tooltip :label="textLine1" position="is-top" animated multilined type="is-black"><span class=\'has-text-danger\'>Line@</span></b-tooltip> / <b-tooltip :label="textLine2" position="is-top" animated multilined type="is-black"><span class=\'has-text-danger\'>Line</span></b-tooltip> </div> </div> </div> </sortable-item> </sortable-list> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-design :values.sync="values.design" :info="info"></vue-pages-blocks-form-design> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <keep-alive> <vue-pages-blocks-form-addons :block_id="block_id" :block_type_id="block_type_id" :addons_values.sync="addons_values" :disabled="info.is_readonly" :parent="parent" v-if="currentTab == \'addons\'" @click="$parent.scrollToTariff"> <template slot="message">{{\'Вы можете выбрать модули которые будут срабатывать для данной ссылки\'|gettext}}</template> <template slot="empty">{{\'Модули для данного блока еще не подключены\'|gettext}}</template> </vue-pages-blocks-form-addons> </keep-alive> <keep-alive> <vue-pages-blocks-form-statistics :page_id="values.page_id" :block_id="block_id" v-if="currentTab == \'statistics\'" @click="$parent.scrollToTariff"></vue-pages-blocks-form-statistics> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-page",{props:["values","info","variants","block","block_id","tabs","currentTab"],mixins:[FormModel],created:function(){this.block.title=this.$gettext("Новая страница"),this.$emit("update:message",this.$gettext("С помощью этого блока, вы сможете создавать множество внутренних страниц с отдельной ссылкой")),this.$emit("update:tabs",[])},methods:{prepareValues:function(){return this.values}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <b-field :label="\'Открыть страницу\'|gettext"> <b-select v-model="values.link_page_id" :disabled="info.is_readonly" expanded> <option :value="null">{{\'-- Создать новую страницу --\'|gettext}}</option> <option v-for="(v, k) in variants.link_page_id" :value="k">{{v}}</option> </b-select> </b-field> <b-field :label="\'Название страницы\'|gettext" :message="errors.title" :class="{\'has-error\': errors.title}" v-if="!values.link_page_id"> <input v-model="values.title" class="input" :disabled="info.is_readonly"> </b-field> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-pictures",{data:function(){return{index:0,picturesUpdating:0,resortMode:!1,deviceStyle:"margin: 0 auto;display: block;height: auto"}},props:["values","options","variants","info","block","block_id","statistics","tabs","currentTab"],mixins:[FormModel],created:function(){var e=[{name:"common",title:this.$gettext("Картинки")},{name:"options",title:this.$gettext("Настройки")}];this.block_id&&e.push({name:"statistics",title:this.$gettext("Статистика")});this.$account.theme;this.values.design.text||(this.values.design.text="#000000"),this.values.design.bg||(this.values.design.bg="#ffffff"),this.values.design.button_text||(this.values.design.button_text="#0383de"),this.block.title=this.$gettext("Карусель картинок"),this.$emit("update:tabs",e)},mounted:function(){var i=this;$mx(this.$refs.device).on("changeindex",function(e,t){i.index=t})},destoyed:function(){$mx(this.$refs.device).off("changeindex")},computed:{link:function(){return this.values.list[this.index].link},pictureSizeStyle:function(){return"padding-top:"+{100:100,70:"70.6",50:50,138:"141.4516"}[this.values.picture_size]+"%"},stylesheetText:function(){var e="";return this.values.design.on&&(this.values.design.text||this.values.design.bg)&&(e=(this.values.design.text?"color:"+this.values.design.text+" !important;":"")+(this.values.design.bg?"background:"+this.values.design.bg+" !important;":"")),e},stylesheetLink:function(){var e="";return this.values.design.on&&(this.values.design.button_text||this.values.design.bg)&&(e=(this.values.design.button_text?"color:"+this.values.design.button_text+" !important;":"")+(this.values.design.bg?"background:"+this.values.design.bg+" !important;":"")),e}},methods:{switchReorderMode:function(){var t=this;this.resortMode=!this.resortMode,this.resortMode&&this.$nextTick(function(){var e=t.$refs.toolbar;scrollIt(e,"y",$mx(e).closest(window.matchMedia("(max-width: 767px)").matches?".modal-card-body":".modal")[0],400)})},prepareResortStyle:function(e){return null==e||null!=e.progress||null==e.link?"none":"url("+e.link+")"},onDeletePicture:function(e,t){1!=this.values.list.length?(this.index==e&&e&&this.setIndex(this.index-1),this.values.list.splice(e,1),1==this.values.list.length&&(this.resortMode=!1)):t.empty&&this.$alert(this.$gettext("В карусели должна быть хотя бы одна картинка"),"is-danger")},addSlide:function(){15<=this.values.list.length?this.$alert(this.$gettext("Максимальное количество слайдов")+": 15","is-danger"):(this.values.list.push({p:null,s:"",t:"",link:{title:"",type:this.values.list[this.index].link.type,link:"",link_page_id:null,product:"",collection:""}}),this.setIndex(this.values.list.length-1))},setIndex:function(t){var i=this;this.index=t,this.$nextTick(function(){var e=i.$refs.sliders.querySelectorAll("div");$mx(e[t]).trigger("click")})},prepareValues:function(){var e=this.$clone(this.values);e.list=_.map(e.list,function(e){return e.p=e.p?e.p.picture_id:null,e});this.$account.theme;return"#000000"==e.design.text&&"#ffffff"==e.design.bg&&"#0383de"==e.design.button_text&&(e.design={on:!1}),e},startUploading:function(){this.picturesUpdating++},stopUploading:function(){this.picturesUpdating--},showErrors:function(e){var t=this;null!=e.errors["slide:position"]&&(this.$refs.sliders.childNodes[e.errors["slide:position"]].click(),setTimeout(function(){$mx(t.$refs.linkEditor.$el).find(".link-editor-place input, .link-editor-place select")[0].focus()},100))}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Здесь вы можете загрузить изображения или галерею картинок, добавить к ним описание и ссылки\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <div class="field"> <div class=\'device-pictures-form device-pictures-form-pictures\'> <center> <div class="device has-shadow is-large is-hide-mobile" :class="{disabled: info.is_readonly}" style="margin:0 auto;min-height:auto"> <div class="notch"></div> <div class="screen page-font"> <div ref=\'device\' class="slider slider-pictures has-pb-2" :class="{\'slider-has-text\': values.options.text, \'slider-has-link\': values.options.link, \'slider-has-border\': !values.remove_border}"> <div class="slider-inner"> <div class="slider-slide" v-for="(f, i) in values.list"> <vue-component-pictures v-model="f.p" :button-title="\'Загрузить картинку\'|gettext" button-icon="fa fal fa-cloud-upload" class="picture-container picture-container-upload" :style="pictureSizeStyle" @delete="onDeletePicture(i, $event)" always-delete-button updatable :disabled="info.is_readonly" @startUploading="startUploading" @stopUploading="stopUploading"></vue-component-pictures> <div class="slider-slide-text" :style="stylesheetText"> <div class="slider-slide-title" v-if="f.t">{{f.t}}</div> <div class="slider-slide-title" v-else>{{\'Заголовок\'|gettext}}</div> <div class="slider-slide-snippet">{{f.s}}</div> </div> <a class="slider-slide-link" :style="stylesheetLink" v-if="f.link.title">{{f.link.title}}</a> <a class="slider-slide-link" :style="stylesheetLink" v-else>{{\'Открыть\'|gettext}}</a> </div> </div> <div class="slider-nav" :class="{\'is-hidden\': values.list.length == 1}" ref=\'sliders\'> <div v-for="(v, i) in values.list" class="slider-dot" :class="{active: index== i}" @click="index = i"></div> </div> </div> </div> </div> </center> <div class=\'form-shadow form-shadow-bottom is-hidden-mobile\' style="height: 20px"></div> </div> <div class="has-pt-2 row row-small" ref=\'toolbar\'> <div class="col-xs-6 col-sm-5 col-sm-offset-1"> <button type="button" class="button is-success is-fullwidth" :disabled="info.is_readonly || resortMode" @click="addSlide"><i class=\'fas fa-plus has-mr-1\'></i>{{\'Новый слайд\'|gettext}}</button> </div> <div class="col-xs-6 col-sm-5"> <button type="button" :class="[\'button is-dark is-fullwidth\', {\'is-active\': resortMode}]" @click="switchReorderMode" :disabled="info.is_readonly || values.list.length < 2">{{\'Порядок слайдов\'|gettext}}</button> </div> </div> </div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <div v-if="resortMode"> <sortable-list v-model="values.list" class="pictures-sortable-list pictures-form-resort" axis="xy" use-drag-handle v-if="resortMode"> <sortable-item v-for="(v, i) in values.list" class="upload-picture upload-picture-multiple" :index="i" :key="i" :item="v"> <div v-sortable-handle :class="[\'picture-container pictures-form-resort-item\', {\'picture-container-empty\': !v.p}]" :style="{\'background-image\':prepareResortStyle(v.p)}"></div> </sortable-item> </sortable-list> </div> <div v-else> <mx-toggle v-model="values.options.text" :title="\'Добавить описание\'|gettext" :disabled="info.is_readonly"></mx-toggle> <div style="padding-top: 15px" v-if="values.options.text"> <div class="has-mb-2"> <label class="label">{{\'Заголовок\'|gettext}}</label> <vue-component-emoji-picker v-model="values.list[index].t"> <input type="text" v-model="values.list[index].t" class="input" maxlength="50" :disabled="info.is_readonly"> </vue-component-emoji-picker> </div> <div> <label class="label">{{\'Описание\'|gettext}}</label> <vue-component-emoji-picker v-model="values.list[index].s"> <textarea class="input" v-model="values.list[index].s" rows="5" id=\'sliderTextSnippet\' maxlength="400" :disabled="info.is_readonly"></textarea> </vue-component-emoji-picker> </div> </div> </div> </section> <section v-if="currentTab == \'common\' && !resortMode" @click="$parent.scrollToTariff"> <mx-toggle v-model="values.options.link" :title="\'Добавить ссылку\'|gettext" :disabled="info.is_readonly"></mx-toggle> <div style="padding-top: 15px" v-if="values.options.link"> <div class="has-mb-2"> <label class="label">{{\'Текст ссылки\'|gettext}}</label> <input type=\'text\' class=\'input\' v-model="link.title" :disabled="info.is_readonly"> </div> <vue-component-link-editor :values.sync="link" :variants="variants" :info="info" ref="linkEditor"></vue-component-link-editor> </section> <section v-if="currentTab == \'common\' && !resortMode" @click="$parent.scrollToTariff"> <div class="row"> <div class="col-sm-12"> <label class=\'label\'>{{\'Размер картинки\'|gettext}}</label> <b-select v-model="values.picture_size" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.picture_size" :value="k">{{v}}</option> </b-select> </div> </div> </section> <section v-if="currentTab == \'common\' && !resortMode" @click="$parent.scrollToTariff"> <div class="row"> <div class="col-sm-12"> <label class=\'label\'>{{\'Автоматическая смена слайдов\'|gettext}}</label> <div class="row"> <div class="col-xs-6 col-sm-4"> <div class="field has-addons"> <div class="control is-expanded"><input type=\'number\' v-model=\'values.carousel_interval\' class=\'input\' :disabled="info.is_readonly || !values.carousel_ride"></div> <div class="control"><span class="button is-static">{{\'сек\'|gettext}}</span></div> </div> </div> <div class="col-xs-6 col-sm-8"> <b-checkbox v-model=\'values.carousel_ride\' :disabled="info.is_readonly">{{\'Включить\'|gettext}}</b-checkbox> </div> </div> </div> </div> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <div class="label-pro-container"> <div class="tag is-pro" v-if="$account.tariff != \'pro\' && $account.tariff != \'business\'" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна<br>на pro тарифе\'|gettext">pro</div> <div :class="{disabled: $account.tariff != \'pro\' && $account.tariff != \'business\'}"> <div class="has-mb-2"><mx-toggle v-model=\'values.design.on\' :title="\'Свои настройки дизайна\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div class="has-mb-4" v-if="values.design.on"> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.design.bg" :disabled="info.is_readonly" :colors="[$account.theme.link.bg]" :label="\'Цвет фона кнопки\'|gettext"></vue-component-colorpicker> </div> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.design.text" :disabled="info.is_readonly" :colors="[$account.theme.link.color]" :label="\'Цвет текста\'|gettext"></vue-component-colorpicker> </div> <div class="has-mb-2"> <vue-component-colorpicker v-model="values.design.button_text" :disabled="info.is_readonly" :colors="[$account.theme.link.color]" :label="\'Цвет текста кнопки\'|gettext"></vue-component-colorpicker> </div> </div> </div> </div> <div class="has-mb-2"><mx-toggle v-model=\'values.remove_border\' :title="\'Убрать бордюр\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <div class="has-mb-2"><mx-toggle v-model=\'values.is_desktop_fullwidth\' :title="\'Отображать боковые слайды на ПК\'|gettext" :disabled="info.is_readonly"></mx-toggle></div> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <keep-alive> <vue-pages-blocks-form-statistics :page_id="values.page_id" :block_id="block_id" :disabled="info.is_readonly" v-if="currentTab == \'statistics\'" @click="$parent.scrollToTariff"></vue-pages-blocks-form-statistics> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-socialnetworks",{props:["values","options","parent","variants","info","block","block_id","block_type_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{addons_values:null}},created:function(){this.block.title=this.$gettext("Социальные сети");var e=[{name:"common",title:this.$gettext("Ссылки")},{name:"options",title:this.$gettext("Настройки")},{name:"addons",title:this.$gettext("Модули")}];this.block_id&&this.info.is_allow_statistics&&e.push({name:"statistics",title:this.$gettext("Статистика")}),this.$emit("update:tabs",e)},computed:{titles:function(){return{vk:this.$gettext("ВКонтакте"),fb:"Facebook",youtube:"Youtube",twitter:"Twitter",pt:"Pinterest",ig:"Instagram",ok:this.$gettext("Одноклассники"),sn:"Snapchat",bh:"Behance",dr:"Dribbble",in:"LinkedIn",tc:"Twitch",tk:"TikTok"}}},methods:{prepareValues:function(){var e=this.$clone(this.values);return e.addons_values=this.addons_values,e},getError:function(e,t){return this.errors[e]?this.errors[e][t]:null}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Добавьте кнопки на другие социальные сети\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <b-select v-model="values.socials_style" :disabled="info.is_readonly" expanded> <option v-for="(f, i) in variants.socials_style" :value="i">{{ f }}</option> </b-select> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <sortable-list class="form-fields-item-list" lockAxis="y" v-model="values.items" use-drag-handle> <sortable-item v-for="(item, index) in values.items" class="form-fields-item" :index="index" :key="index" :item="item" :disabled="info.is_readonly"> <div class="form-fields-item" :class="{in: item.a}"> <div class="form-fields-item-title" @click="item.a = !item.a"> <div v-sortable-handle class="form-fields-item-handle"></div> <span>{{titles[item.n]}}</span> <mx-toggle v-model="item.a" class="pull-right"></mx-toggle> </div> <div class="form-fields-item-options"> <div v-if="item.n == \'fb\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Моя страница в Facebook\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Ссылка Facebook\'|gettext" :message="getError(\'fb\', \'link\')" :class="{\'has-error\': getError(\'fb\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'youtube\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой Youtube канал\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Ссылка на Youtube канал\'|gettext" :message="getError(\'youtube\', \'link\')" :class="{\'has-error\': getError(\'youtube\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> <b-checkbox v-model="item.join" :disabled="info.is_readonly">{{\'Ссылка ведет на действие подписки\'|gettext}}</b-checkbox> </div> <div v-if="item.n == \'vk\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Моя страница в ВКонтакте\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль ВКонтакте\'|gettext" :message="getError(\'vk\', \'link\')" :class="{\'has-error\': getError(\'vk\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'ok\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Моя страница в Одноклассниках\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Ссылка в Одноклассники\'|gettext" :message="getError(\'ok\', \'link\')" :class="{\'has-error\': getError(\'ok\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'twitter\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Моя страница в Twitter\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Ссылка Twitter\'|gettext" :message="getError(\'twitter\', \'link\')" :class="{\'has-error\': getError(\'twitter\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'tc\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Моя страница в Twitch\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Ссылка Twitch\'|gettext" :message="getError(\'tc\', \'link\')" :class="{\'has-error\': getError(\'tc\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'ig\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой Instagram\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль Instagram\'|gettext" :message="getError(\'ig\', \'link\')" :class="{\'has-error\': getError(\'ig\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'pt\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой Pinterest\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль Pinterest\'|gettext" :message="getError(\'pt\', \'link\')" :class="{\'has-error\': getError(\'pt\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'in\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой LinkedIn\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль LinkedIn\'|gettext" :message="getError(\'in\', \'link\')" :class="{\'has-error\': getError(\'in\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'sn\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой Snapchat\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль Snapchat\'|gettext" :message="getError(\'sn\', \'link\')" :class="{\'has-error\': getError(\'sn\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'bh\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой Behance\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль Behance\'|gettext" :message="getError(\'bh\', \'link\')" :class="{\'has-error\': getError(\'bh\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'dr\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой Dribbble\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Профиль Dribbble\'|gettext" :message="getError(\'dr\', \'link\')" :class="{\'has-error\': getError(\'dr\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> <div v-if="item.n == \'tk\'"> <b-field :label="\'Текст ссылки\'|gettext"> <input v-model="item.t" class="input" :placeholder="\'Например: Мой TikTok\'|gettext" :disabled="info.is_readonly"> </b-field> <b-field :label="\'Ссылка TikTok\'|gettext" :message="getError(\'tk\', \'link\')" :class="{\'has-error\': getError(\'tk\', \'link\')}"> <input v-model="item.v" class="input" :disabled="info.is_readonly"> </b-field> </div> </div> </div> </sortable-item> </sortable-list> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-design :values.sync="values.design" :info="info"></vue-pages-blocks-form-design> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <keep-alive> <vue-pages-blocks-form-addons :block_id="block_id" :block_type_id="block_type_id" :addons_values.sync="addons_values" :disabled="info.is_readonly" :parent="parent" v-if="currentTab == \'addons\'" @click="$parent.scrollToTariff"> <template slot="message">{{\'Вы можете выбрать модули которые будут срабатывать для данной ссылки\'|gettext}}</template> <template slot="empty">{{\'Модули для данного блока еще не подключены\'|gettext}}</template> </vue-pages-blocks-form-addons> </keep-alive> <keep-alive> <vue-pages-blocks-form-statistics :page_id="values.page_id" :block_id="block_id" v-if="currentTab == \'statistics\'" @click="$parent.scrollToTariff"></vue-pages-blocks-form-statistics> </keep-alive> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-text",{props:["values","options","info","variants","block","block_id","tabs","currentTab"],mixins:[FormModel],data:function(){return{text_sizes:{sm:"1.03",md:"1.26",lg:"1.48",h3:"1.71",h2:"2.2",h1:"3.5"},text_aligns:["left","center","right","justify"]}},computed:{style:function(){var e={h2:1.25,h1:1.15};return{"font-family":this.values.font?globalFontsFallback[this.values.font]:null,padding:".5rem 1rem","line-height":null==e[this.values.text_size]?1.4:e[this.values.text_size],"text-align":this.values.text_align+" !important","font-size":this.text_sizes[this.values.text_size]+"rem !important",color:this.values.color,background:this.values.color!=this.$account.theme.bg.color1?this.$account.theme.bg.color1:null}}},created:function(){this.block.title=this.$gettext("Текст"),this.values.color||(this.values.color=this.$account.theme.screen.color),""==this.values.font&&(this.values.font=this.$account.theme.screen.font),this.$emit("update:tabs",[{name:"common",title:this.$gettext("Текст")},{name:"options",title:this.$gettext("Настройки")}])},methods:{prepareValues:function(){var e=this.$clone(this.values),t=this.$account.theme;return e.color==t.screen.color&&(e.color=""),e.font==t.screen.font&&(e.font=""),e}},template:'<section class="modal-card-body modal-card-body-block-text modal-card-body-blocks"> <section v-if="currentTab == \'common\'"> <div class="row row-small has-mb-2"> <div class="col-xs-8 col-sm has-xs-mb-2"> <b-field> <b-select v-model="values.text_size" :disabled="info.is_readonly" expanded> <optgroup :label="\'Текст\'|gettext"> <option value="sm">{{\'Маленький текст\'|gettext}}</option> <option value="md">{{\'Средний текст\'|gettext}}</option> <option value="lg">{{\'Большой текст\'|gettext}}</option> </optgroup> <optgroup :label="\'Заголовок\'|gettext"> <option value="h3">{{\'Маленький заголовок\'|gettext}}</option> <option value="h2">{{\'Средний заголовок\'|gettext}}</option> <option value="h1">{{\'Большой заголовок\'|gettext}}</option> </optgroup> </b-select> </b-field> </div> <div class="col-xs col-sm-shrink"> <vue-component-font-chooser v-model="values.font" :fullwidth="true"></vue-component-font-chooser> </div> <div class="col-xs col-sm-shrink"> <b-field> <b-radio-button v-model="values.text_align" v-for="v in text_aligns" type="is-dark" class="is-expanded" :native-value="v" :disabled="info.is_readonly"><i :class="\'fa fa-align-{1}\'|format(v)"></b-radio-button> </b-field> </div> <div class="col-xs col-shrink"> <vue-component-colorpicker v-model="values.color" :disabled="info.is_readonly" :colors="[$account.theme.screen.color]"></vue-component-colorpicker> </div> </div> <vue-component-emoji-picker v-model="values.text"> <textarea class="input" :placeholder="\'Текст\'|gettext" :style="style" v-emoji v-model="values.text" :disabled="info.is_readonly"></textarea> </vue-component-emoji-picker> </section> <section v-if="currentTab == \'options\'"> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-timer",{data:function(){return{weekdays:this.$getDaysNames(),months:this.$getMonthsNames(),first_day_week:this.$getFirstDayWeek()}},props:["values","options","variants","info","block","block_id","tabs","currentTab"],mixins:[FormModel],computed:{date:{get:function(){return this.values.timer[1].date?new Date(this.values.timer[1].date):null},set:function(e){this.values.timer[1].date=e?date_format("Y-m-d",e):null}},time:{get:function(){if(this.values.timer[1].time){var e=this.values.timer[1].time.split(":");return new Date(0,0,0,e[0],e[1])}return null},set:function(e){this.values.timer[1].time=e?date_format("H:i",e):null}},timeEveryday:{get:function(){if(this.values.timer[3].time){var e=this.values.timer[3].time.split(":");return new Date(0,0,0,e[0],e[1])}return null},set:function(e){this.values.timer[3].time=e?date_format("H:i",e):null}}},created:function(){this.block.title=this.$gettext("Таймер обратного отсчета"),this.$emit("update:tabs",[{name:"common",title:this.$gettext("Таймер")},{name:"options",title:this.$gettext("Настройки")}])},methods:{prepareValues:function(){return this.values}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Добавьте таймер обратного отсчета для временного ограничения — успеть поучаствовать в акции, записаться на курс и т.д.\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <b-field :label="\'Тип таймера\'|gettext"> <b-select v-model="values.type" :disabled="info.is_readonly" expanded> <option v-for="(v, k) in variants.type" :value="k">{{v}}</option> </b-select> </b-field> <div v-if="values.type == 1"> <div class="message is-info" v-if="!info.is_readonly"> <div class="message-body">{{\'Укажите дату и время окончания отсчета\'|gettext}}</div> </div> <div class="row"> <div class="col-xs-8"> <b-field :label="\'Дата\'|gettext" :message="errors.tms_1" :class="{\'has-error\': errors.tms_1}"> <div class="has-feedback"> <b-datepicker v-model="date" icon="calendar-alt" :disabled="info.is_readonly" :day-names="weekdays" :month-names="months" :first-day-of-week="first_day_week"></b-datepicker> <a class="form-control-feedback has-text-grey-light" @click="date = null" :class="{disabled: info.is_readonly}"><i class="fal fa-times"></i></a> </div> </b-field> </div> <div class="col-xs-4"> <label class="label">{{\'Время\'|gettext}}:</label> <div class="has-feedback"> <b-clockpicker v-model="time" :disabled="info.is_readonly" hour-format="24"></b-clockpicker> <a class="form-control-feedback has-text-grey-light" @click="time = null" :class="{disabled: info.is_readonly}"><i class="fal fa-times"></i></a> </div> </div> </div> </div> <div v-if="values.type == 2"> <div class="message is-info"><div class="message-body">{{\'Таймер будет запущен при первом посещении страницы клиентом. Укажите длительность таймера.\'|gettext}}</div></div> <b-field :message="errors.tms_2" :class="{\'has-error\': errors.tms_2}"> <div class="row has-mb-3"> <div class="col-xs-4 col-sm-3"> <label class="label">{{\'Дни\'|gettext}}:</label> <input type=\'number\' v-model=\'values.timer[2].days\' class=\'input\' placeholder="0" maxlength="3" :disabled="info.is_readonly" min="1" max="99"> </div> <div class="col-xs-4 col-sm-3"> <label class="label">{{\'Часы\'|gettext}}:</label> <input type=\'number\' v-model=\'values.timer[2].hours\' class=\'input\' placeholder="00" maxlength="2" :disabled="info.is_readonly" min="1" max="24"> </div> <div class="col-xs-4 col-sm-3"> <label class="label">{{\'Минуты\'|gettext}}:</label> <input type=\'number\' v-model=\'values.timer[2].minutes\' class=\'input\' placeholder="00" maxlength="2" :disabled="info.is_readonly" min="1" max="60"> </div> </div> </b-field> <b-field :label="\'Через сколько дней сбрасывать таймер\'|gettext" :message="errors.expires_2" :class="{\'has-error\': errors.expires_2}"> <div class="row"> <div class="col-xs-4 col-sm-3"> <input type=\'number\' v-model=\'values.timer[2].expires\' class=\'input\' placeholder="0" maxlength="3" :disabled="info.is_readonly"> </div> </div> </b-field> </div> <div v-if="values.type == 3"> <div class="message is-info"><div class="message-body">{{\'Таймер будет перезапускаться каждый день. Укажите время окончания таймера.\'|gettext}}</div></div> <b-field :label="\'Время\'|gettext" :message="errors.tms_3" :class="{\'has-error\': errors.tms_3}"> <div class="row"> <div class="col-md-3 col-sm-4 col-xs-6"> <div class="has-feedback"> <b-clockpicker v-model="timeEveryday" :disabled="info.is_readonly" hour-format="24"></b-clockpicker> <a class="form-control-feedback has-text-grey-light" @click="timeEveryday = null" :class="{disabled: info.is_readonly}"><i class="fal fa-times"></i></a> </div> </div> </div> </b-field> </div> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-blocks-video",{props:["values","options","info","variants","block","block_id","tabs","currentTab"],mixins:[FormModel],created:function(){this.block.title=this.$gettext("Видео"),this.$emit("update:tabs",[{name:"common",title:this.block.title},{name:"options",title:this.$gettext("Настройки")}])},computed:{provider:function(){return VideoHelper.getProviderName(this.values.url)}},methods:{prepareValues:function(){var e=this.$clone(this.values);return e.poster&&(e.poster=e.poster.picture_id),e}},template:'<section class="modal-card-body modal-card-body-blocks"> <section v-if="info.is_readonly && (currentTab == \'common\')" class="message is-warning"> <div class="message-body">{{\'Вставьте видео для быстрого просмотра прямо на вашу страницу, без перехода на другой сайт\'|gettext}}</div> </section> <section v-if="currentTab == \'common\'" @click="$parent.scrollToTariff"> <b-field :label="\'Ссылка на видео\'|gettext" :message="errors.url" :class="{\'has-error\': errors.url}"> <div class="control"> <input type="text" class="input" v-model="values.url" placeholder=\'http://\' autocorrect="off" autocapitalize="none" :disabled="info.is_readonly"></input> <p class="help has-text-grey" v-if="!errors.url">{{\'Поддерживается YouTube, Vimeo и видео формата mp4, m3u8 и webm\'|gettext}}</p> </div> </b-field> <transition name="fade"> <vue-component-pictures v-model="values.poster" v-if="provider == \'file\'" :button-title="\'Загрузить обложку\'|gettext" button-icon="fa fal fa-cloud-upload" updatable class="addon-opengraph-picture has-mb-2"></vue-component-pictures> </transition> <mx-toggle v-model="values.is_autoplay" :title="\'Автовоспроизведение на компьютере\'|gettext" class="has-mb-2" :disabled="info.is_readonly"></mx-toggle> <mx-toggle v-model="values.is_autohide" :title="\'Скрыть элементы управления\'|gettext" :disabled="info.is_readonly"></mx-toggle> </section> <section v-if="currentTab == \'options\'" @click="$parent.scrollToTariff"> <vue-pages-blocks-form-options :values.sync="options" :info="info"></vue-pages-blocks-form-options> </section> <slot></slot> </section>'}),window.$app.defineComponent("pages","vue-pages-choose-form",{data:function(){return{mainPage:null,isFetching:!1,isMainpageChanging:!1,values:{pages:[]}}},props:["is_readonly"],created:function(){this.fetchData(!0)},methods:{onAction:function(e){switch(e){case"change":this.mainPage=this.$account.page_id,this.isMainpageChanging=!0}},saveMainpage:function(){var t=this;this.$account.page_id!=this.mainPage?this.$api.get("pages/changemainpage",{page_id:this.mainPage},this).then(function(e){t.$account.page_id=t.mainPage,t.isFetching=!1,t.isMainpageChanging=!1}):this.isMainpageChanging=!1},fetchData:function(e){var t=this;this.isFetching=e,this.$api.get("pages/list").then(function(e){t.isFetching=!1,t.values.pages=e.response.pages})},openPage:function(e){this.$router.replace({name:"pages",params:{page_id:e}}),this.$parent.close()},newPage:function(){this.$form("vue-pages-page-form",null,this),this.$parent.close()}},template:'<div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title" v-if="isMainpageChanging">{{\'Смена главной страницы\'|gettext}}</p> <p class="modal-card-title" v-else>{{\'Страницы\'|gettext}}</p> <button class="modal-close is-large" @click="$parent.close()"></button> </header> <section class="modal-card-body modal-card-body-blocks"> <div class="modal-pages-list"> <div v-if="isMainpageChanging"> <label class="item radio" v-for="f in values.pages"> <input type="radio" v-model="mainPage" :value="f.page_id"> <span v-if="f.title">{{f.title}}</span><span v-else class="has-text-grey">{{\'Без имени\'|gettext}}</span> </label> </div> <div v-else> <a class="item" @click="newPage" v-if="!is_readonly"><i class="fa fal fa-plus"></i> {{\'Создать новую страницу\'|gettext}}</a> <div class="modal-pages-list-hr" v-if="values.pages.length"></div> <a class="item" @click="openPage(f.page_id)" v-for="f in values.pages"> <i class="fa fal fa-mobile-android"></i> <span v-if="f.title">{{f.title}}</span><span v-else class="has-text-grey">{{\'Без имени\'|gettext}}</span> <span class="tag is-rounded is-success is-pulled-right" v-if="$account.page_id == f.page_id">{{\'Главная страница\'|gettext}}</span> </a> </div> </div> </section> <footer class="modal-card-foot level"> <div class="level-left"> <vue-component-action-button @action="onAction" v-if="!isMainpageChanging && !is_readonly" :title="\'Действие\'|gettext"> <template slot="actions"> <b-dropdown-item value="change"><i class="fa fa-home"></i> {{\'Сменить главную страницу\'|gettext}}</b-dropdown-item> </template> </vue-component-action-button> </div> <div class="level-right" v-if="isMainpageChanging"> <button class="button is-dark" type="button" @click="isMainpageChanging = false" :disabled="isFetching">{{\'Отмена\'|gettext}}</button> <button class="button is-primary" type="button" @click="saveMainpage" :disabled="isFetching">{{\'Сохранить\'|gettext}}</button> </div> <div class="level-right" v-else> <button class="button is-dark" type="button" @click="$parent.close()">{{\'Закрыть\'|gettext}}</button> </div> </footer> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("pages","vue-pages-nickname-changed-form",{data:function(){return{isFetching:!1,isUpdating:!1,values:{}}},created:function(){this.fetchData(!0)},methods:{fetchData:function(e){var t=this;this.isFetching=e,this.$api.get("pages/nicknamechanged/get").then(function(e){t.isFetching=!1,t.values=e.response.pages.nicknamechanged})},updateData:function(){var t=this;this.isUpdating=!0,this.$api.post("pages/nicknamechanged/set",{},this).then(function(e){"success"==e.result&&t.$auth.refresh(e.response,function(){t.$parent.close()}),t.isUpdating=!1}).catch(function(e){t.isUpdating=!1})}},template:'<div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title">{{\'Обновление ссылки\'|gettext}}</p> <button class="modal-close is-large" @click="$parent.close()"></button> </header> <section class="modal-card-body"> <div class="message is-danger" v-if="values.is_busy"> <div class="message-body">{{\'Вы не можете поменять ссылку, имя уже занято другим аккаунтом.\'|gettext}}</div> </div> <div class="field"> {{\'Ваш никнейм в Instagram изменился. Вам необходимо обновить ссылку в Instagram, после чего нажмите кнопку "Я обновил ссылку", чтобы зафиксировать изменения.\'|gettext}} </div> <div class="field"> <label class="label">{{\'Старая ссылка\'|gettext}}</label> <input type="text" class="input" readonly="on" :value="values.old|sprintf(\'https://taplink.cc/%s\')"> </div> <div class="field"> <label class="label">{{\'Новая ссылка\'|gettext}}</label> <div class="field has-addons"> <div class="control is-expanded"><input type="text" class="input" readonly="on" :value="values.new|sprintf(\'https://taplink.cc/%s\')" id=\'pageLinkNew\'></div> <div class="control"> <vue-component-clipboard :text="values.new|sprintf(\'https://taplink.cc/%s\')" class="button is-default" :show-icon="false">{{\'Скопировать\'|gettext}}</vue-component-clipboard> </div> </div> </div> </section> <footer class="modal-card-foot"> <button class="button is-primary" :class="{\'is-loading\': isUpdating}" @click="updateData" :disabled="values.is_busy">{{\'Я обновил ссылку\'|gettext}}</button> <button class="button is-dark" type="button" @click="$parent.close()">{{\'Пока не обновил\'|gettext}}</button> </footer> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("pages","vue-pages-page-form",{data:function(){return{activeTab:"common",isFetching:!1,isUpdating:!1}},props:{page_id:Number,values:{default:{}}},mixins:[FormModel],created:function(){this.page_id&&this.fetchData(!0)},computed:{pageLink:function(){return this.$account.link+"/p/"+parseInt(this.page_id).toString(16)+"/"},pageSafeLink:function(){return this.$account.link_safe+"/p/"+parseInt(this.page_id).toString(16)+"/"}},methods:{fetchData:function(e){var t=this;this.isFetching=e,this.$api.get("pages/props/get",{page_id:this.page_id}).then(function(e){t.isFetching=!1,t.values=e.response.pages.props.values})},updateData:function(){var t=this;this.isUpdating=!0,this.$api.post("pages/props/set",this.values,this).then(function(e){"success"==e.result&&(t.$parent.close(),t.page_id||(t.values.title="",t.$router.replace({name:"pages",params:{page_id:e.response.values.page_id}})),t.values={}),t.isUpdating=!1}).catch(function(e){t.isUpdating=!1})},deletePage:function(){var t=this;this.$confirm(this.$gettext("Вы уверены что хотите удалить эту страницу? Вы не сможете её вернуть!"),"is-danger").then(function(){t.$api.get("pages/delete",{page_id:t.page_id},t).then(function(e){"success"==e.result&&(t.$parent.close(),t.$router.replace({name:"pages",params:{page_id:t.$account.page_id}}))})})}},template:'<div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title" v-if="page_id">{{\'Страница\'|gettext}}</p> <p class="modal-card-title" v-else>{{\'Новая страница\'|gettext}}</p> <button class="modal-close is-large" @click="$parent.close()"></button> </header> <ul class="nav nav-tabs" v-if="page_id"> <li :class="{active: activeTab== \'common\'}"><a href="#" @click="activeTab = \'common\'">{{\'Ссылка\'|gettext}}</a></li> <li :class="{active: activeTab== \'qr\'}"><a href="#" @click="activeTab = \'qr\'">{{\'QR-код\'|gettext}}</a></li> </ul> <section class="modal-card-body" v-show="activeTab == \'common\'"> <b-field :label="\'Название страницы\'|gettext" :message="errors.title" :class="{\'has-error\': errors.title}"> <input type="text" class="input" v-model="values.title"> </b-field> <div class="field" v-if="values.page_id"> <label class="label">{{\'Ссылка на страницу\'|gettext}}</label> <div class="field has-addons"> <div class="control is-expanded"><input type=\'text\' class=\'input\' readonly=\'on\' id=\'pageLink\' :value="pageLink"></div> <div class="control"> <vue-component-clipboard :text="pageLink" class="button is-default" :show-icon="false">{{\'Скопировать\'|gettext}}</vue-component-clipboard> </div> </div> </div> </section> <section class="message is-info" v-if="activeTab == \'qr\'"><div class="message-body">{{\'Вы можете скачать и использовать ваш QR-код на визитках или флайерах\'|gettext}}</div></section> <section class="modal-card-body" v-if="activeTab == \'qr\'"> <vue-component-qrcode :value="pageSafeLink"></vue-component-qrcode> </section> <footer class="modal-card-foot level"> <div class="level-left"> <button v-if="values.page_id" class="button is-default has-text-danger" @click="deletePage"><i class="fa fa-trash-alt"></i><span class="is-hidden-mobile"> {{\'Удалить\'|gettext}}</span></button> </div> <div class="level-right"> <button class="button is-dark" type="button" @click="$parent.close()">{{\'Закрыть\'|gettext}}</button> <button class="button is-primary" :class="{\'is-loading\': isUpdating}" @click="updateData">{{\'Сохранить\'|gettext}}</button> </div> </footer> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("pages","vue-pages-page",{data:function(){return{isFetching:!1,data:{page:{is_readonly:!0},blocks:{},blocks_order:[]},variants:{text_sizes:{sm:"1.03",md:"1.26",lg:"1.48",h3:"1.71",h2:"2.2",h1:"3.5"}},tipsInited:!1,tipsChoose:!1,hasInstallBanner:!1,hideInstallBanner:!1,styles:{}}},props:["page_id"],created:function(){this.fetchData(!0);var e=document.location.search;e.match(/[\?|\&]wizard/)&&(e=e.replace(/[\?|\&]wizard/,""),this.$form("vue-pages-wizard-form",{page_id:this.page_id},this),this.$router.replace(document.location.pathname.substr(window.base_path.length-1)+e))},watch:{page_id:function(){this.fetchData(!0)}},mounted:function(){this.$io.on("events:page.blocks:refresh",this.eventRefreshBlocks),this.$io.on("events:page.blocks:resort",this.eventResortBlocks),this.$io.on("events:page.blocks:delete",this.eventDeleteBlock),this.$io.on("events:page.sections:update",this.eventSectionsUpdate),this.$io.on("events:account.username:changed",this.usernameChanged)},computed:{tipsChoosePage:function(){return!this.isFetching&&this.page_id!=this.$account.page_id&&this.tipsChoose?this.$gettext("Вы создали новую страницу, для навигации между вашими страницами нажмите тут"):""},inited:function(){return!this.isFetching&&this.tipsInited},linkDomain:function(){var e=this.$account;return e.custom_domain_verified?(e.custom_domain_secured?"https":"http")+"://"+e.custom_domain:"https://taplink.cc"},linkPath:function(){return this.linkDomain+this.$account.link_path+this.data.page.link.path},scrollContainer:function(){return window.matchMedia("(max-width: 767px)").matches?$mx(".main-block")[0]:document.scrollingElement||document.documentElement},sections:function(){var e=null,t=[],n={bg:null,bg_layer:null,blocks:[]};for(i=0;i<this.data.blocks_order.length;i++){var s=this.data.blocks[this.data.blocks_order[i]];if(null!=s){if(s.section_id!=e){n.blocks.length&&t.push(n);var a=null==this.data.sections[s.section_id]?null:this.data.sections[s.section_id];n={bg:a?buildStylesBackground({bg:a},"html"):null,bg_layer:a?buildStylesBackground({bg:a},"body"):null,blocks:[]}}n.blocks.push({i:i,block_id:s.block_id}),e=s.section_id}}return n.blocks.length&&t.push(n),t}},destroyed:function(){this.$io.off("events:page.blocks:refresh",this.eventRefreshBlocks),this.$io.off("events:page.blocks:resort",this.eventResortBlocks),this.$io.off("events:page.blocks:delete",this.deleteBlock),this.$io.off("events:page.sections.update",this.eventSectionsUpdate),this.$io.off("events:account.username:changed",this.usernameChanged)},methods:{bannerInnerStyle:function(e){return e.p?"width:"+(e.is_scale&&e.width?e.width:e.p.width)+"px":""},usernameChanged:function(){this.$account.nickname_changed=!0},prepareData:function(e){var n=this;return _.each(e.blocks,function(t){switch(t.block_type_name){case"link":t.stylesheet="",t.options.design.on&&(t.stylesheet+="background: "+t.options.design.bg+";border-color: "+t.options.design.bg+";color: "+t.options.design.text);break;case"banner":t.stylesheet_picture="padding-top: "+(t.options.p?t.options.p.height/t.options.p.width*100:50)+"%"+(t.options.p?";background: url(//"+n.$account.storage_domain+"/p/"+t.options.p.filename+")  0 0 / 100%":"");break;case"pictures":var i={100:100,70:"70.6",50:50,138:"141.4516"};_.each(t.options.list,function(e){e.stylesheet_picture="padding-top: calc("+i[t.options.picture_size]+"%)"+(e.p?";background-image: url("+e.p+")":""),e.stylesheet_text="",e.stylesheet_button="",t.options.design.on&&(t.options.design.text||t.options.design.bg)&&(e.stylesheet_text=(t.options.design.text?"color:"+t.options.design.text+" !important;":"")+(t.options.design.bg?"background:"+t.options.design.bg+" !important;":"")),t.options.design.on&&(t.options.design.text||t.options.design.bg)&&(e.stylesheet_button=(t.options.design.button_text?"color:"+t.options.design.button_text+" !important;":"")+(t.options.design.bg?"background:"+t.options.design.bg+" !important;":"")),t.options.link&&!e.link.title&&(e.link.title=n.$gettext("Открыть"))});break;case"socialnetworks":_.each(t.options.items,function(e){e.classname=("default"!=t.options.socials_style?"btn-socials btn-socials-"+e.n:"")+(-1!=["default","block"].indexOf(t.options.socials_style)?" btn-link-styled":"")}),t.stylesheet="",t.options.design.on&&(t.stylesheet+="background: "+t.options.design.bg+" !important;border-color: "+t.options.design.bg+" !important;color: "+t.options.design.text+" !important");break;case"messenger":_.each(t.options.items,function(e){e.classname="btn-link-"+t.options.messenger_style+" "+("default"!=t.options.messenger_style?"btn-socials btn-link-"+e.n:"")+(-1!=["default","block"].indexOf(t.options.messenger_style)?" btn-link-styled":"")}),t.stylesheet="",t.options.design.on&&"icon"!=t.options.messenger_style&&(t.stylesheet+="background: "+t.options.design.bg+" !important;border-color: "+t.options.design.bg+" !important;color: "+t.options.design.text+" !important");break;case"map":_.each(t.options.markers,function(e){e.title||(e.title=n.$gettext("Заголовок")),e.stylesheet="",t.options.design.on&&(t.options.design.text||t.options.design.bg)&&(e.stylesheet=(t.options.design.text?"color:"+t.options.design.text+" !important;":"")+(t.options.design.bg?"background:"+t.options.design.bg+" !important;border-color:"+t.options.design.bg+" !important;":""))});break;case"form":_.each(t.options.fields,function(e){switch(e.stylesheet="",t.options.design.on&&(t.options.design.text||t.options.design.bg)&&(e.stylesheet=(t.options.design.text?"color:"+t.options.design.text+" !important;":"")+(t.options.design.bg?"background:"+t.options.design.bg+" !important;border-color:"+t.options.design.bg+" !important;":"")),e.typename){case"paragraph":e.text=e.text.replace(/<a/g,"<span").replace(/<\/a>/g,"</span>");break;default:e.input_type="text","number"==e.typename&&(e.input_type="number")}});break;case"collapse":t.options.texts=_.map(t.options.texts,n.$nl2br)}var e=n.$auth.isAllowTariff(t.tariff);return t.is_visible&&(t.is_visible=e),StylesFactory.prepareStyles(t.block_id,t.block_type_name,t.options,n.styles),t}),StylesFactory.updateCSSBlock(this.styles,this.$refs.styles),e},eventSectionsUpdate:function(e){e.page_id==this.page_id&&(this.data.sections=Object.assign({},this.data.sections,e.sections))},eventDeleteBlock:function(e){e.page_id==this.page_id&&(delete this.data.blocks[e.block_id],this.data.blocks_order.splice(this.data.blocks_order.indexOf(e.block_id),1))},eventRefreshBlocks:function(e){var i=this;e.page_id==this.page_id&&(null!=e.block_id?this.$api.get("pages/blocks",{page_id:this.page_id,block_ids:[e.block_id]}).then(function(e){if("success"==e.result){var t=i.prepareData(e.response.page);i.data.blocks=Object.assign({},i.data.blocks,t.blocks)}}):this.fetchData())},eventResortBlocks:function(i){var n=this;if(i.page_id==this.page_id){function e(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}var t=e(this.data.blocks_order,i.blocks_order),s=e(i.blocks_order,this.data.blocks_order);t.length&&_.each(t,function(e){delete n.data.blocks[e],n.data.blocks_order.splice(n.data.blocks_order.indexOf(e),1)}),s.length?this.$api.get("pages/blocks",{page_id:this.page_id,block_ids:s}).then(function(e){if("success"==e.result){var t=n.prepareData(e.response.page);n.data.blocks=Object.assign({},n.data.blocks,t.blocks),n.data.blocks_order=i.blocks_order}}):this.data.blocks_order=i.blocks_order}null!=i.sections_changed&&_.each(i.sections_changed,function(e,t){n.data.blocks[t].section_id=e})},fetchData:function(e){var t=this;this.tipsChoose=this.tipsInited=!1,this.isFetching=e,this.$api.get("pages/get",{page_id:this.page_id}).then(function(e){t.styles={},t.data=t.prepareData(e.response.page),t.isFetching=!1,0==(2&t.$account.tips_bits)&&(t.checkWelcomePartnerAccess(),eventStack.push("google","startup"),eventStack.push("metrika","startup")),0==(1&t.$account.tips_bits)&&t.$auth.isAllowTariff("business")&&t.page_id!=t.$account.page_id&&(t.tipsChoose=!0,t.$account.tips_bits=1|t.$account.tips_bits),(m=document.location.hash.match("publish:?([a-z_]+)?"))&&(t.installPage(1<m.length?m[1]:null),document.location.hash="")})},showStartupTips:function(e){window.initStartup({langNewblock:this.$gettext("Чтобы добавить новый блок,<br>нажмите сюда"),langSort:this.$gettext("Вы можете менять блоки местами,<br>для этого перетащите нужный вам блок"),langEditblock:this.$gettext("Чтобы отредактировать блок,<br>просто нажмите на него")},e)},checkWelcomeWizard:function(){var e=this;0==(2&this.$account.tips_bits)&&this.$nextTick(function(){e.showStartupTips(function(){e.$account.tips_bits=2|e.$account.tips_bits})})},checkWelcomePartnerAccess:function(){null!=this.$account.partner.with_message&&this.$account.partner.with_message?this.$form("vue-pages-partner-access-form",{},this):this.checkWelcomeWizard()},openForm:function(e){this.$form("vue-pages-blocks-form-modal",{block_id:e},this)},newBlock:function(){this.$form("vue-pages-blocks-form-modal",{page_id:this.page_id},this)},prepareText:function(e){return e.trim()?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br>"):this.$gettext("Редактировать текст")},prepareTextStyle:function(e){var t={h2:1.25,h1:1.15};return{"font-family":e.font?globalFontsFallback[e.font]:null,"text-align":e.text_align,"line-height":null==t[e.text_size]?1.4:t[e.text_size],"font-size":this.variants.text_sizes[e.text_size]+"rem",color:e.color+"!important"}},addLinkPage:function(e,t){this.$form("vue-pages-page-form",{values:{block_id:e,title:t}},this)},installPage:function(e){this.$form("vue-pages-publish-form",{is_readonly:this.data.page.is_readonly,target:e},this)},installPageBanner:function(){this.installPage(),this.hideInstallBanner=!0},configurePage:function(){this.$form("vue-pages-page-form",{page_id:this.data.page.page_id},this)},choosePage:function(){this.$form("vue-pages-choose-form",{is_readonly:this.data.page.is_readonly},this)},changeNickname:function(){this.$form("vue-pages-nickname-changed-form",{},this)},sortEnd:function(e){var t=this;if(e.oldIndex!=e.newIndex){var i=e.oldIndex<e.newIndex?e.newIndex:e.newIndex?e.newIndex-1:-1,n=-1!=i?this.data.blocks_order[i]:null;if(0<_.size(this.data.sections)){var s=this.data.blocks[this.data.blocks_order[e.oldIndex]].section_id,a=null!=this.data.blocks[n]?this.data.blocks[n].section_id:null,o=null!=this.data.blocks[this.data.blocks_order[i+1]]?this.data.blocks[this.data.blocks_order[i+1]].section_id:null;if(s!=a&&s!=o)if(a&&a==o)this.data.blocks[this.data.blocks_order[e.oldIndex]].section_id=a;else{var r=this.data.blocks[this.data.blocks_order[e.oldIndex]].section_id,l=0;_.each(this.data.blocks,function(e){l+=r==e.section_id?1:0}),1<l&&(this.data.blocks[this.data.blocks_order[e.oldIndex]].section_id=null)}}this.$api.get("pages/resort",{page_id:this.page_id,id:this.data.blocks_order[e.oldIndex],after:n},null,"resort").then(function(e){"fail"==e.result&&t.fetchData(!0)})}},showInstallBanner:function(){var e=this;this.hasInstallBanner=!0,this.hideInstallBanner=!0,setTimeout(function(){e.hideInstallBanner=!1},1500)}},template:'<div style="flex: 1;display: flex;flex-direction: column"> <div ref=\'styles\'></div> <div class="footer-banner has-background-dark" v-if="hasInstallBanner" :class="{\'is-closed\': hideInstallBanner}"> <div class="container has-mb-2 has-mt-2"> <div>⚠️ {{\'Необходимо установить ссылку в профиль Instagram\'|gettext}}</div> <button class="button is-black has-ml-1" @click="installPageBanner">{{\'Сделать это\'|gettext}}</button> </div> </div> <div class="top-panel hero-block hero-link"> <div class="container"> <div class="row"> <div class="col-xs-12"> <div class="form-control-link is-size-5"> <div class="form-control-link-text has-text-danger" v-if="$account.ban"><i class="fa fa-exclamation-circle has-mr-1"></i>{{\'Ваш аккаунт заблокирован\'|gettext}}</div> <div class="form-control-link-text" v-else> <a style="margin-right: 5px" v-if="$account.nickname_changed" @click="changeNickname" :data-tips-title="\'Никнейм вашего Instagram профиля изменился, нажмите тут чтобы обновить ссылку\'|gettext" data-tips-placement=\'bottom\'><i class="fas fa-exclamation-circle has-text-danger"></i></a> <span v-if="$account.nickname || $account.custom_domain_verified"> <span class=\'is-hidden-mobile\'>{{\'Моя ссылка\'|gettext}}: </span><a :href="linkPath" target="_blank" v-if="!isFetching"><span :class="{\'is-hidden-mobile\':!$account.custom_domain || data.page.link.path}">{{linkDomain}}</span>{{$account.link_path}}{{data.page.link.path}}</a> </span> <span v-else> <span class="is-hidden-mobile">{{\'Для получения ссылки нажмите кнопку "Установить"\'|gettext}}</span> <span class="is-hidden-tablet">{{\'Получить ссылку\'|gettext}}</span> <i class="fa fa-long-arrow-right has-ml-1"></i> </span> </div> <router-link v-if="$account.tariff == \'business\' && ($account.page_id != page_id) && (page_id != 0)" :to="{name: \'pages\', params: {page_id: $account.page_id}}" class="button is-light link-pages"><i class="fa fa-undo has-text-grey-light"></i><span class="is-hidden-mobile"> {{\'На главную\'|gettext}}</span></router-link> <button v-if="$auth.isAllowTariff(\'business\') && !tipsChoose" class="button is-success link-pages" @click="choosePage"><i class="fas fa-caret-down"></i></button> <a v-if="$auth.isAllowTariff(\'business\') && tipsChoose" class="button is-success link-pages" @click="choosePage" :data-tips-title="tipsChoosePage" data-tips-bit=\'1\' data-tips-placement=\'bottom\'><i class="fas fa-caret-down"></i></a> <a v-if="$account.page_id == page_id" class="button is-primary" @click="installPage()" style="min-width:100px" :disabled="$account.ban">{{\'Установить\'|gettext}}</a> <a v-else class="button is-primary" :class="{disabled: data.page.is_readonly}" @click="configurePage"><i class="fa fa-cog is-visible-mobile"></i><span class="is-hidden-mobile">{{\'Настройки\'|gettext}}</span></a> </div> </div> </div> </div> </div> <div class=\'main-block1 main-block-xs-clear\' style="display: flex;flex-direction: column;flex:1"> <div class="device is-large has-padding-top has-padding-bottom has-shadow is-hide-mobile page-blocks has-mt-5 has-mb-5 is-xs-marginless" style="display: flex"> <div class="screen page" :class="\'is-{1}\'|format($account.theme.bg.brightness)"> <div class="theme-main"> <div v-html="$account.theme.html"></div> <sortable-list class="blocks-list" style="flex-grow:1" lockAxis="y" v-model="data.blocks_order" use-drag-handle helperClass="page-blocks" @sortEnd="sortEnd" :useWindowAsScrollContainer="true" :scrollContainer="scrollContainer" :contentWindow="scrollContainer"> <div v-for="section in sections" :style="section.bg"> <div :style="section.bg_layer" class="has-pb-2 has-pt-2"> <sortable-item v-for="b in section.blocks" :class="[\'b-\'+b.block_id, \'container block-item has-pb-1 has-pt-1\', {\'is-readonly\': data.page.is_readonly}]" :index="b.i" :key="b.i" :item="data.blocks[b.block_id]"> <div v-if="data.blocks[b.block_id].block_type_name == \'text\'" class="block-text" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)" v-html="prepareText(data.blocks[b.block_id].options.text)" :style="prepareTextStyle(data.blocks[b.block_id].options)"></a> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'avatar\'" class="block-avatar" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)"> <div class="has-text-centered"><img :src="$account.avatar.url" :class="data.blocks[b.block_id].avatar.size|sprintf(\'profile-avatar profile-avatar-%s\')"></div> <div class="has-text-centered text-avatar" v-if="!data.blocks[b.block_id].avatar.is_hide_text && $account.nickname">@{{$account.nickname}}</div> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'html\'" class="block-html" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)"> <vue-component-blocks-html v-model="data.blocks[b.block_id].options.html"></vue-component-blocks-html> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'link\'" :class="data.blocks[b.block_id].options.link_type|sprintf(\'block-link block-link-%s\')" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <router-link v-if="data.blocks[b.block_id].options.link_type == \'page\' && data.blocks[b.block_id].options.link_page_id" class="block-handle-link" :to="{name: \'pages\', params: {page_id: data.blocks[b.block_id].options.link_page_id}}"></router-link> <a v-if="data.blocks[b.block_id].options.link_type == \'page\' && !data.blocks[b.block_id].options.link_page_id" class="block-handle-link block-handle-link-plus" @click="addLinkPage(b.block_id, data.blocks[b.block_id].options.title)"></a> <a @click="openForm(b.block_id)" class="button btn-link btn-link-styled" :style="data.blocks[b.block_id].stylesheet">{{data.blocks[b.block_id].options.title}}<div v-if="data.blocks[b.block_id].options.subtitle" class="btn-link-subtitle">{{data.blocks[b.block_id].options.subtitle}}</div></a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'timer\'" class="block-timer" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)" style="overflow: hidden"> <center> <vue-component-blocks-flipclock v-model="data.blocks[b.block_id].options" :page_id="data.page.page_id"></vue-component-blocks-flipclock> </center> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'break\'" class=\'block-break\' :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)"> <div class=\'block-break-inner\' :class="{\'has-icon\': data.blocks[b.block_id].options.icon, \'is-invisible\': data.blocks[b.block_id].options.icon < 0, \'is-fullwidth\': data.blocks[b.block_id].options.fullwidth, \'has-fading\': data.blocks[b.block_id].options.fading}" :style="{\'height\': data.blocks[b.block_id].options.break_size + \'px\'}"><span><i :class="[\'fa fai\', \'fa-\'+data.blocks[b.block_id].options.icon]" v-if="data.blocks[b.block_id].options.icon"></i></span></div> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'video\'" class="block-video" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)"> <vue-component-video :options="data.blocks[b.block_id].options" style="pointer-events: none"></vue-component-video> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'collapse\'" class="block-collapse" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)" class="btn-link-block"> <div class="collapse-list"> <div class="collapse-item" v-for="v in data.blocks[b.block_id].options.fields"> <div class="a"> <span class="collapse-icon"></span> <span class="collapse-title" v-if="v.title">{{v.title}}</span> <span class="collapse-title" v-else>{{\'Заголовок\'|gettext}}</span> </div> </div> </div> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'pictures\'" class="block-slider" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)"> <div class="block-slider-inner"> <div :class="{\'slider-has-text\': data.blocks[b.block_id].options.options.text, \'slider-has-link\': data.blocks[b.block_id].options.options.link, \'slider-has-border\': !data.blocks[b.block_id].options.remove_border}" class="slider slider-pictures"> <div class="slider-inner"> <div v-for="(item, i) in data.blocks[b.block_id].options.list" v-if="i < 2" class="slider-slide"><div class="picture-container" :class="{\'picture-container-empty\': !item.p}" :style="item.stylesheet_picture"><div></div></div> <div v-if="data.blocks[b.block_id].options.options.text" class="slider-slide-text" :style="item.stylesheet_text"><div class="slider-slide-title" v-if="item.t">{{item.t}}</div><div class="slider-slide-title" v-else>{{\'Заголовок\'|gettext}}</div><div class="slider-slide-snippet">{{item.s}}</div></div> <div v-if="data.blocks[b.block_id].options.options.link && item.link.title" class="slider-slide-link" :style="item.stylesheet_button">{{item.link.title}}</div> <div v-if="data.blocks[b.block_id].options.options.link && !item.link.title" class="slider-slide-link" :style="item.stylesheet_button">{{\'Открыть\'|gettext}}</div> </div> </div> <div class="slider-nav" v-if="data.blocks[b.block_id].options.list.length> 1"> <div v-for="(item, i) in data.blocks[b.block_id].options.list" class="slider-dot" :class="{\'active\': !i}"></div> </div> </div> </div> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'form\'" class="block-form" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)"> <div v-for="field in data.blocks[b.block_id].options.fields"> <div v-if="field.typename == \'button\'" class="form-field"><div class="button btn-link" :style="field.stylesheet">{{field.title}}</div></div> <div v-else-if="field.typename == \'paragraph\'" class="form-field" style="font-size:1.9em !important" v-html="field.text"></div> <div v-else class="form-field"> <div v-if="field.typename == \'checkbox\'" class="checkbox-list"> <label class="checkbox"> <input type="checkbox" :checked="field.default"> {{field.title}}<sup class="required" v-if="field.required">*</sup> </label> <div class="form-field-desc" v-if="field.text">{{field.text}}</div> </div> <label v-else class="label">{{field.title}}<sup class="required" v-if="field.required">*</sup></label> <div v-if="(field.typename != \'checkbox\') && field.text" class="form-field-desc">{{field.text}}</div> <input v-if="[\'name\', \'text\', \'email\', \'number\'].indexOf(field.typename) != -1" :type="field.input_type" value=\'\'> <div v-if="field.typename == \'phone\'"><input type="tel" value=\'\' :data-country="$account.client.country"></div> <textarea v-if="field.typename == \'textarea\'" rows="4"></textarea> <input v-if="[\'date\', \'time\'].indexOf(field.typename) != -1" :type="field.input_type"> <div class="select" v-if="field.typename == \'select\' || field.typename == \'country\'"><select> <option value="" v-if="field.nulltitle">{{field.nulltitle}}</option> <option v-for="variant in field.variants" :value="variant">{{variant}}</option> </select></div> <div class="radio-list" v-if="field.typename == \'radio\'"> <label v-for="variant in field.variants" class="radio is-block"> <input type="radio" :value="variant"> {{variant}} </label> </div> </div> </div> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'socialnetworks\'" class="block-socialnetworks" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle block-handle-socials" v-show="!data.page.is_readonly"></div> <div class="socials"> <div class="row row-small"> <div :class="{\'col-xs\': (data.blocks[b.block_id].options.socials_style != \'default\' && data.blocks[b.block_id].options.socials_style != \'block\'), \'col-xs-12\': (data.blocks[b.block_id].options.socials_style == \'default\' || data.blocks[b.block_id].options.socials_style == \'block\')}" v-for="l in data.blocks[b.block_id].options.items"> <a @click="openForm(b.block_id)" class="button btn-flat btn-link" :class="l.classname" :style="data.blocks[b.block_id].stylesheet"><i v-if="data.blocks[b.block_id].options.socials_style != \'default\'" :class="l._icon|sprintf(\'fa fab fa-%s\')"></i> <span v-if="data.blocks[b.block_id].options.socials_style != \'compact\'">{{l.t}}</span></a> </div> </div> </div> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'messenger\'" class="block-link" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle block-handle-socials" v-show="!data.page.is_readonly"></div> <div class="socials"> <div class="row row-small"> <div :class="{\'col-xs\': (data.blocks[b.block_id].options.messenger_style != \'default\' && data.blocks[b.block_id].options.messenger_style != \'block\'), \'col-xs-12\': (data.blocks[b.block_id].options.messenger_style == \'default\' || data.blocks[b.block_id].options.messenger_style == \'block\')}" v-for="l in data.blocks[b.block_id].options.items"> <a @click="openForm(b.block_id)" class="button btn-link" :class="l.classname" :style="data.blocks[b.block_id].stylesheet"> <img :src="\'/s/i/messengers/icons/{1}.svg\'|format(l.n)" v-if="data.blocks[b.block_id].options.messenger_style == \'icon\'"> <i :class="\'fa fab fa-{1}\'|format(l._icon)" v-else v-if="data.blocks[b.block_id].options.messenger_style != \'default\' && data.blocks[b.block_id].options.messenger_style != \'icon\'"></i> <span v-if="[\'default\', \'block\'].indexOf(data.blocks[b.block_id].options.messenger_style) != -1">{{l.t}}</span> </a> </div> </div> </div> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'map\'" class="block-form" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)" class="btn-link-block"> <vue-component-blocks-map v-model="data.blocks[b.block_id].options"></vue-component-blocks-map> </a> <a v-if="data.blocks[b.block_id].options.show_buttons" v-for="m in data.blocks[b.block_id].options.markers" @click="openForm(b.block_id)" class="button btn-link btn-link-block btn-map btn-link-styled" :style="m.stylesheet"> <i class="fa fa-map-marker-alt"></i><span>{{ m.title }}</span> </a> </div> </div> <div v-if="data.blocks[b.block_id].block_type_name == \'banner\'" class="block-banner" :style="{opacity: data.blocks[b.block_id].is_visible?1:0.4}"> <div> <div v-sortable-handle class="block-handle" v-show="!data.page.is_readonly"></div> <a @click="openForm(b.block_id)" class="btn-link-block"> <div class="block-banner-inner" :style="bannerInnerStyle(data.blocks[b.block_id].options)"><div class="picture-container" :class="{\'picture-container-empty\': !data.blocks[b.block_id].options.p}" :style="data.blocks[b.block_id].stylesheet_picture"></div></div> </a> </div> </div> </sortable-item> </div> </div> </sortable-list> <div v-if="!data.page.is_readonly" class="has-sm-pl-2 has-sm-pr-2 has-mt-2" :class="{\'has-mt-8\': data.blocks_order.length == 0}"> <a @click="newBlock" class="button btn-link btn-link-empty"><i class=\'fa fas fa-plus fa-lg is-visible-mobile\'></i> {{\'Добавить новый блок\'|gettext}}</a> </div> </div> </div></div> </div> </div>'}),window.$app.defineComponent("pages","vue-pages-partner-access-form",{data:function(){return{isUpdating:!1,isAllow:!0}},created:function(){},mixins:[FormModel],methods:{update:function(){var t=this;this.isAllow&&this.$account.partner.with_access?this.$api.post("access/set",{account_id:this.$account.partner.account_id,part:"main"}).then(function(e){t.close(),t.isUpdating=!1}).catch(function(e){e.data;t.isUpdating=!1}):this.close()},close:function(){var e=this;this.$parent.close(),setTimeout(function(){e.$parent.$parent.checkWelcomeWizard()},300)}},template:'<div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title">{{\'Добро пожаловать\'|gettext}}</p> <button class="modal-close is-large" @click="update"></button> </header> <section class="modal-card-body"> <h4 class="has-mb-2">{{$account.partner.welcome_message}}</h4> <mx-toggle v-model=\'isAllow\' v-if="$account.partner.with_access" :title="\'Предоставить полный доступ\'|gettext"></mx-toggle> </section> <footer class="modal-card-foot"> <button class="button is-primary" :class="{\'is-loading\': isUpdating}" @click="update" v-if="$account.partner.with_access">{{\'Сохранить\'|gettext}}</button> <button class="button is-dark" type="button" @click="close()" v-else>{{\'Закрыть\'|gettext}}</button> </footer> </div>'}),window.$app.defineComponent("pages","vue-pages-publish-form",{data:function(){return{isUnattaching:!1,isFetching:!1,isUpdating:!1,isButtonLoading:"",current:null,profiles:{},widget:{},variants:{},is_installed:!1,activeTab:"instagram",prepare:null}},props:{is_readonly:Boolean,target:String},computed:{widgetCode:function(){return'<script src="//taplink.cc/'+(this.$account.nickname?this.$account.nickname:"id:"+this.$account.profile_id)+'/widget/" async><\/script>'},instagramLink:function(){return"https://taplink.cc/"+this.$account.nickname}},created:function(){this.$account.custom_domain&&(this.activeTab="domain"),-1!=["instagram_business","instagram_basic"].indexOf(this.target)&&(this.activeTab="instagram"),this.fetchData(!0)},methods:{attachAnotherProfile:function(){$mx('<iframe src="https://www.instagram.com/accounts/logout/" width="0" height="0"></iframe>').on("load",function(){document.location="/login/instagrambasic/?method=attach"}).appendTo("body")},toggleTab:function(e){this.activeTab=this.activeTab==e&&window.matchMedia("(max-width: 767px)").matches?null:e},check:function(){var t=this;this.isUpdating=!0,this.$api.get("pages/publish/check",{target:this.target}).then(function(e){t.$parent.close()})},confirmAttach:function(){this.target="instagram_basic_confirm",this.fetchData(!0)},fetchData:function(e){var t=this;this.isFetching=e,this.$api.get("pages/publish/info",{target:this.target,prepare:this.prepare}).then(function(e){switch(t.isFetching=!1,t.widget=e.response.widget,t.profiles=e.response.profiles,t.variants=e.response.variants,t.is_installed=e.response.is_installed,t.target){case"instagram_basic":t.prepare=e.response.prepare;break;case"instagram_basic_confirm":t.prepare=null}e.response.account&&t.$auth.refresh(e.response.account),e.response.message&&t.$alert(e.response.message,"is-danger")})},choose:function(e){var t=this;this.isFetching=!0,this.$api.get("pages/publish/set",{id:e.id,uniq:e.uniq}).then(function(e){t.isFetching=!1,t.$auth.refresh(e.response,function(){t.$parent.$parent.installPage(),t.$parent.close()})})},unattach:function(){var t=this;this.$confirm(this.$gettext("Вы уверены что хотите отключить профиль от вашей страницы?"),"is-danger").then(function(){t.isUnattaching=!0,t.$api.get("pages/publish/unattach",{id:t.current}).then(function(e){t.$auth.refresh(e.response),t.isUnattaching=!0})})},onWidgetChanged:_.debounce(function(){this.is_readonly||this.$api.get("pages/install/set",{widget:this.widget})},500)},template:'<div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title">{{\'Установка ссылки\'|gettext}}</p> <button class="modal-close is-large" @click="$parent.close()"></button> </header> <section class="modal-card-body modal-card-body-blocks" style="display:flex"> <div class="publish-form-collapse"> <div class="is-title" @click="toggleTab(\'instagram\')" :class="{in: activeTab== \'instagram\'}"> <span><i class="fal fa-chevron-right has-mr-2"></i>Instagram</span> </div> <div> <div> <section v-if="$account.nickname"> <label class="label" v-if="is_installed">{{\'Ваша ссылка\'|gettext}}</label> <div class="media has-mb-2" v-else> <div class="media-left"><span class="tag is-warning">1</span></div> <div class="media-content"> <label class="label">{{\'Скопируйте ссылку на страницу\'|gettext}}</label> </div> </div> <div class="field has-addons is-marginless"> <div class="control is-expanded"><input type="text" class="input is-mouse-locked has-text-black" readonly="on" disabled="on" :value="instagramLink"></div> <div class="control is-hidden-mobile"> <vue-component-clipboard :text="instagramLink" class="button is-default" :show-icon="false"><i class="fal fa-copy has-mr-1"></i>{{\'Скопировать ссылку\'|gettext}}</vue-component-clipboard> </div> <div class="control is-hidden-mobile"> <button class="button has-text-danger" @click="unattach" :class="{\'is-loading\': isUnattaching}" data-toggle="tooltip" data-placement="top" :data-original-title="\'Отключить профиль\'|gettext"><i class="fal fa-trash-alt"></i></button> </div> </div> <div class="is-hidden-tablet has-mt-2"> <div class="row row-small"> <div class="col-xs-10"> <vue-component-clipboard :text="instagramLink" class="button is-default is-fullwidth" :show-icon="false"><i class="fal fa-copy has-mr-1"></i>{{\'Скопировать ссылку\'|gettext}}</vue-component-clipboard> </div> <div class="col-xs-2"> <button class="button has-text-danger is-fullwidth" @click="unattach" :class="{\'is-loading\': isUnattaching}"><i class="fal fa-trash-alt"></i></button> </div> </div> </div> </section> <section v-if="is_installed && $account.nickname"> <div class="field"> <span class=\'has-text-success\'><i class="fa fas fa-check-square"></i> {{\'Ссылка установлена в Instagram.\'|gettext}}</span> {{\'Если вы поменяли никнейм в Instagram, нажмите кнопку "Обновить информацию" для того чтобы получить новую ссылку.\'|gettext}} </div> <a @click="check" class="button is-instagram btn-flat" :class="{disabled: is_readonly, \'is-loading\': isUpdating}"><i class="fab fa-ig" style="margin-right: 10px"></i> {{\'Обновить информацию\'|gettext}}</a> </section> <section v-else> <div v-if="!$account.nickname"> <div v-if="target == \'instagram_business\'"> <label class="label">{{\'Выберите профиль\'|gettext}}</label> <b-table :data="profiles" hoverable bordered class="table-header-hide" @click="choose" v-if="_.size(profiles)" disabled="isUpdating"> <template slot-scope="props"> <b-table-column field="name" style="vertical-align:middle"> <div class="media" style="align-items: center"> <img :src="props.row.picture" class="profile-avatar profile-avatar-48 media-left"> <div class="media-content"><b>{{props.row.name}}</b><div class="has-text-grey">@{{props.row.username}}</div></div> </div> </b-table-column> </template> </b-table> </div> <div v-else> <div v-if="prepare"> <div class="has-text-centered has-mb-3"> <img :src="prepare.picture" class="profile-avatar profile-avatar-65"> <h4>{{prepare.username}}</h4> </div> <div class="row row-small"> <div class="col-xs-12 col-sm-5 col-sm-offset-1"> <button @click="confirmAttach" class="button is-primary has-xs-mb-2 is-fullwidth">{{\'Подключить этот профиль\'|gettext}}</button> </div> <div class="col-xs-12 col-sm-5"> <button @click="attachAnotherProfile" class="button is-danger is-fullwidth">{{\'Войти под другим профилем\'|gettext}}</button> </div> </div> </div> <div v-else> <label class="label">{{\'Подключить Instagram профиль\'|gettext}}</label> <div class="has-mb-2"> {{\'Для подключения Instagram профиля вам необходимо авторизоваться через Instagram\'|gettext}} </div> <div class="has-mb-4"> <a class="button is-instagram" :class="{disabled: is_readonly, \'is-loading\': isButtonLoading== \'instagram\'}" @click="isButtonLoading = \'instagram\'" href="/login/instagrambasic/?method=attach"><i class="fab fa-ig has-mr-2"></i>{{\'Подключить через Instagram\'|gettext}}</a> </div> </div> </div> </div> <div v-else> <div v-if="!is_installed"> <div class="media"> <div class="media-left"><span class="tag is-warning">2</span></div> <div class="media-content"> <label class="label has-mb-2">{{\'Вставьте её в раздел "Веб-Сайт" в настройках профиля Instagram\'|gettext}}</label> </div> </div> <div class=\'has-sm-mb-4 has-sm-pt-4 device-pictures-form marvel-device-install\'> <center style="line-height:0"> <div class="device has-shadow is-large is-hide-mobile" style="margin: 0 auto"> <div class="screen page-font" style="overflow: hidden"> <img style="max-width:100%;margin:0 auto;display: block" :src="\'/s/i/taplink-install.{1}.png\'|format(window.i18n.locale)"> </div> </div> <div class=\'form-shadow form-shadow-bottom is-hidden-mobile\' style="height: 20px"></div> </center> </div> <div><a href=\'https://www.instagram.com/accounts/edit/\' target="_blank" style="display: block;padding-top: 10px;text-align: center">{{\'Открыть настройки Instagram\'|gettext}}</a></div> </div> </div> </section> <section class="message is-info" v-if="$account.nickname && !is_installed"> <div class="message-body"> <label class="label">{{\'Если вы поменяли имя пользователя в Instagram\'|gettext}}</label> <div>{{\'Нажмите на ссылку\'|gettext}} "<a @click="check" :class="{disabled: isUpdating}">{{\'Обновить информацию\'|gettext}}</a>" {{\'для того чтобы обновить информацию из Instagram. Система увидит новое имя пользователя и предложит обновить ссылку.\'|gettext}}</div> </div> </section> </div> </div> <div class="is-title" @click="toggleTab(\'domain\')" :class="{in: activeTab== \'domain\'}"> <span><i class="fal fa-chevron-right has-mr-2"></i>{{\'Доменное имя\'|gettext}}</span> </div> <div> <div> <section> <transition name="fade"> <div class="label-pro-container"> <div v-if="!$auth.isAllowTariff(\'business\')" class="tag is-business" data-toggle="tooltip" data-placement="top" :data-original-title="\'Эта возможность доступна на Business тарифе\'|gettext">biz</div> <label class="label has-mb-2">{{\'Вы можете подключить свой домен к странице\'|gettext}}</label> <vue-component-domain-attach :disabled="is_readonly"></vue-component-domain-attach> </div> </transition> </section> </div> </div> <div class="is-title" @click="toggleTab(\'qr\')" :class="{in: activeTab== \'qr\'}"> <span><i class="fal fa-chevron-right has-mr-2"></i>{{\'QR-код\'|gettext}}</span> </div> <div> <div> <section class="message is-info"><div class="message-body">{{\'Вы можете скачать и использовать ваш QR-код на визитках или флайерах\'|gettext}}</div></section> <section> <transition name="fade"> <vue-component-qrcode :value="$account.link_safe"></vue-component-qrcode> </transition> </section> </div> </div> <div class="is-title" @click="toggleTab(\'widget\')" :class="{in: activeTab== \'widget\', \'is-last-tab\': activeTab != null}"> <span><i class="fal fa-chevron-right has-mr-2"></i>{{\'Виджет на сайт\'|gettext}}</span> </div> <div> <div> <section> <label class=\'label\'>{{\'Скопируйте код и разместите его в HTML-разметке вашего сайта\'|gettext}}</label> <div class="field has-addons"> <div class="control is-expanded"><input class="input" onfocus="this.select()" readonly="on" :value="widgetCode"></div> <div class="control"> <vue-component-clipboard :text="widgetCode" class="button is-default" :show-icon="false"><i class="fal fa-copy has-mr-1"></i>{{\'Скопировать\'|gettext}}</vue-component-clipboard> </div> </div> <div class="field has-mb-4"> <label class=\'label\'>{{\'Цвет кнопки\'|gettext}}</label> <vue-component-colorpicker colors=\'#F7464A,#e600a3,#1fb6ff,#1EB363,#4f5a67\' v-model="widget.color" @input="onWidgetChanged" position="is-bottom-right" :disabled="is_readonly"></vue-component-colorpicker> </div> <div class="row"> <div class="col-xs-12 col-sm-6"> <div class="field"> <label class=\'label\'>{{\'Расположение кнопки\'|gettext}}</label> <label class="radio is-block has-mb-1" v-for="(v, k) in variants.widget_button_placement"><input type="radio" name=\'widget_button_placement\' :value="k" v-model="widget.placement" @change="onWidgetChanged" :disabled="is_readonly"> {{v}}</label> </div> </div> <div class="col-xs-12 col-sm-6"> <div class="field"> <label class=\'label\'>{{\'Вид окна\'|gettext}}</label> <label class="radio is-block has-mb-1" v-for="(v, k) in variants.widget_button_view"><input type="radio" name=\'widget_button_view\' :value="k" v-model="widget.view" @change="onWidgetChanged" :disabled="is_readonly"> {{v}}</label> </div> </div> </div> </section> </div> </div> </div> </section> <footer class="modal-card-foot"> <button class="button is-dark" type="button" @click="$parent.close()">{{\'Закрыть\'|gettext}}</button> </footer> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("index","vue-index-footer",{methods:{checkUrlPrefix:function(e){return window.base_path_prefix+e}},template:'<footer class="is-hidden-mobile"> <div class="container"> <div class="level"> <div class="level-left"> <a :href="checkUrlPrefix(\'/guide/\')">{{\'Подробные инструкции\'|gettext}}</a> <a :href="checkUrlPrefix(\'/faq/\')">{{\'Вопросы и ответы\'|gettext}}</a> <a @click="Intercom(\'show\')">{{\'Задать вопрос\'|gettext}}</a> <a :href="checkUrlPrefix(\'/tariffs/\')">{{\'Цены и тарифы\'|gettext}}</a> </div> <div class="level-right"> <vue-component-locale-change></vue-component-locale-change> </div> </div> </div> </footer>'}),window.$app.defineComponent("index","vue-index-index",{data:function(){return{isAuth:!1,current:null}},computed:{isShow:function(){return this.current&&("main"==this.current.name&&this.isAuth||"main"!=this.current.name)}},created:function(){var e=this;window.$events.on("navigate",this.navigate),this.navigate(null,this.$router.currentRoute),null==this.$account.profile_id?("index"==this.$router.currentRoute.name&&window.$events.one("account:refresh",function(){e.$router.replace({name:"pages",params:{page_id:e.$account.page_id}})}),this.$auth.refresh(null,null,function(){var e=document.location.href;-1==e.indexOf("/auth/")?Cookies.set("auth-redirect",e):Cookies.remove("auth-redirect")})):this.isAuth=!0,window.$events.on("account:refresh",function(){if(!e.$account.user.email)return e.$router.replace({name:"email"});e.isAuth=!0}),this.$io.on("events:account:logout",this.logout),window.$events.on("account:logout",this.logout),this.$io.on("events:avatar:updated",this.avatarUpdated);var t=$mx(".main-block");t.on("scroll",function(e){$mx(document.body).toggleClass("is-scrolled",20<t[0].scrollTop)})},mounted:function(){window.scrollTo(0,1)},destroyed:function(){window.$events.off("navigate",this.navigate),this.$io.off("events:account:logout",this.logout),this.$io.off("events:avatar:updated",this.avatarUpdated)},methods:{avatarUpdated:function(e){this.$account.avatar.url="//"+this.$account.storage_domain+e.pathname},navigate:function(e,t){this.current=t?1<t.matched.length?t.matched[1]:t:null},logout:function(){this.isAuth=!1,this.$account.profile_id=null,-1!=["main","index"].indexOf(this.current.name)&&this.$router.replace({name:"signin"})}},template:'<router-view v-if="isShow" :class="{\'has-auth\':isAuth}"></router-view>'}),window.$app.defineComponent("index","vue-index-main",{data:function(){return{connection:1,connectionTimer:null,online:!0,isMounted:!1}},props:["page_id"],created:function(){$mx(window).on("online offline",this.updateIndicator),this.$events.on("theme:refresh",this.themeRefresh)},mounted:function(){this.isMounted=!0,this.themeRefresh()},destroyed:function(){$mx(window).off("online offline",this.updateIndicator),this.$events.off("theme:refresh",this.themeRefresh),this.isMounted=!1},methods:{themeRefresh:function(){this.isMounted&&StylesFactory.updateCSSBlock(this.$account.styles,this.$refs.styles)},updateIndicator:function(){var e=this;this.online=navigator.onLine,this.online?(this.connectionTimer&&(clearInterval(this.connectionTimer),this.connectionTimer=null),$mx("html").removeClass("is-clipped")):(this.connectionTimer=setInterval(function(){e.connection++,5==e.connection&&(e.connection=1)},1e3),$mx("html").addClass("is-clipped"))},navigate:function(e,t){this.current=t?1<t.matched.length?t.matched[1]:t:null}},template:'<div style="display: flex;flex-direction: column;flex-shrink:0;flex-grow: 1"> <div ref=\'styles\'></div> <vue-index-menu :page_id="page_id"></vue-index-menu> <router-view style="flex-grow: 1"></router-view> <vue-index-footer></vue-index-footer> <div class="network-status" v-if="!online"> <div class="network-status-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"> <g class="fa-group" v-if="connection == 1"><path class="fa-secondary" fill="currentColor" d="M634.9 154.9C457.7-9 182.2-8.9 5.1 154.9c-6.4 6-6.8 16-.9 22.5.2.2.3.4.5.5l34.2 34c6.2 6.1 16 6.2 22.4.4 145.9-133.7 371.3-133.7 517.2 0 6.4 5.9 16.2 5.7 22.4-.4l34.2-34c6.3-6.2 6.3-16.2.2-22.5 0-.2-.2-.4-.4-.5zM522.7 268.4c-115.3-101.9-290.2-101.8-405.3 0-6.5 5.8-7.1 15.8-1.4 22.3.3.3.5.6.8.8l34.4 34c6 5.9 15.6 6.3 22.1.8 83.9-72.6 209.7-72.4 293.5 0 6.4 5.5 16 5.2 22-.8l34.4-34c6.2-6.1 6.4-16.1.3-22.4-.3-.2-.5-.4-.8-.7z"></path><path class="fa-primary" fill="currentColor" d="M320 352c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64z"></path></g> <g class="fa-group" v-if="connection != 1"><path :class="{\'fa-secondary\': connection== 2 || connection== 4, \'fa-primary\': connection== 3}" fill="currentColor" d="M635.3 177.9l-34.2 34c-6.2 6.1-16 6.2-22.4.4-146-133.7-371.3-133.7-517.2 0-6.4 5.9-16.2 5.7-22.4-.4l-34.2-34-.5-.5c-6-6.4-5.6-16.5.9-22.5C182.2-8.9 457.7-9 634.9 154.9c.2.2.4.3.5.5 6.2 6.3 6.1 16.3-.1 22.5z"></path><path class="fa-primary" fill="currentColor" d="M320 352c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64zm203.5-82.8l-.8-.8c-115.3-101.9-290.2-101.8-405.3 0-6.5 5.8-7.1 15.8-1.4 22.3.3.3.5.6.8.8l34.4 34c6 5.9 15.6 6.3 22 .8 84-72.6 209.7-72.4 293.5 0 6.4 5.5 16 5.2 22-.8l34.4-34c6.4-6 6.5-16 .4-22.3z"></path></g> </svg> </div> <h2 class="has-mb-2 has-text-centered">{{\'Отсутствует соединение\'|gettext}}</h2> <h3 class="has-text-centered">{{\'Убедитесь, что ваше устройство подключено к интернету\'|gettext}}</h3> </div> </div>'}),window.$app.defineComponent("index","vue-index-menu",{data:function(){return{favourites:[],standalone:window.standalone,title:"",currentRoute:null,menuOpened:!1}},props:{page_id:Number},created:function(){var i=this;this.fillTitle(this.currentRoute=this.$router.currentRoute),window.$events.on("navigate",function(e,t){i.fillTitle(i.currentRoute=t),i.moveSubmenu(t.name)}),$mx(document.body).on("touchstart",this.onTouchStart)},computed:{currentSubmenu:function(){var t=this;if(this.currentRoute.matched.length<3)return null;function n(e){if(t.currentRoute.name==e.name)return!0;if(e.children&&e.children.length)for(j=0;j<e.children.length;j++)if(n(e.children[j]))return!0;return!1}var e=this.$router.getRoute({name:this.currentRoute.matched[2].name}),s=e&&null!=e.children&&(null==e.meta||null==e.meta.submenu||e.meta.submenu)?this.$auth.prepareMenu(e.children):null;if(s){var a=!1;for(i=0;i<s.length;i++)if(n(s[i])){a=!0;break}a||this.$router.replace(s[0])}return s},ratePlanLink:function(){return window.base_path_prefix+"/tariffs/"},tariffEndsMessage:function(){return this.$format(this.$gettext('Через {1} истекает срок действия вашего тарифа, вам необходимо <a href="{2}">продлить ваш тариф</a>'),this.$plural("день",this.$account.tariff_ends_days),this.ratePlanLink)}},mounted:function(){var e=this;this.$io.on("events:menu.hits:changed",this.changedHits),this.$io.on("events:system:updated",this.updatedSystem),this.$io.on("events:profiles.favourites:refresh",this.refreshFavourites),NativeApplication.setBadge(this.calcHits()),this.moveSubmenu(this.currentRoute.name,0),window.$events.on("account:refresh",this.accountRefresh),window.$events.on("account:logout",this.accountLogout),window.$events.on("menu:close",function(){$mx(".projects-menu").css("pointer-events","none"),e.menuOpened=!1,setTimeout(function(){$mx(".projects-menu").css("pointer-events","all")},50)})},destroyed:function(){this.$io.off("events:menu.hits:changed",this.changedHits),this.$io.off("events:system:updated",this.updatedSystem),this.$io.off("events:profiles.favourites:refresh",this.refreshFavourites),window.$events.off("account:refresh",this.accountRefresh),window.$events.off("account:logout",this.accountLogout),$mx(document.body).off("touchstart",this.onTouchStart)},methods:{isActiveMenu:function(e){for(i=this.currentRoute.matched.length-1;0<=i;i--)if(this.currentRoute.matched[i].name==e.name)return!0;return!1},moveSubmenu:function(i,e){var n=this,s=1<arguments.length&&void 0!==e?e:300;null!=this.currentSubmenu&&this.$nextTick(function(){var e=function e(t,i,n){for(var s=null,a=0;a<t.length;a++){var o=t[a],r=null!=n?n:a;if(o.name==i)return r;if(null!=o.children&&o.children.length&&null!=(s=e(o.children,i,r)))return s}return null}(n.currentSubmenu,i);if(null!==e&&null!=n.$refs.submenu){var t=n.$refs.submenu.children[e];scrollIt(t.offsetLeft-(n.$refs.submenu.offsetWidth-t.offsetWidth)/2,"x",n.$refs.submenu,s)}})},accountRefresh:function(){NativeApplication.setBadge(this.calcHits())},accountLogout:function(){NativeApplication.setBadge(null)},startTouchSubmenu:function(){$mx("html").addClass("is-dragging")},stopTouchSubmenu:function(){$mx("html").removeClass("is-dragging")},isXs:function(){return!!window.matchMedia("(max-width: 767px)").matches},onTouchStart:function(e){var s=this,a=$mx(e.target);if(!($mx("html").is(".is-dragging")||$mx("html").is(".is-clipped")||a.closest(".b-slider").length)&&this.isXs()){var t=a.closest(".main"),i=t.length,n=screen.width/100*85,o=e.touches[0].pageX,r=e.touches[0].pageY,l=$mx("html").is(".open-menu")?n:0,c=0,d=0;if(i){var u=t.data("scroll-x");i=u<-50}var p=$mx(".main"),h=!1,f=!1,m=0;if(!i){function v(e){$mx("html").is(".is-dragging")||(m=e.touches[0].pageX,y=e.touches[0].pageY,!f&&(h||45<Math.abs(m-o))&&(c=m-o+l,i&&0<c&&(i=!1),c<0&&t.length&&(i=!0),i||(h||(p.addClass("stop-transition"),h=!0,d=e.timeStamp),p.css("transform","translate3d("+Math.min(Math.max(0,c),n)+"px,0,0)"))),!h&&45<Math.abs(y-r)&&(f=!0))}a.on("touchmove",v).one("touchend",function(e){if(a.off("touchmove",v),h){p.removeClass("stop-transition"),$mx(".main-block").removeClass("disable-pointer-events");var t=e.timeStamp-d,i=Math.abs(m-o)/t,n=0;n=.4<i?0<m-o:c>screen.width/2,setTimeout(function(){p.css("transform",""),s.menuOpen(null,n)},0),h=!1}f=!1})}}},fillTitle:function(e){for(var t=null,i=e.matched.length-1;0<i;i--)null!=e.matched[i].meta&&null!=e.matched[i].meta.title&&(t=e.matched[i].meta.title);this.title=t},changedHits:function(e){this.$account.hits=_.merge(this.$account.hits,e),NativeApplication.setBadge(this.calcHits())},updatedSystem:function(){this.$confirm(this.$gettext("Произошло обновление системы, необходимо перезагрузить страницу"),"is-danger").then(function(){document.location.reload()})},menuOpen:function(e,t){null==t&&(t=!$mx("html").is(".open-menu")),$mx("html").toggleClass("open-menu",t),t&&$mx(".main").one("click",function(){$mx("html").removeClass("open-menu")})},refreshFavourites:function(){var t=this;this.$api.get("account/favourites").then(function(e){t.$account.favourites=e.response.favourites})},checkViewBox:function(e){return null==e.icon_viewbox?"0 0 512 512":e.icon_viewbox},prepareHits:function(e){return this.calcHits(e)?" menu-hits":""},calcHits:function(e){function n(e){var t=0;for(var i in e)"object"==_typeof2(e[i])?t+=n(e[i]):t+=e[i];return t}var t=0;return null!=e?this.$account.hits[e.name]&&(t=n(this.$account.hits[e.name])):_.each(this.$account.hits,function(e){t+=n(e)}),t},prepareIcon:function(e){return e.meta.icon+this.prepareHits(e)},click:function(e){window.standalone&&go($mx(e.target).closest("a").attr("href")),this.$auth.closeMenu()},submenuClick:function(e){$mx(e.target.parentNode)},logout:function(){var t=this;this.$api.get("auth/logout").then(function(e){"success"==e.result&&(t.$auth.closeMenu(),null!=e.response?t.$auth.refresh(e.response,function(){t.$router.replace({name:"pages",params:{page_id:t.$account.page_id}})}):(t.$account.profile_id=null,window.$events.fire("account:logout")))})}},template:'<div> <a class="message has-text-centered" :href="ratePlanLink" v-if="!$auth.isAllowTariff(\'pro\') && window.$promotion" style="background: #000;color: #fff;font-size: 110%;margin: 0;border-radius: 0;text-decoration:none;padding: .7rem 0;z-index:1;display:block" v-html="window.$promotion.promotion_message"></a> <header class="is-top is-auth"> <div class="container"> <div> <a @click.stop="menuOpen" class="menu-btn"><i class="fal fa-bars"></i><i :class="prepareHits()"></i></a> <span @click.stop="menuOpen" class="menu-title">{{title|gettext}}</span> <div class="scrolling-container"> <div> <div class="menu"> <router-link v-for="(m, index) in $auth.prepareMenu($router.getRoute({name: \'main\'}).children)" :key="index" :to="{name: m.name, params: { page_id: page_id }}" :class="{active: isActiveMenu(m)}" v-if="m.meta && (m.meta.icon || m.meta.icon_svg)" @click.native="click"><svg :viewBox="checkViewBox(m.meta)" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" v-if="m.meta.icon_svg != undefined" v-html="m.meta.icon_svg"></svg><i :class="prepareHits(m)"></i><em :class="prepareIcon(m)" v-else></em><span>{{m.meta.title|gettext}}</span><dd :data-value="calcHits(m)" v-if="calcHits(m)"></dd></router-link> </div> </div> </div> <div class="header-choose-profile"> <div class="a projects-menu" :class="{in: menuOpened}"> <div @click.prevent.stop="menuOpened = false" class="background"></div> <div class="d" @click="if (isXs()) menuOpened=true"><img :src=\'$account.avatar.url\' class="avatar"><i class="fa fa-angle-down is-hidden-mobile has-ml-1"></i></div> <div class="ul"> <div class="li is-first"><router-link :to="{name: \'profiles\', params: {page_id: page_id}}" @click.native="click">{{\'Мои профили\'|gettext}}</router-link></div> <div class="li divider" v-if="$account.favourites.length"></div> <div class="menu-favourites"> <div v-for="f in $account.favourites" class="li"><a class=\'profile\' @click="$auth.changeProfile(f.profile_id)"><i class="fa fa-share-alt" v-if="f.is_share"></i><dd>{{f.nickname}}</dd></a></div> </div> <div class="li divider"></div> <div class="li"><router-link :to="{name: \'access\', params: {page_id: page_id}}" @click.native="click">{{\'Совместный доступ\'|gettext}}</router-link></div> <div class="li divider"></div> <div class="li"><router-link :to="{name: \'account-settings\', params: {page_id: page_id}}" @click.native="click">{{\'Настройки аккаунта\'|gettext}}</router-link></div> <div v-if="$account.manager_id"> <div class="li divider"></div> <div class="li"><router-link :to="{name: \'manager\', params: {page_id: page_id}}" @click.native="click">{{\'Администрирование\'|gettext}}</router-link></div> </div> <div v-if="$account.partner_id && $account.partner.percent"> <div class="li divider"></div> <div class="li"><router-link :to="{name: \'partner\', params: {page_id: page_id}}" @click.native="click">{{\'Партнерская программа\'|gettext}}</router-link></div> </div> <div class="li divider"></div> <div><a :href="ratePlanLink">{{\'Цены и тарифы\'|gettext}}</a></div> <div class="li divider"></div> <div class="li is-last"><a @click="logout">{{\'Выход\'|gettext}}</a></div> </div> </div> </div> </div> </div> </header> <em></em> <div class="message is-warning alert-header" v-if="!$auth.isAllowTariff(\'pro\')"><i class=\'fa fa-star-o\'></i> {{\'У вас базовый тариф\'|gettext}}, <a :href=\'ratePlanLink\' class="text-black">{{\'обновить тариф\'|gettext}}</a></div> <div v-else> <div class="message is-danger alert-header" v-if="$account.tariff_ends && $account.tariff_ends_days> 0 && $account.tariff_ends_days < 14"><i class=\'fa fa-exclamation-triangle\'></i> <span v-html="tariffEndsMessage"></span></div> </div> <div class="top-panel" v-if="currentSubmenu"> <div class="container"> <div class="scrolling-container is-submenu" @touchstart="startTouchSubmenu" @touchend="stopTouchSubmenu"> <div ref="submenu" style="overflow-x: scroll"> <router-link :to="{name: m.name, params: {page_id: page_id}}" v-for="m in currentSubmenu" class="button":class="{active: isActiveMenu(m)}" @click.native="submenuClick">{{m.meta.title|gettext}}</router-link> <a class="button" style="pointer-events: none;visibility: hidden;padding-left: 70px"></a> </div> </div> </div> </div> </div>'}),window.$app.defineModule("index",[{path:"/",component:"vue-index-index",name:"index",children:[{path:"/auth/",redirect:"auth/signin/",name:"auth",children:[{path:"signin/",component:"vue-auth-signin",name:"signin"},{path:"email/",component:"vue-auth-email",name:"email"},{path:"restore/",component:"vue-auth-restore",name:"restore"},{path:"attach/",component:"vue-auth-attach",name:"attach"}]},{path:"/:page_id/",props:!0,component:"vue-index-main",name:"main",feature:"taplink",children:[{path:"account/",redirect:"account/settings/",name:"account",meta:{title:"Аккаунт"},children:[{path:"profiles/",component:"vue-account-profiles-list",props:!0,name:"profiles",meta:{title:"Мои профили"}},{path:"access/",props:!0,redirect:"access/main/",name:"access",meta:{title:"Совместный доступ"},children:[{path:"main/",component:"vue-account-access-list",props:{part:"main"},name:"access-main"},{path:"shared/",component:"vue-account-access-list",props:{part:"shared"},name:"access-shared"}]},{path:"settings/",component:"vue-account-settings-form",props:!0,name:"account-settings",meta:{title:"Настройки аккаунта"}}]},{path:"pages/",component:"vue-pages-page",props:!0,name:"pages",meta:{title:"Страница",icon_svg:'<path d="M76 160h40a12 12 0 0 0 12-12v-40a12 12 0 0 0-12-12H76a12 12 0 0 0-12 12v40a12 12 0 0 0 12 12zM0 224v208a48 48 0 0 0 48 48h416a48 48 0 0 0 48-48V224z" class="fa-secondary"/><path d="M464 32H48A48 48 0 0 0 0 80v144h512V80a48 48 0 0 0-48-48zM128 148a12 12 0 0 1-12 12H76a12 12 0 0 1-12-12v-40a12 12 0 0 1 12-12h40a12 12 0 0 1 12 12zm320 0a12 12 0 0 1-12 12H188a12 12 0 0 1-12-12v-40a12 12 0 0 1 12-12h248a12 12 0 0 1 12 12z"/>',tariff:"basic",feature:"taplink"}},{path:"statistics/",component:"vue-statistics-list",props:!0,name:"statistics",meta:{title:"Статистика",icon_svg:'<path d="M512 400v32a16 16 0 0 1-16 16H32a32 32 0 0 1-32-32V80a16 16 0 0 1 16-16h32a16 16 0 0 1 16 16v304h432a16 16 0 0 1 16 16z" class="fa-secondary"/><path d="M275.2 96h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8zm-96 128h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8zm288-160h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8zm-96 96h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8z"/>',icon_viewbox:"0 0 562 512",tariff:"basic",access:64,feature:"taplink"}},{path:"billing/",component:"vue-billing-index",props:!0,name:"billing"},{path:"inbox/",component:"vue-inbox-index",props:!0,name:"typebot-inbox",meta:{title:"Диалоги",icon_svg:'<g class="fa-group"><path class="fa-secondary" d="M448 0H64A64.06 64.06 0 0 0 0 64v288a64.06 64.06 0 0 0 64 64h96v84a12 12 0 0 0 19.1 9.7L304 416h144a64.06 64.06 0 0 0 64-64V64a64.06 64.06 0 0 0-64-64zM128 240a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm128 0a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm128 0a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"></path><path class="fa-primary"  d="M384 176a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm-128 0a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm-128 0a32 32 0 1 0 32 32 32 32 0 0 0-32-32z"></path></g>',icon_viewbox:"0 0 512 512",feature:"typebot",submenu:!1}},{path:"chatbots/",component:"vue-chatbots-index",props:!0,name:"chatbots",meta:{title:"Автоматизация",icon_svg:'<path class="fa-secondary" d="M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"></path>',icon_viewbox:"0 0 512 512",feature:"typebot",submenu:!1}},{path:"subscribers/",component:"vue-subscribers-index",props:!0,name:"typebot-subscribers",meta:{title:"Аудитория",icon_svg:'<path d="M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"></path>',icon_viewbox:"0 0 640 512",feature:"typebot1",submenu:!1}},{path:"sales/",redirect:"sales/leads/",props:!0,name:"sales",meta:{title:"Заявки",icon_svg:'<path d="M0 432a48 48 0 0 0 48 48h480a48 48 0 0 0 48-48V256H0zm192-68a12 12 0 0 1 12-12h136a12 12 0 0 1 12 12v40a12 12 0 0 1-12 12H204a12 12 0 0 1-12-12zm-128 0a12 12 0 0 1 12-12h72a12 12 0 0 1 12 12v40a12 12 0 0 1-12 12H76a12 12 0 0 1-12-12zM528 32H48A48 48 0 0 0 0 80v48h576V80a48 48 0 0 0-48-48z" class="fa-secondary"/><path d="M576 256H0V128h576z"/>',icon_viewbox:"0 0 576 512",tariff:"business",feature:"crm",access:4}},{path:"products/",redirect:"products/active/",props:!0,name:"products",meta:{title:"Товары",icon_svg:'<path d="M551.64 286.8a102.1 102.1 0 0 0 16.4-3.6V480a32 32 0 0 1-32 32H88a32 32 0 0 1-32-32V283.2a125.76 125.76 0 0 0 16.4 3.6 134.93 134.93 0 0 0 18 1.2 132.48 132.48 0 0 0 29.5-3.8V384h384v-99.8a126.88 126.88 0 0 0 29.5 3.8 139.07 139.07 0 0 0 18.24-1.2z" class="fa-secondary"/><path d="M605.94 118.6c33.6 53.6 3.8 128-59 136.4a102.81 102.81 0 0 1-13.7.9 99.07 99.07 0 0 1-73.8-33.1 98.82 98.82 0 0 1-147.6 0 98.82 98.82 0 0 1-147.6 0 98.74 98.74 0 0 1-73.8 33.1 103.92 103.92 0 0 1-13.7-.9c-62.6-8.5-92.3-82.9-58.8-136.4L82.84 15a32 32 0 0 1 27.1-15h404A32 32 0 0 1 541 15z"/>',icon_viewbox:"0 0 618 512",tariff:"business",feature:"taplink,products",access:16}},{path:"addons/",redirect:"addons/all/",props:!0,name:"addons",meta:{title:"Модули",icon_svg:'<path d="M12.41 236.31L70.51 210l161.63 73.27a57.64 57.64 0 0 0 47.72 0L441.5 210l58.09 26.33c16.55 7.5 16.55 32.5 0 40L266.64 381.9a25.68 25.68 0 0 1-21.29 0L12.41 276.31c-16.55-7.5-16.55-32.5 0-40z" class="fa-secondary"/><path d="M12.41 148l232.94 105.7a25.61 25.61 0 0 0 21.29 0L499.58 148c16.55-7.51 16.55-32.52 0-40L266.65 2.32a25.61 25.61 0 0 0-21.29 0L12.41 108c-16.55 7.5-16.55 32.52 0 40zm487.18 216.11l-57.87-26.23-161.86 73.37a57.64 57.64 0 0 1-47.72 0L70.29 337.88l-57.88 26.23c-16.55 7.5-16.55 32.5 0 40L245.35 509.7a25.68 25.68 0 0 0 21.29 0l233-105.59c16.5-7.5 16.5-32.5-.05-40z"/>',icon_viewbox:"0 0 582 512",feature:"addons",submenu:!1}},{path:"settings/",redirect:"settings/design/",props:!0,name:"settings",meta:{title:"Настройки",icon_svg:'<path d="M487.75 315.6l-42.6-24.6a192.62 192.62 0 0 0 0-70.2l42.6-24.6a12.11 12.11 0 0 0 5.5-14 249.2 249.2 0 0 0-54.7-94.6 12 12 0 0 0-14.8-2.3l-42.6 24.6a188.83 188.83 0 0 0-60.8-35.1V25.7A12 12 0 0 0 311 14a251.43 251.43 0 0 0-109.2 0 12 12 0 0 0-9.4 11.7v49.2a194.59 194.59 0 0 0-60.8 35.1L89.05 85.4a11.88 11.88 0 0 0-14.8 2.3 247.66 247.66 0 0 0-54.7 94.6 12 12 0 0 0 5.5 14l42.6 24.6a192.62 192.62 0 0 0 0 70.2l-42.6 24.6a12.08 12.08 0 0 0-5.5 14 249 249 0 0 0 54.7 94.6 12 12 0 0 0 14.8 2.3l42.6-24.6a188.54 188.54 0 0 0 60.8 35.1v49.2a12 12 0 0 0 9.4 11.7 251.43 251.43 0 0 0 109.2 0 12 12 0 0 0 9.4-11.7v-49.2a194.7 194.7 0 0 0 60.8-35.1l42.6 24.6a11.89 11.89 0 0 0 14.8-2.3 247.52 247.52 0 0 0 54.7-94.6 12.36 12.36 0 0 0-5.6-14.1zm-231.4 36.2a95.9 95.9 0 1 1 95.9-95.9 95.89 95.89 0 0 1-95.9 95.9z" class="fa-secondary"/><path d="M256.35 319.8a63.9 63.9 0 1 1 63.9-63.9 63.9 63.9 0 0 1-63.9 63.9z"/>',tariff:"basic",access:128}},{path:"partner/",redirect:"partner/statistics/",component:"vue-partner-index",props:!0,name:"partner",meta:{title:"Партнерская программа",submenu:!1}},{path:"manager/",redirect:"manager/profiles/",props:!0,name:"manager"}]}]}]),window.$app.defineComponent("blocks","vue-blocks-flipclock-countdown",{props:{countdown:Number,withDays:{type:Boolean,default:!0}},data:function(){return{timer:0,time:null,i:0,trackers:["hours","minutes","seconds"],titles:{},numbers:[0,1],frame:null}},beforeDestroy:function(){window.cancelAnimationFrame&&cancelAnimationFrame(this.frame),this.timer&&clearInterval(this.timer)},created:function(){var e=this;this.titles={days:this.$gettext("Дни"),hours:this.$gettext("Часы"),minutes:this.$gettext("Минуты"),seconds:this.$gettext("Секунды")},this.withDays&&this.trackers.unshift("days"),this.timer=setInterval(function(){e.countdown&&e.countdown--},1e3),window.requestAnimationFrame&&this.update()},methods:{split:function(e){return[e/10|0,e%10]},update:function(){if(this.frame=requestAnimationFrame(this.update.bind(this)),!(this.i++%10)){var e=this.countdown,t=Math.floor(e/86400);e-=86400*t;var i=Math.floor(e/3600);e-=3600*i;var n=Math.floor(e/60);e-=60*n,this.time={days:this.split(t),hours:this.split(i),minutes:this.split(n),seconds:this.split(e)}}}},template:'<div class="flipclock"> <div v-for="tracker in trackers"> <span class="flipclock__slot">{{titles[tracker]}}</span> <div v-if="time"> <vue-blocks-flipclock-tracker :time="time[tracker][i]" v-ref:trackers v-for="i in numbers"></vue-blocks-flipclock-tracker> <div class="flipclock-dots"><em></em><em></em></div> </div> </div> </div>'}),window.$app.defineComponent("blocks","vue-blocks-flipclock-tracker",{props:["time"],data:function(){return{current:null,previous:null}},created:function(){this.update(this.time)},watch:{time:function(e){void 0!==e&&this.update(e)}},methods:{update:function(e){var t=e;(t=t<0?0:t)===this.current&&null!==this.current||(this.previous=null===this.previous?t:this.current,this.current=t,this.$el&&(this.$el.classList.remove("flip"),this.$el.offsetWidth,this.$el.classList.add("flip")))}},template:'<span class="flipclock__piece"> <span class="flipclock__card flip-card"> <b class="flip-card__top">{{current}}</b> <b class="flip-card__bottom" :data-value="current"></b> <b class="flip-card__back" :data-value="previous"></b> <b class="flip-card__back-bottom" :data-value="previous"></b> </span> </span>'});
